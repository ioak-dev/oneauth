{"version":3,"sources":["images/ioak_white.svg","images/ioak_black.svg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/SpaceReducer.ts","reducers/OaRoleReducer.ts","reducers/OaUserReducer.ts","reducers/AppReducer.ts","reducers/AppSpaceReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","actions/AuthActions.ts","oakui/OakTextPlain.tsx","components/Utils.ts","oakui/icons/SendIcon.tsx","oakui/icons/IoakIcon.tsx","oakui/OakIcon.tsx","oakui/OakButton.tsx","components/Lib/RestTemplate.ts","components/Login/space/NewUser.tsx","components/Constants.ts","components/Login/space/SigninPage.tsx","oakui/OakSpinner.tsx","components/Login/space/VerifySession.tsx","components/Login/space/ResetPassword.tsx","components/Login/SpaceLogin.tsx","actions/ProfileActions.ts","components/Notification/NotificationMessage.tsx","components/Notification/index.tsx","components/Navigation/OaLinks.tsx","components/Navigation/SpaceLinks.tsx","oakui/OakAvatar.tsx","oakui/OakPopoverMenu.tsx","components/Navigation/Desktop.tsx","events/SearchEvent.ts","oakui/SearchBar.tsx","components/Navigation/Mobile.tsx","oakui/OakModal.tsx","oakui/OakTab.tsx","oakui/OakText.tsx","components/Navigation/ProfileSettings.tsx","components/Navigation/index.tsx","actions/SpaceActions.ts","actions/AppActions.ts","actions/OaUserAction.ts","actions/OaRoleActions.ts","actions/AppSpaceAction.ts","components/Login/OaLogin.tsx","components/Auth/OakRoute.tsx","oakui/OakPrompt.tsx","components/ManageApp/Member.tsx","oakui/OakAutoComplete.tsx","components/ManageSpace/EditAdministrators.tsx","components/ManageSpace/EditSpace.tsx","components/ManageSpace/SpaceItem.tsx","components/ManageSpace/index.tsx","components/ManageApp/EditAdministrators.tsx","oakui/OakCheckbox.tsx","components/ManageApp/EditApp.tsx","components/ManageApp/AppDetails.tsx","components/ManageApp/MapSpaceItem.tsx","components/ManageApp/MapSpace.tsx","components/ManageApp/AppItem.tsx","components/ManageApp/index.tsx","components/SpaceHome/index.tsx","components/SpacePages/TestPage/index.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.js","index.tsx","images/mirror_white_small.svg"],"names":["module","exports","initialState","isAuth","email","firstName","lastName","theme","textSize","themeColor","tenant","appStatus","data","combineReducers","authorization","state","action","type","console","log","payload","token","profile","space","app","oaUsers","oaRoles","appSpace","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","subject","Subject","sendMessage","name","signal","next","receiveMessage","asObservable","newId","uuidv4","Home","props","useEffect","className","getAuth","dispatch","addAuth","removeAuth","OakTextPlain","label","htmlFor","id","multiline","disabled","autoComplete","errorFields","value","onChange","handleChange","onFocus","handleFocus","placeholder","isEmptyOrSpaces","str","match","SendIcon","version","x","y","viewBox","enableBackground","style","dimension","transform","d","IoakIcon","fill","points","accent","width","height","stroke","strokeWidth","strokeMiterlimit","cx","cy","r","OakIcon","getStyle","colorVar","chosenColor","color","getDimension","fontSize","size","svg","mat","fa","OakButton","variant","children","invert","small","align","onClick","icon","baseUrl","process","httpGet","endpoint","headers","axios","get","httpPost","post","httpPut","put","httpDelete","delete","connect","withCookies","useState","password","repeatpassword","resetCode","setData","errors","setErrors","signupAction","event","preventDefault","baseAuthUrl","isSpaceLogin","errorState","error","test","then","response","status","message","duration","switchToSigninPage","catch","e","finally","currentTarget","method","onSubmit","noValidate","constants","API_URL_TENANT","API_URL_TENANT_BANNER","API_URL_TENANT_CREATE","API_TENANT_URL","API_URL_PRESIGNUP","API_URL_RESET","API_URL_CODE","API_URL_USER_DETAILS","API_URL_STAGE","API_URL_PREDICT","API_URL_ARTICLE","API_URL_CATEGORY","API_URL_FAQ","API_URL_SR","API_URL_USER","API_URL","API_SIGNIN","API_SIGNUP","API_KEYS","API_JWT","API_SPACE_CREATE","API_SPACE_FETCH","API_SPACE_DELETE","API_APP_FETCH","API_APP_DELETE","API_ROLE_FETCH","API_APP_SPACE","useDispatch","useSelector","signinAction","authorizeResponse","auth_key","sessionResponse","appId","cookies","set","redirectToRequestedApp","success","Authorization","appResponse","window","location","href","redirect","history","push","switchToResetPage","switchToSignupPage","OakSpinner","VerifySession","stage","setStage","requestLink","resetPassword","includes","queryString","require","setType","setResetCode","setAppId","verificationStep","setVerificationStep","appIdRef","search","query","parse","auth","authKey","redirectToRequestedAppIfTokenIsValid","remove","src","mirrorBlack","alt","mirrorWhite","getProfile","setProfile","NotificationMessage","notification","handleRemove","Notification","spinner","setSpinner","notificationList","setNotificationList","removeNotification","notificationData","filter","item","eventBus","subscribe","localCopy","unshift","setTimeout","addNotification","unsubscribe","length","slice","reverse","map","key","data-test","OaLinks","to","activeClassName","SpaceLinks","OakAvatar","substring","showName","OakPopoverMenu","show","setShow","slots","setSlots","initializeViews","newSlots","React","Children","toArray","forEach","node","slot","addEventListener","document","getElementById","contains","target","toggle","labelVariant","mobilize","labelStyle","iconLeft","iconRight","right","dropdownContentStyle","elements","element","v-for","Desktop","setShowSearchBar","userProfileActions","setUserProfileActions","editProfile","logout","signin","login","transparent","searchTextChangedEvent$","BehaviorSubject","searchEvent$","SearchBar","searchText","setSearchText","searchTextChangedEventListener","spellCheck","autoFocus","required","xmlns","Mobile","showSearchBar","menu","toggleMenu","mirrorWhiteSmall","OakModal","visible","setVisible","escFunction","removeEventListener","keyCode","toggleVisibility","getmodalStyle","noheader","fullscreen","donotMobilize","OakTab","activeTab","setActiveTab","meta","slotName","switchTab","tab","OakText","ProfileSettings","oldPassword","newPassword","repeatPassword","passwordData","setPasswordData","handlePasswordChange","userId","withRouter","mobilemenu","chooseTheme","showSettings","transparentNavBar","firstLoad","showNavbar","editProfileDialog","setSpace","toggleDarkMode","toggleSettings","fetchSpace","fetchApp","fetchUsers","fetchRoles","updateRoles","fetchAppSpace","existingAdmins","OakRoute","runMidleware","middlewareName","readAuthenticationSpace","readAuthenticationOa","authenticateSpace","authenticateOa","isAdmin","authenticate","params","cookieKey","secret","redirectToSpaceLogin","redirectToOaLogin","redirectToUnauthorized","spaceId","middlewares","component","OakPrompt","text","Member","confirmPromptOpen","setConfirmPromptOpen","member","_id","owner","domainId","deleteRoles","domainType","OakAutoComplete","searchOn","setSearchOn","criteria","setCriteria","undefined","dropdownFiltered","setDropdownFiltered","updateSearchResults","objects","searchCriteria","toLowerCase","EditAdministrators","items","setItems","autoCompleteDropdownData","oaRole","oaUser","diff","arr","arr2","ret","item1","indexOf","list","adminList","val","some","toggleVisibilityHandler","EditSpace","days","hours","minutes","spaceData","setSpaceData","validateEmptyText","updateSpace","SpaceItem","editDialogOpen","setEditDialogOpen","adminDialogOpen","setAdminDialogOpen","deleteDialogOpen","setDeleteDialogOpen","countOfAdmins","setCountofAdmins","countOfApps","setCountOfApps","connectedApp","editAdmin","actionElements","deleteSpace","ManageSpace","dialogOpen","setDialogOpen","setSearchCriteria","view","setView","spaceList","createdBy","OakCheckbox","checked","EditApp","protected","appData","setAppData","updateApp","AppDetails","jwtpassword","MapSpaceItem","appSpaceItem","deleteAppSpace","MapSpace","oaSpace","existingSpacelist","availableSpaceList","updateAppSpace","AppItem","detailsDialogOpen","setDetailsDialogOpen","spaceMapDialogOpen","setSpaceMapDialogOpen","countOfSpaces","setCountOfSpaces","connectedSpace","editApp","confirmDeleteApp","deleteApp","ManageApp","appList","SpaceHome","TestPage","themes","themecolor1","getTheme","themecolor2","themecolor3","themecolor4","createMuiTheme","palette","primary","main","secondary","user","exact","path","render","propsLocal","SpaceLogin","OaLogin","App","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gZAAAA,EAAOC,QAAU,IAA0B,wC,yCCA3CD,EAAOC,QAAU,IAA0B,wC,ucCErCC,EAAe,CACnBC,QAAQ,EACRC,MAAO,GACPC,UAAW,GACXC,SAAU,ICJNJ,EAAe,CACnBK,MAAO,aACPC,SAAU,kBACVC,WAAY,cACZC,OAAQ,GACRC,UAAW,cCLPT,EAAe,CACnBU,KAAM,ICDFV,EAAe,CACnBU,KAAM,ICDFV,EAAe,CACnBU,KAAM,ICDFV,EAAe,CACnBU,KAAM,ICDFV,EAAe,CACnBU,KAAM,ICMOC,cAAgB,CAC7BC,cPDa,WAAwC,IAA/BC,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IQXoB,WRalB,OADAC,QAAQC,IAAI,oBACL,eACFJ,GAEP,IQfoB,WRiBlB,OADAG,QAAQC,IAAI,oBACL,eACFJ,EADL,GAEKC,EAAOI,SAGd,IQrBuB,cRuBrB,OADAF,QAAQC,IAAI,uBACL,eACFJ,EADL,CAEEZ,QAAQ,EACRE,UAAW,GACXC,SAAU,GACVF,MAAO,GACPiB,MAAO,KAEX,QACE,OAAON,IOvBXO,QNDa,WAAwC,IAA/BP,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IORuB,cPUrB,OADAC,QAAQC,IAAI,uBACL,eACFJ,GAEP,IOZuB,cPcrB,OADAG,QAAQC,IAAI,uBACL,eACFJ,EADL,GAEKC,EAAOI,SAEd,QACE,OAAOL,IMZXQ,MLNa,WAAwC,IAA/BR,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IMOwB,eNLtB,OADAC,QAAQC,IAAI,qBACL,eACFJ,EADL,GAEKC,EAAOI,SAEd,QACE,OAAOL,IKFXS,IFPa,WAAwC,IAA/BT,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IGQsB,aHNpB,OADAC,QAAQC,IAAI,mBACL,eACFJ,EADL,GAEKC,EAAOI,SAEd,QACE,OAAOL,IEDXU,QHRa,WAAwC,IAA/BV,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IIK2B,kBJHzB,OADAC,QAAQC,IAAI,qBACL,eACFJ,EADL,GAEKC,EAAOI,SAEd,QACE,OAAOL,IGAXW,QJTa,WAAwC,IAA/BX,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IKUuB,cLRrB,OADAC,QAAQC,IAAI,qBACL,eACFJ,EADL,GAEKC,EAAOI,SAEd,QACE,OAAOL,IICXY,SDVa,WAAwC,IAA/BZ,EAA8B,uDAAtBb,EAAcc,EAAQ,uCACpD,OAAQA,EAAOC,MACb,IEW4B,mBFT1B,OADAC,QAAQC,IAAI,qBACL,eACFJ,EADL,GAEKC,EAAOI,SAEd,QACE,OAAOL,MGTPa,EAAa,CAACC,KAWLC,EATDC,YACZC,EALmB,GAOnBC,YACEC,IAAe,WAAf,EAAmBN,K,6ECRjBO,EAAU,IAAIC,IAEb,SAASC,EAAYC,GAAyC,IAA3BC,IAA0B,yDAAX3B,EAAW,uCAClEuB,EAAQK,KAAK,CACXF,OACAC,SACA3B,SAQG,SAAS6B,IACd,OAAON,EAAQO,eAOV,SAASC,IACd,OAAOC,eClBT,IAqbeC,EArbF,SAACC,GAIZ,OAHAC,qBAAU,WACRV,EAAY,UAAU,KACrB,IAED,yBAAKW,UAAU,aACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,gCAAf,8BAGA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,+kBA4DA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,+kBA4DA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,+kBA4DA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,+kBA4DA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,+kBA4DA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,+kBA4DA,yBAAKA,UAAU,gBAAf,o1BAcE,6BACA,6BAfF,8lBA0BE,6BACA,6BA3BF,klBAqCE,6BACA,6BAtCF,+gBAgDE,6BACA,6BAjDF,mlB,OC1XGC,EAAU,kBAAM,SAAAC,GAC3BA,EAAS,CACPjC,KJJoB,eIQXkC,EAAU,SAAAvC,GAAI,OAAI,SAAAsC,GAC7BA,EAAS,CACPjC,KJToB,WIUpBG,QAASR,MAIAwC,EAAa,kBAAM,SAAAF,GAC9BA,EAAS,CACPjC,KJfuB,kB,kDK6DZoC,G,aA/CM,SAACP,GAMpB,OACE,yBAAKE,UAAU,kBACZF,EAAMQ,OAAS,2BAAOC,QAAST,EAAMU,IAAKV,EAAMQ,QAC/CR,EAAMW,WACN,2BACEC,SAAUZ,EAAMY,SAChBC,aAAa,MACbX,WACGF,EAAMc,aAAed,EAAMc,YAAYd,EAAMU,IAAM,QAAU,KAC7DV,EAAMY,SAAW,YAAc,IAElCzC,KAAM6B,EAAM7B,KAAO6B,EAAM7B,KAAO,OAChCqB,KAAMQ,EAAMU,GACZA,GAAIV,EAAMU,GACVK,MAAOf,EAAMlC,KAAKkC,EAAMU,IACxBM,SAAUhB,EAAMiB,aAChBC,QArBY,WACdlB,EAAMmB,aACRnB,EAAMmB,eAoBFC,YAAapB,EAAMoB,cAItBpB,EAAMW,WACL,8BACEC,SAAUZ,EAAMY,SAChBV,WACGF,EAAMc,aAAed,EAAMc,YAAYd,EAAMU,IAAM,QAAU,KAC7DV,EAAMY,SAAW,YAAc,IAElCF,GAAIV,EAAMU,GACVlB,KAAMQ,EAAMU,GACZK,MAAOf,EAAMlC,KAAKkC,EAAMU,IACxBM,SAAUhB,EAAMiB,kBCrDnB,SAASI,EAAgBC,GAC9B,OAAe,OAARA,GAAsC,OAAtBA,EAAIC,MAAM,Q,kBCwCpBC,EAlCE,SAACxB,GAChB,OACE,yBACEyB,QAAQ,MACRf,GAAG,UACHgB,EAAE,MACFC,EAAE,MACFC,QAAQ,YACRC,iBAAiB,gBACjBC,MAAO9B,EAAM+B,WAEb,uBAAGrB,GAAG,gBACJ,uBACEA,GAAG,8BACHsB,UAAU,yCAEV,uBAAGtB,GAAG,eAAesB,UAAU,sCAC7B,uBAAGtB,GAAG,cAAcsB,UAAU,oCAC5B,uBAAGtB,GAAG,WACJ,0BACEoB,MAAO9B,EAAM8B,MACbG,EAAE,0SCcLC,EAnCE,SAAClC,GAChB,OACE,yBAAK4B,QAAQ,YAAYE,MAAO9B,EAAM+B,WACpC,6BACEI,KAAK,UACLC,OAAO,6CAET,2BACE,0BACED,KAAK,UACLF,EAAE,gIAEFH,MAAO9B,EAAMqC,SAEf,0BAAMX,EAAE,KAAKC,EAAE,OAAOW,MAAM,MAAMC,OAAO,OAAOT,MAAO9B,EAAM8B,QAC7D,4BACEK,KAAK,OACLK,OAAO,UACPC,YAAY,OACZC,iBAAiB,KACjBC,GAAG,OACHC,GAAG,OACHC,EAAE,OACFf,MAAK,eAAO9B,EAAM8B,MAAb,CAAoBK,KAAM,WAEjC,6BACEA,KAAK,UACLC,OAAO,+CAET,4BAAQO,GAAG,OAAOC,GAAG,OAAOC,EAAE,MAAMf,MAAO9B,EAAM8B,WCwD1CgB,EA5EC,SAAC9C,GACf,IAAM+C,EAAW,SAAAC,GACf,IAAMlB,EAAa,GACfmB,EAAc,GAClB,OAAQD,GACN,IAAK,UACHC,EAAc,yBACd,MACF,IAAK,YACHA,EAAc,2BACd,MACF,IAAK,WACHA,EAAc,0BACd,MACF,IAAK,UACHA,EAAc,uBACd,MACF,IAAK,UACHA,EAAc,uBACd,MACF,IAAK,UACHA,EAAc,uBACd,MACF,QACEA,EAAcD,GAAY,4BAK9B,OAHAlB,EAAMK,KAAOc,EACbnB,EAAMoB,MAAQD,EACdnB,EAAMU,OAASS,EACRnB,GAEHqB,EAAe,WACnB,IAAMpB,EAAiB,GAMvB,OALAA,EAAUqB,SAAWpD,EAAMqD,KAAOrD,EAAMqD,KAAO,OAC3CrD,EAAMsD,MACRvB,EAAUQ,OAASvC,EAAMqD,KAAOrD,EAAMqD,KAAO,OAC7CtB,EAAUO,MAAQ,QAEbP,GAET,OACE,yBAAK7B,UAAU,YACZF,EAAMuD,KACL,uBACErD,UAAU,iBACV4B,MAAK,eAAOiB,EAAS/C,EAAMkD,OAAtB,GAAiCC,MAErCnD,EAAMuD,KAGVvD,EAAMwD,IACL,uBACEtD,UAAS,4BAAuBF,EAAMwD,IACtC1B,MAAK,eAAOiB,EAAS/C,EAAMkD,OAAtB,GAAiCC,MAErCnD,EAAMuD,KAGVvD,EAAMsD,KAAqB,SAAdtD,EAAMsD,KAClB,kBAAC,EAAD,CACExB,MAAOiB,EAAS/C,EAAMkD,OACtBb,OAAQrC,EAAMqC,QAAUU,EAAS/C,EAAMqC,QACvCN,UAAWoB,MAGdnD,EAAMsD,KAAqB,SAAdtD,EAAMsD,KAClB,kBAAC,EAAD,CACExB,MAAOiB,EAAS/C,EAAMkD,OACtBb,OAAQrC,EAAMqC,QAAUU,EAAS/C,EAAMqC,QACvCN,UAAWoB,QC7BNM,EA/BG,SAACzD,GAkBjB,OAEE,4BAAQE,UAAS,qBAnBF,WACf,IAAI4B,EAAQ9B,EAAMvC,MAAQuC,EAAMvC,MAAQ,GAaxC,OAZAqE,GAAS9B,EAAM0D,QAAN,WAAoB1D,EAAM0D,SAAY,GAE1C1D,EAAM2D,WACT7B,GAAS,SAGXA,GAAS9B,EAAM4D,OAAS,UAAY,GAEpC9B,GAAS9B,EAAM6D,MAAQ,SAAW,GAElC/B,GAAS9B,EAAM8D,MAAN,iBAAwB9D,EAAM8D,OAAU,GAOhBf,IAAcgB,QAAS/D,EAAM9B,QAC5D,yBAAKgC,UAAU,0BACZF,EAAMgE,MAAQ,kBAAC,EAAD,CAAST,IAAKvD,EAAMgE,KAAMX,KAAK,UAC7CrD,EAAMwD,IAAM,kBAAC,EAAD,CAASA,GAAIxD,EAAMwD,GAAIH,KAAK,UACxCrD,EAAMsD,KAAO,kBAAC,EAAD,CAASA,IAAKtD,EAAMsD,IAAKD,KAAK,UAC3CrD,EAAM2D,UAAY3D,EAAM2D,Y,iBChD3BM,EAAUC,uCAET,SAASC,EAAQC,EAAkBC,GACxC,OAAOC,IAAMC,IAAIN,EAAUG,EAAUC,GAOhC,SAASG,EAASJ,EAAkB9F,EAAc+F,GACvD,OAAOC,IAAMG,KAAKR,EAAUG,EAAU9F,EAAS+F,GAO1C,SAASK,EAAQN,EAAkB9F,EAAc+F,GACtD,OAAOC,IAAMK,IAAIV,EAAUG,EAAU9F,EAAS+F,GAOzC,SAASO,GAAWR,EAAkBC,GAC3C,OAAOC,IAAMO,OAAOZ,EAAUG,EAAUC,GCA1C,IAgOeS,gBAJS,SAAA7G,GAAK,MAAK,CAChCD,cAAeC,EAAMD,iBAGiB,CAAEmC,UAASE,UAASC,cAA7CwE,CACbC,aAjOc,SAAC/E,GAAkB,IAAD,EACRgF,mBAAS,CAC/BzH,UAAW,GACXC,SAAU,GACVF,MAAO,GACP2H,SAAU,GACVC,eAAgB,GAChBC,UAAW,KAPmB,mBACzBrH,EADyB,KACnBsH,EADmB,OAUJJ,mBAAS,CACnCzH,UAAW,GACXC,SAAU,GACVF,MAAO,GACP2H,SAAU,GACVC,eAAgB,KAfc,mBAUzBG,EAVyB,KAUjBC,EAViB,OAkBNN,mBAAS,eAlBH,mBAoB1BO,GApB0B,UAoBX,SAAAC,GACnBA,EAAMC,iBACN,IAAIC,EAAc,QACd1F,EAAM2F,eACRD,EAAW,gBAAY1F,EAAMvB,QAE/B,IAAMmH,EAAa,CACjBrI,UAAW,GACXC,SAAU,GACVF,MAAO,GACP2H,SAAU,GACVC,eAAgB,IAEdW,GAAQ,EACZtG,EAAY,gBAAgB,GAC5BA,EAAY,WACR8B,EAAgBvD,EAAKP,aACvBsI,GAAQ,EACRD,EAAWrI,UAAY,mBAErB8D,EAAgBvD,EAAKN,YACvBqI,GAAQ,EACRD,EAAWpI,SAAW,mBAEpB6D,EAAgBvD,EAAKR,SACvBuI,GAAQ,EACRD,EAAWtI,MAAQ,mBAEhB,gDAAgDwI,KAAKhI,EAAKR,SAC7DuI,GAAQ,EACRD,EAAWtI,MAAQ,iBAEjB+D,EAAgBvD,EAAKmH,YACvBY,GAAQ,EACRD,EAAWX,SAAW,mBAEpBnH,EAAKmH,WAAanH,EAAKoH,iBACzBW,GAAQ,EACRD,EAAWV,eAAiB,2BAEzBW,GA4CHP,EAAUM,GACVrG,EAAY,WAAW,IA5CvBiF,EAAS,GAAD,OACHkB,EADG,WAEN,CACEnI,UAAWO,EAAKP,UAChBC,SAAUM,EAAKN,SACfF,MAAOQ,EAAKR,MACZ2H,SAAUnH,EAAKmH,UAEjB,MAECc,MAAK,SAACC,GACmB,MAApBA,EAASC,QACX1G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,8BACTC,SAAU,MAEZnG,EAAMoG,sBAEN7G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,gBACTC,SAAU,SAIfE,OAAM,SAAAC,GACqB,MAAtBA,EAAEN,SAASC,QACbJ,GAAQ,EACRD,EAAWtI,MAAQ,+BAEnBiC,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,gBACTC,SAAU,SAIfI,SAAQ,WACPjB,EAAUM,GACVrG,EAAY,WAAW,QAQzB0B,EAAe,SAAAuE,GACnBJ,EAAQ,eAAKtH,EAAN,eAAa0H,EAAMgB,cAAchH,KAAOgG,EAAMgB,cAAczF,UAGrE,OACE,0BAAM0F,OAAO,MAAMC,SAAUnB,EAAcoB,YAAU,EAACzG,UAAU,SAC9D,yBAAKA,UAAU,eACb,6BACE,yBAAKA,UAAU,UACXmF,EAAO9H,WAAa,yBAAK2C,UAAU,cAAf,cACrBmF,EAAO9H,WACN,yBAAK2C,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAO9H,YAId,kBAAC,EAAD,CACEmD,GAAG,YACH5C,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,OAGpC,6BACE,yBAAKpG,UAAU,UACXmF,EAAO7H,UAAY,yBAAK0C,UAAU,cAAf,aACpBmF,EAAO7H,UACN,yBAAK0C,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAO7H,WAId,kBAAC,EAAD,CACEkD,GAAG,WACH5C,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,OAGpC,6BACE,yBAAKpG,UAAU,UACXmF,EAAO/H,OAAS,yBAAK4C,UAAU,cAAf,UACjBmF,EAAO/H,OACN,yBAAK4C,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAO/H,QAId,kBAAC,EAAD,CACEoD,GAAG,QACHU,YAAY,qBACZtD,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,OAGpC,6BACE,yBAAKpG,UAAU,UACXmF,EAAOJ,UAAY,yBAAK/E,UAAU,cAAf,YACpBmF,EAAOJ,UACN,yBAAK/E,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAOJ,WAId,kBAAC,EAAD,CACE9G,KAAK,WACLuC,GAAG,WACHU,YAAY,2BACZtD,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,OAGpC,6BACE,yBAAKpG,UAAU,UACXmF,EAAOH,gBACP,yBAAKhF,UAAU,cAAf,mBAEDmF,EAAOH,gBACN,yBAAKhF,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAOH,iBAId,kBAAC,EAAD,CACE/G,KAAK,WACLuC,GAAG,iBACHU,YAAY,kBACZtD,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,QAKtC,yBAAKpG,UAAU,UACb,kBAAC,EAAD,CAAWwD,QAAQ,UAAUjG,MAAM,UAAUS,OAAQqH,GAArD,kBAGA,uBAAGrF,UAAU,MAAb,MACA,yBAAKA,UAAU,eACb,yBAAKA,UAAU,OAAO6D,QAAS/D,EAAMoG,oBAArC,iBC9MKQ,I,YAlCG,CAChBC,eAAgB,UAChBC,sBAAuB,iBACvBC,sBAAuB,iBACvBC,eAAgB,kBAEhBC,kBAAmB,aACnBC,cAAe,cACfC,aAAc,sBACdC,qBAAsB,gBAEtBC,cAAe,SACfC,gBAAiB,iBAEjBC,gBAAiB,WACjBC,iBAAkB,YAClBC,YAAa,OACbC,WAAY,mBACZC,aAAc,QACdC,QAAS,SACTC,WAAY,UACZC,WAAY,UACZC,SAAU,QACVC,QAAS,cAETC,iBAAkB,gBAClBC,gBAAiB,SACjBC,iBAAkB,gBAClBC,cAAe,OACfC,eAAgB,cAChBC,eAAgB,QAChBC,cAAe,cCGjB,IA6PezD,gBAJS,SAAA7G,GAAK,MAAK,CAChCD,cAAeC,EAAMD,iBAGiB,CAAEmC,UAASE,WAApCyE,CACbC,aA9PiB,SAAC/E,GACDwI,cACDC,aAAY,SAAAxK,GAAK,OAAIA,EAAMO,WAD3C,IADmC,EAGXwG,mBAAS,CAC/B1H,MAAO,GACP2H,SAAU,KALuB,mBAG5BnH,EAH4B,KAGtBsH,EAHsB,OAQPJ,mBAAS,CACnC1H,MAAO,GACP2H,SAAU,KAVuB,mBAQ5BI,EAR4B,KAQpBC,EARoB,KAa7BoD,EAAe,SAAAlD,GACnBA,EAAMC,iBACN,IAAIC,EAAc,QACd1F,EAAM2F,eACRD,EAAW,gBAAY1F,EAAMvB,QAE/B,IAAMmH,EAAa,CACjBtI,MAAO,GACP2H,SAAU,IAERY,GAAQ,EACZtG,EAAY,gBAAgB,GAC5BA,EAAY,WACR8B,EAAgBvD,EAAKR,QACvBuI,GAAQ,EACRD,EAAWtI,MAAQ,mBAElB,gDAAgDwI,KAAKhI,EAAKR,SAE3DuI,GAAQ,EACRD,EAAWtI,MAAQ,iBAEjB+D,EAAgBvD,EAAKmH,YACvBY,GAAQ,EACRD,EAAWX,SAAW,mBAEnBY,GA8DHP,EAAUM,GACVrG,EAAY,WAAW,IA9DvBiF,EAAS,GAAD,OACHkB,EADG,cAEN,CACEpI,MAAOQ,EAAKR,MACZ2H,SAAUnH,EAAKmH,UAEjB,MAECc,MAAK,SAAC4C,GAC4B,MAA7BA,EAAkB1C,QACpB9B,EAAQ,GAAD,OACFuB,EADE,oBACqBiD,EAAkB7K,KAAK8K,UACjD,MAEC7C,MAAK,SAAA8C,GAC2B,MAA3BA,EAAgB5C,SAClB7H,QAAQC,IAAIwK,GACZtJ,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,cAEPlG,EAAM2F,cAAgB3F,EAAM8I,OAC9B9I,EAAM+I,QAAQC,IACZhJ,EAAMvB,MACNkK,EAAkB7K,KAAK8K,UAEzBK,EAAuBN,EAAmBE,IAE1CK,EAAQP,EAAmBE,OAIhCxC,OAAM,SAACR,GACwB,MAA1BA,EAAMG,SAASC,OACjB1G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,wBACTC,SAAU,MAEuB,MAA1BN,EAAMG,SAASC,QACxB1G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,kBACTC,SAAU,YAMrBE,OAAM,SAACR,GACwB,MAA1BA,EAAMG,SAASC,OACjBL,EAAWtI,MAAQ,8BACgB,MAA1BuI,EAAMG,SAASC,SACxBL,EAAWX,SAAW,yBAGzBsB,SAAQ,WACPjB,EAAUM,GACVrG,EAAY,WAAW,OAQzB0J,EAAyB,SAACN,EAAmBE,GACjD1E,EAAQ,QAAD,OAASnE,EAAM8I,OAAS,CAC7BzE,QAAS,CACP8E,cAAeN,EAAgB/K,KAAKS,SAErCwH,MAAK,SAAAqD,GACNC,OAAOC,SAASC,KAAhB,UAA0BH,EAAYtL,KAAKA,KAAK0L,SAAhD,oBAAoEb,EAAkB7K,KAAK8K,SAA3F,kBAA6G5I,EAAMvB,WAsDjHwC,EAAe,SAAAuE,GACnBJ,EAAQ,eAAKtH,EAAN,eAAa0H,EAAMgB,cAAchH,KAAOgG,EAAMgB,cAAczF,UAG/DmI,EAAU,SAACP,EAAmBE,GAClCtJ,EAAY,YAAY,GACpBS,EAAM2F,cACR3F,EAAM+I,QAAQC,IAAIhJ,EAAMvB,MAAOkK,EAAkB7K,KAAK8K,UACtD5I,EAAMyJ,QAAQC,KAAd,iBAA6B1J,EAAMvB,MAAnC,UACAc,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,qBACTC,SAAU,QAOZnG,EAAM+I,QAAQC,IAAI,UAAWL,EAAkB7K,KAAK8K,UACpD5I,EAAMyJ,QAAQC,KAAK,KACnBnK,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,uBACTC,SAAU,QAKhB,OACE,0BAAMM,OAAO,MAAMC,SAAUgC,EAAc/B,YAAU,EAACzG,UAAU,SAC9D,yBAAKA,UAAU,eACb,6BACE,yBAAKA,UAAU,UACXmF,EAAO/H,OAAS,yBAAK4C,UAAU,cAAf,SACjBmF,EAAO/H,OACN,yBAAK4C,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAO/H,QAId,kBAAC,EAAD,CACEoD,GAAG,QACH5C,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,OAGpC,6BACE,yBAAKpG,UAAU,UACXmF,EAAOJ,UAAY,yBAAK/E,UAAU,cAAf,YACpBmF,EAAOJ,UACN,yBAAK/E,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAOJ,UAGZ,yBAAK/E,UAAU,OAAO6D,QAAS/D,EAAM2J,mBAArC,qBAIF,kBAAC,EAAD,CACEjJ,GAAG,WACH5C,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,QAItC,yBAAKpG,UAAU,UACb,kBAAC,EAAD,CAAWwD,QAAQ,UAAUjG,MAAM,UAAUS,OAAQwK,GAArD,UAGA,uBAAGxI,UAAU,MAAb,MACA,yBAAKA,UAAU,eACb,yBAAKA,UAAU,OAAO6D,QAAS/D,EAAM4J,oBAArC,4BCjQKC,I,OAdI,WACjB,OACE,yBAAK3J,UAAU,eACb,yBAAKA,UAAU,mBACb,+BACA,+BACA,+BACA,+BACA,mCCIO4J,GAXO,WACpB,OACE,yBAAK5J,UAAU,gCACb,kDACA,6BACE,kBAAC,GAAD,SCkSO4E,gBAJS,SAAA7G,GAAK,MAAK,CAChCD,cAAeC,EAAMD,iBAGiB,CAAEmC,UAASE,UAASC,cAA7CwE,CACbC,aA9QoB,SAAC/E,GAAkB,IAAD,EACdgF,mBAAS,CAC/B1H,MAAO,GACP2H,SAAU,GACVC,eAAgB,KAJoB,mBAC/BpH,EAD+B,KACzBsH,EADyB,OAOZJ,mBAAS,eAPG,mBAO/B+E,EAP+B,KAOxBC,EAPwB,KAUtC/J,qBAAU,WACR,GAAID,EAAMmF,UAAW,CACnB,IAAIO,EAAc,QACd1F,EAAM2F,eACRD,EAAW,gBAAY1F,EAAMvB,QAE/B+F,EAAS,GAAD,OACHkB,EADG,+BAC+B1F,EAAMmF,WAC3C,CACEF,SAAUnH,EAAKmH,UAEjB,MAECc,MAAK,SAACC,GACmB,MAApBA,EAASC,OACX+D,EAAS,eAETA,EAAS,kBAGZ3D,OAAM,WACL2D,EAAS,qBAGd,IAlCmC,MAoCVhF,mBAAS,CACnC1H,MAAO,GACP2H,SAAU,GACVC,eAAgB,KAvCoB,mBAoC/BG,EApC+B,KAoCvBC,EApCuB,KA0ChC2E,EAAc,SAAAzE,GAClBA,EAAMC,iBACN,IAAIC,EAAc,QACd1F,EAAM2F,eACRD,EAAW,gBAAY1F,EAAMvB,QAE/B,IAAMmH,EAAa,CACjBtI,MAAO,GACP2H,SAAU,GACVC,eAAgB,IAEdW,GAAQ,EACZtG,EAAY,gBAAgB,GAC5BA,EAAY,WACR8B,EAAgBvD,EAAKR,QACvBuI,GAAQ,EACRD,EAAWtI,MAAQ,mBAElB,gDAAgDwI,KAAKhI,EAAKR,SAE3DuI,GAAQ,EACRD,EAAWtI,MAAQ,iBAEhBuI,EA4BHP,EAAUM,GA3BVpB,EAAS,GAAD,OACHkB,EADG,sBAEN,CACEpI,MAAOQ,EAAKR,OAEd,MAECyI,MAAK,SAACC,GACmB,MAApBA,EAASC,QACX+D,EAAS,YACTzK,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,yCACTC,SAAU,OAGZP,EAAWtI,MAAQ,wBAGtB+I,OAAM,WACLR,GAAQ,EACRD,EAAWtI,MAAQ,iCAEpBiJ,SAAQ,WACPjB,EAAUM,MAKhBrG,EAAY,WAAW,IAGnB2K,EAAgB,SAAA1E,GACpBA,EAAMC,iBACN,IAAIC,EAAc,QACd1F,EAAM2F,eACRD,EAAW,gBAAY1F,EAAMvB,QAE/B,IAAMmH,EAAa,CACjBtI,MAAO,GACP2H,SAAU,GACVC,eAAgB,IAEdW,GAAQ,EACZtG,EAAY,gBAAgB,GAC5BA,EAAY,WACR8B,EAAgBvD,EAAKmH,YACvBY,GAAQ,EACRD,EAAWX,SAAW,mBAEpBnH,EAAKmH,WAAanH,EAAKoH,iBACzBW,GAAQ,EACRD,EAAWV,eAAiB,2BAE9BI,EAAUM,GACLC,GACHrB,EAAS,GAAD,OACHkB,EADG,0BAC0B1F,EAAMmF,WACtC,CACEF,SAAUnH,EAAKmH,UAEjB,MACAc,MAAK,SAACC,GACkB,MAApBA,EAASC,SACX+D,EAAS,mBACTzK,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,mBACTC,SAAU,UAKlB5G,EAAY,WAAW,IAGnB0B,EAAe,SAAAuE,GACnBJ,EAAQ,eAAKtH,EAAN,eAAa0H,EAAMgB,cAAchH,KAAOgG,EAAMgB,cAAczF,UAWrE,OACE,oCACE,0BAAM0F,OAAO,MAAMC,SAVF,SAAAlB,GACL,gBAAVuE,EACFG,EAAc1E,GACK,gBAAVuE,GACTE,EAAYzE,IAM+BmB,YAAU,EAACzG,UAAU,SACnD,gBAAV6J,GACC,yBAAK7J,UAAU,mCACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,QAD9C,kCAKS,oBAAV0G,GACC,yBAAK7J,UAAU,mCACb,kBAAC,EAAD,CAASqD,IAAI,eAAeL,MAAM,UAAUG,KAAK,QADnD,oBAKS,aAAV0G,GACC,yBAAK7J,UAAU,mCACb,kBAAC,EAAD,CAASqD,IAAI,eAAeL,MAAM,UAAUG,KAAK,QADnD,2DAKS,gBAAV0G,GACC,yBAAK7J,UAAU,cACb,6BACE,yBAAKA,UAAU,UACXmF,EAAO/H,OAAS,yBAAK4C,UAAU,cAAf,SACjBmF,EAAO/H,OACN,yBAAK4C,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAO/H,QAId,kBAAC,EAAD,CACEoD,GAAG,QACHU,YAAY,2BACZtD,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,QAK7B,gBAAVyD,GACC,yBAAK7J,UAAU,cACb,6BACE,yBAAKA,UAAU,UACXmF,EAAOJ,UACP,yBAAK/E,UAAU,cAAf,oBAEDmF,EAAOJ,UACN,yBAAK/E,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAOJ,WAId,kBAAC,EAAD,CACE9G,KAAK,WACLuC,GAAG,WACHU,YAAY,2BACZtD,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,OAGpC,6BACE,yBAAKpG,UAAU,UACXmF,EAAOH,gBACP,yBAAKhF,UAAU,cAAf,mBAEDmF,EAAOH,gBACN,yBAAKhF,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAI,UAAUL,MAAM,UAAUG,KAAK,SAC3CgC,EAAOH,iBAId,kBAAC,EAAD,CACE/G,KAAK,WACLuC,GAAG,iBACHU,YAAY,kBACZtD,KAAMA,EACNmD,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,QAKxC,yBAAKpG,UAAU,UACF,gBAAV6J,GACC,kBAAC,EAAD,CAAWrG,QAAQ,UAAUjG,MAAM,UAAUS,OAAQ+L,GAArD,aAIS,gBAAVF,GACC,kBAAC,EAAD,CAAWrG,QAAQ,UAAUjG,MAAM,UAAUS,OAAQgM,GAArD,mBAID,CAAC,cAAe,eAAeC,SAASJ,IACvC,uBAAG7J,UAAU,MAAb,MAEF,yBAAKA,UAAU,eACb,yBAAKA,UAAU,OAAO6D,QAAS/D,EAAMoG,oBAArC,kBC5QNgE,GAAcC,EAAQ,KA+IbvF,gBAJS,SAAA7G,GAAK,MAAK,CAChCD,cAAeC,EAAMD,iBAGiB,CAAEmC,UAASE,UAASC,cAA7CwE,CACbC,aAhIY,SAAC/E,GACb,IAAMhC,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBADnB,EAENgH,mBAAS,UAFH,mBAEvB7G,EAFuB,KAEjBmM,EAFiB,OAGItF,mBAAS,IAHb,mBAGvBG,EAHuB,KAGZoF,EAHY,OAKJvF,mBAAS,IALL,mBAKvB8D,EALuB,KAKhB0B,EALgB,OAMkBxF,oBAAS,GAN3B,mBAMvByF,EANuB,KAMLC,EANK,KAQ9BzK,qBAAU,WACRV,EAAY,UAAU,KACrB,IAEHU,qBAAU,WACRyK,GAAoB,GACpB,IAAIC,EAAW,KACf,GAAI3K,EAAMsJ,SAASsB,OAAQ,CACzB,IAAMC,EAAQT,GAAYU,MAAM9K,EAAMsJ,SAASsB,QAC3CC,GAAwB,WAAfA,EAAM1M,KACjBmM,EAAQ,UACCO,GAAwB,UAAfA,EAAM1M,MACxBmM,EAAQ,SAENO,GAASA,EAAME,MACjBR,EAAaM,EAAME,MAEjBF,GAASA,EAAM/B,QACjB0B,EAASK,EAAM/B,OACf6B,EAAWE,EAAM/B,OAGrB,IAAMkC,EAAUhL,EAAM+I,QAAQxE,IAAIvE,EAAMvB,OACpCT,EAAcX,QAAU2N,EACtBL,EACFM,EAAqCN,EAAUK,GAE/ChL,EAAMyJ,QAAQC,KAAd,iBAA6B1J,EAAMvB,MAAnC,UAGFiM,GAAoB,KAErB,IAEH,IAAMO,EAAuC,SAACN,EAAUK,GACtD5M,QAAQC,IAAIsM,EAAUK,GACtB,IAAMtF,EAAW,gBAAY1F,EAAMvB,OAEnC0F,EAAQ,GAAD,OAAIuB,EAAJ,oBAA2BsF,GAAW,MAC1CjF,MAAK,SAAA8C,GAC2B,MAA3BA,EAAgB5C,OAClBgD,EAAuB0B,EAAUK,EAASnC,EAAgB/K,KAAKS,QAE/DyB,EAAM+I,QAAQmC,OAAOlL,EAAMvB,OAE3BiM,GAAoB,OAGvBrE,OAAM,SAACR,GACN7F,EAAM+I,QAAQmC,OAAOlL,EAAMvB,OAC3BiM,GAAoB,OAIpBzB,EAAyB,SAACH,EAAOkC,EAASzM,GAC9C4F,EAAQ,QAAD,OAAS2E,GAAS,CACvBzE,QAAS,CACP8E,cAAe5K,KAEhBwH,MAAK,SAAAqD,GACNC,OAAOC,SAASC,KAAhB,UAA0BH,EAAYtL,KAAKA,KAAK0L,SAAhD,oBAAoEwB,EAApE,kBAAqFhL,EAAMvB,WAI/F,OACE,yBAAKyB,UAAU,eACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,yBACY,gBAAxBF,EAAMxB,QAAQf,OACb,yBAAKyC,UAAU,OAAOiL,IAAKC,IAAaC,IAAI,gBAErB,eAAxBrL,EAAMxB,QAAQf,OACb,yBAAKyC,UAAU,OAAOiL,IAAKG,IAAaD,IAAI,iBAG5CZ,GAA6B,WAATtM,GACpB,yBAAK+B,UAAU,WACb,kBAAC,GAAD,eACE4I,MAAOA,EACPc,mBAAoB,kBAAMU,EAAQ,WAClCX,kBAAmB,kBAAMW,EAAQ,UACjC3E,cAAY,GACR3F,MAKRyK,GAA6B,WAATtM,GACpB,yBAAK+B,UAAU,WACb,kBAAC,GAAD,eACEkG,mBAAoB,kBAAMkE,EAAQ,WAClC3E,cAAY,GACR3F,MAKRyK,GAA6B,UAATtM,GACpB,yBAAK+B,UAAU,WACb,kBAAC,GAAD,eACEyF,cAAY,GACR3F,EAFN,CAGEmF,UAAWA,EACXiB,mBAAoB,kBAAMkE,EAAQ,eAKvCG,GAAoB,kBAAC,GAAD,aCnJlBc,GAAa,kBAAM,SAAAnL,GAC9BA,EAAS,CACPjC,KnBAuB,kBmBIdqN,GAAa,SAAAlN,GAAO,OAAI,SAAA8B,GACnCA,EAAS,CACPjC,KnBLuB,cmBMvBG,c,UCkCWmN,I,OArCa,SAACzL,GAAkB,IAAD,EAC5C,OACE,yBAAKE,UAAS,kBAAaF,EAAM0L,aAAavN,OACf,YAA5B6B,EAAM0L,aAAavN,MAClB,yBACE+B,UAAS,uBACqB,YAA5BF,EAAM0L,aAAavN,KAAqB,UAAY,KAGtD,uBAAG+B,UAAU,kBAAb,iBAGyB,YAA5BF,EAAM0L,aAAavN,MAClB,yBAAK+B,UAAU,gBACb,uBAAGA,UAAU,kBAAb,yBAGyB,YAA5BF,EAAM0L,aAAavN,MAClB,yBAAK+B,UAAU,gBACb,uBAAGA,UAAU,kBAAb,YAGyB,YAA5BF,EAAM0L,aAAavN,MAClB,yBAAK+B,UAAU,gBACb,uBAAGA,UAAU,kBAAb,kBAGJ,yBAAKA,UAAU,gBAAf,UAA+BF,EAAM0L,oBAArC,aAA+B,EAAoBxF,SACnD,yBAAKhG,UAAU,kBACb,uBAAGA,UAAU,iBAAiB6D,QAAS/D,EAAM2L,cAA7C,aC+COC,GA9EM,WAAO,IAAD,EACK5G,oBAAS,GADd,mBAClB6G,EADkB,KACTC,EADS,OAEuB9G,mBAA0B,IAFjD,mBAElB+G,EAFkB,KAEAC,EAFA,OAGDhH,mBAAc,CAAE+G,iBAAkB,KAHjC,mBAKnBE,GALmB,UAKE,SAAAC,GACzBF,EACED,EAAiBI,QAAO,SAAAC,GACtB,OAAOA,EAAK1L,KAAOwL,EAAiBxL,SAgD1C,OA1BAT,qBAAU,WACR,IAAMoM,EAAW1M,IAAiB2M,WAAU,SAAApG,GACrB,iBAAjBA,EAAQ1G,OACL0G,EAAQzG,QAGXwM,EAAmB/F,EAAQpI,MAxBX,SAAAoO,GACtB,IAAMK,EAAS,aAAOR,GACtBQ,EAAUC,QAAQN,GAElBF,EAAoBO,GAEhBL,EAAiB/F,SACnBsG,YAAW,WACTR,EAAmBC,KAClBA,EAAiB/F,UACV+F,EAAiBxL,IAC3B+L,YAAW,WACTR,EAAmBC,KAClB,KAYCQ,CAAgBxG,EAAQpI,MAExBgO,GAAW,IALXG,EAAmB/F,EAAQpI,OAeV,YAAjBoI,EAAQ1G,MACVsM,EAAW5F,EAAQzG,WAGvB,OAAO,kBAAM4M,EAASM,iBACrB,IAGD,oCACGZ,GAAoBA,EAAiBa,OAAS,GAC7C,yBAAK1M,UAAU,gBACZ6L,EACEc,MAAM,EAAG,GACTC,UACAC,KAAI,SAAArB,GAAY,OACf,yBAAKsB,IAAKtB,EAAahL,IAAMgL,EAAaxF,SACxC,kBAAC,GAAD,CACEwF,aAAcA,EACdC,aAAcM,SAMzBJ,GAAW,yBAAKoB,YAAU,UAAU/M,UAAU,oB,iBC5CtCgN,GAxBC,SAAClN,GACf,OACE,yBAAKE,UAAU,SACZF,EAAMhC,cAAcX,QACnB,oCACE,kBAAC,KAAD,CAAS8P,GAAG,QAAQjN,UAAU,UAAUkN,gBAAgB,UAAxD,QAGA,kBAAC,KAAD,CACED,GAAG,eACHjN,UAAU,UACVkN,gBAAgB,UAHlB,gBAOA,kBAAC,KAAD,CAASD,GAAG,aAAajN,UAAU,UAAUkN,gBAAgB,UAA7D,iBCWKC,GAzBI,SAACrN,GAClB,OACE,yBAAKE,UAAU,SACZF,EAAMhC,cAAcX,QACnB,oCACE,kBAAC,KAAD,CACE8P,GAAE,iBAAYnN,EAAMvB,MAAlB,SACFyB,UAAU,UACVkN,gBAAgB,UAHlB,QAOA,kBAAC,KAAD,CACED,GAAE,iBAAYnN,EAAMvB,MAAlB,SACFyB,UAAU,UACVkN,gBAAgB,UAHlB,gBCMKE,I,OArBG,SAACtN,GAAkB,IAAD,IAClC,OACE,yBAAKE,UAAU,cAMb,yBACEA,UAAS,UAAKF,EAAMqD,KAAOrD,EAAMqD,KAAO,GAA/B,8BADX,oBAGMrD,EAAMzC,iBAHZ,aAGM,EAAiBgQ,UAAU,EAAG,IAHpC,iBAGyCvN,EAAMxC,gBAH/C,aAGyC,EAAgB+P,UACrD,EACA,KAGHvN,EAAMwN,UAAY,yBAAKtN,UAAU,eAAeF,EAAMzC,cC+E9CkQ,I,OAtFQ,SAACzN,GAAkB,IAAD,EACfgF,oBAAS,GADM,mBAChC0I,EADgC,KAC1BC,EAD0B,OAEb3I,mBAAmB,IAFN,mBAEhC4I,EAFgC,KAEzBC,EAFyB,OAGnB7I,mBAASnF,KAHU,mBAGhCa,EAHgC,UAKvCT,qBAAU,WACR6N,MACC,CAAC9N,EAAM2D,WAEV,IAAMmK,EAAkB,WACtB,IAAIC,EAAW,GACfC,IAAMC,SAASC,QAAQlO,EAAM2D,UAAUwK,SAAQ,SAACC,GAC9CL,EAAQ,eAAQA,EAAR,eAAmBK,EAAKpO,MAAMqO,KAAOD,OAE/CP,EAASE,IAGX9N,qBAAU,WACRoJ,OAAOiF,iBAAiB,SAAS,SAAChI,GAAY,IAAD,GACvC,UAACiI,SAASC,eAAe9N,UAAzB,aAAC,EAA6B+N,SAASnI,EAAEoI,UAC3Cf,GAAQ,SAKd,IAAMgB,EAAS,WACbhB,GAASD,IAoBX,OACE,yBAAKxN,UAAS,2BAlBC,WACf,IAAI4B,EAAQ9B,EAAMvC,MAAQuC,EAAMvC,MAAQ,GAGxC,OAFAqE,GAAS9B,EAAM4O,aAAN,WAAyB5O,EAAM4O,cAAiB,GACzD9M,GAAS9B,EAAMsC,MAAN,WAAkBtC,EAAMsC,OAAU,GAePS,IAAcrC,GAAIA,IAClDkN,EAAMpN,OACN,yBAAKN,UAAS,gBATD,WACjB,IAAI4B,EAAQ4L,EAAO,SAAW,GAE9B,OADA5L,GAAS9B,EAAM6O,SAAW,eAAiB,GAOdC,IAAgB/K,QAAS4K,GAC/C3O,EAAM+O,UACL,yBAAK7O,UAAU,aACb,kBAAC,EAAD,CAASqD,IAAKvD,EAAM+O,YAGxB,yBAAK7O,UAAU,cAAcF,EAAMQ,OACnC,yBAAKN,UAAU,cACb,kBAAC,EAAD,CAASqD,IAAKvD,EAAMgP,cAIzBpB,EAAMpN,OACL,yBAAKN,UAAU,eAAe6D,QAAS4K,GACpCf,EAAMpN,OAGX,yBACEN,UAAS,2BAhCc,WAC3B,IAAI4B,EAAQ4L,EAAO,OAAS,OAE5B,OADA5L,GAAS9B,EAAMiP,MAAQ,SAAW,GA8BCC,IAC/BnL,QAAS4K,GAER3O,EAAMmP,SAASpC,KAAI,SAAAqC,GAAO,OACzB,yBACEC,QAAM,sBACNrC,IAAKoC,EAAQ5O,MACbN,UAAU,UACV6D,QAASqL,EAAQlR,QAEjB,kBAAC,EAAD,CAASqF,IAAK6L,EAAQpL,OACrBoL,EAAQ5O,cCiCN8O,GAhGC,SAACtP,GAAkB,IAAD,EACUgF,oBAAS,GADnB,mBACVuK,GADU,WAE1BvR,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAFjB,EAGoBgH,mBAAqB,IAHzC,mBAGzBwK,EAHyB,KAGLC,EAHK,KAKhCxP,qBAAU,WACJjC,EAAcX,OAChBoS,EAAsB,CACpB,CACEjP,MAAO,mBACPtC,OAAQ8B,EAAM0P,YACd1L,KAAM,YAER,CACExD,MAAO,WACPtC,OAAQ8B,EAAM2P,OACd3L,KAAM,kBAIV5F,QAAQC,IAAI2B,EAAMvB,OAClBgR,EAAsB,CACpB,CACEjP,MAAO,UACPtC,OAAQ,kBAAM0R,EAAO,WACrB5L,KAAM,UAER,CACExD,MAAO,UACPtC,OAAQ,kBAAM0R,EAAO,WACrB5L,KAAM,mBAIX,CAAChG,EAAcX,OAAQ2C,EAAMvB,QAEhCwB,qBAAU,WACRN,IAAiB2M,WAAU,SAAApG,GACJ,wBAAjBA,EAAQ1G,MACV+P,EAAiBrJ,EAAQzG,aAG5B,IAEH,IAAMmQ,EAAS,SAAAzR,GACb6B,EAAM6P,MAAM1R,IAGd,OACE,yBACE+B,UACEF,EAAM8P,YAAc,6BAA+B,kBAGrD,yBAAK5P,UAAU,SACXF,EAAM8P,aAAuC,gBAAxB9P,EAAMxB,QAAQf,OACnC,yBAAKyC,UAAU,OAAOiL,IAAKC,IAAaC,IAAI,iBAE5CrL,EAAM8P,aAAuC,eAAxB9P,EAAMxB,QAAQf,QACnC,yBAAKyC,UAAU,OAAOiL,IAAKG,IAAaD,IAAI,iBAE5CrL,EAAMvB,OACN,kBAAC,GAAD,CACET,cAAegC,EAAMhC,cACrBQ,QAASwB,EAAMxB,UAGlBwB,EAAMvB,OACL,kBAAC,GAAD,CACET,cAAegC,EAAMhC,cACrBQ,QAASwB,EAAMxB,QACfC,MAAOuB,EAAMvB,SAInB,yBAAKyB,UAAU,SACb,yBAAKA,UAAU,UACb,kBAAC,GAAD,CAAgBiP,SAAUK,EAAoB/R,MAAM,UAAUwR,OAAK,GACjE,yBAAKZ,KAAK,QAAQnO,UAAU,gBACZ,OAAblC,QAAa,IAAbA,OAAA,EAAAA,EAAeX,SACd,kBAAC,GAAD,CACEE,UAAS,OAAES,QAAF,IAAEA,OAAF,EAAEA,EAAeT,UAC1BC,SAAQ,OAAEQ,QAAF,IAAEA,OAAF,EAAEA,EAAeR,aAG5B,OAACQ,QAAD,IAACA,OAAD,EAACA,EAAeX,SACf,uBAAG6C,UAAU,kBAAb,gB,oBCrHH6P,I,OAA0B,I,OAAIC,GAAwB,KACtDC,GAAe,IAAI3Q,ICwDjB4Q,GAnDG,SAAClQ,GAAkB,IAAD,EACEgF,mBAAS,IADX,mBAC3BmL,EAD2B,KACfC,EADe,KAGlCnQ,qBAAU,WACR,IAAMoQ,EAAiCN,GAAwBzD,WAC7D,SAAAxO,GACEsS,EAActS,MAGlB,OAAO,kBAAMuS,EAA+B1D,iBAC3C,IAWH,OACE,0BAAMlG,OAAO,MAAMC,SAVJ,SAAAlB,GACfA,EAAMC,iBACNwK,GAAavQ,KAAKyQ,IAQqBxJ,YAAU,GAC/C,yBAAKzG,UAAS,oBAAeF,EAAMqL,IAAM,OAAS,KAChD,2BACE7L,KAAK,aACL8Q,YAAY,EACZzP,aAAa,MACb0P,WAAS,EACTnP,YAAY,8DACZoP,UAAQ,EACRzP,MAAOoP,EACPnP,SAfa,SAAAwE,GACnBuK,GAAwBrQ,KAAK8F,EAAMkJ,OAAO3N,UAgBtC,4BAAQb,UAAU,QAChB,2BACE,yBACEuQ,MAAM,6BACNnO,MAAM,KACNC,OAAO,KACPX,QAAQ,aAER,0BAAMK,EAAE,qPCsGPyO,GA3HA,SAAC1Q,GAAkB,IAAD,EACPgF,mBAAS,CAC/B2L,eAAe,EACfC,MAAM,IAHuB,mBACxB9S,EADwB,KAClBsH,EADkB,KAM/BnF,qBAAU,WACRD,EAAMuL,eACL,IAEHtL,qBAAU,WACRN,IAAiB2M,WAAU,SAAApG,GACJ,wBAAjBA,EAAQ1G,MACV4F,EAAQ,eAAKtH,EAAN,CAAY6S,cAAezK,EAAQzG,eAG7C,IAEH,IAAMoR,EAAa,WACjBzL,EAAQ,eAAKtH,EAAN,CAAY8S,MAAO9S,EAAK8S,SAG3BhB,EAAS,SAAAzR,GACb6B,EAAM6P,MAAM1R,IAGd,OACE,oCACE,yBACE+B,UACEF,EAAM8P,YAAc,4BAA8B,iBAGpD,yBAAK5P,UAAU,SACXpC,EAAK6S,gBACJ3Q,EAAM8P,aACiB,gBAAxB9P,EAAMxB,QAAQf,OACZ,yBAAKyC,UAAU,OAAOiL,IAAKC,IAAaC,IAAI,iBAE9CvN,EAAK6S,gBACJ3Q,EAAM8P,aAAuC,eAAxB9P,EAAMxB,QAAQf,QAClC,yBAAKyC,UAAU,OAAOiL,IAAKG,IAAaD,IAAI,gBAE/CvN,EAAK6S,gBACH3Q,EAAM8P,aACiB,gBAAxB9P,EAAMxB,QAAQf,OACZ,yBAAKyC,UAAU,OAAOiL,IAAK2F,KAAkBzF,IAAI,gBAEpDvN,EAAK6S,gBACH3Q,EAAM8P,aAAuC,eAAxB9P,EAAMxB,QAAQf,QAClC,yBAAKyC,UAAU,OAAOiL,IAAK2F,KAAkBzF,IAAI,gBAEpDvN,EAAK6S,eAAiB,kBAAC,GAAD,CAAWtF,KAAG,KAGvC,yBAAKnL,UAAU,SAEb,yBACEA,UAAWpC,EAAK8S,KAAO,cAAgB,OACvC7M,QAAS8M,GAET,iCAKN,yBACE3Q,UAAWpC,EAAK8S,KAAO,cAAgB,cACvC7M,QAAS8M,GAET,yBACE3Q,UAAWpC,EAAK8S,KAAO,YAAc,qBACrC7M,QAAS8M,GAET,yBAAK3Q,UAAU,UAIb,yBAAKA,UAAU,WACZF,EAAMhC,cAAcX,QACnB,kBAAC,EAAD,CAAWqG,QAAQ,SAASG,OAAK,EAAC3F,OAAQ8B,EAAM2P,QAC9C,uBAAGzP,UAAU,kBAAb,sBADF,WAIAF,EAAMhC,cAAcX,QACpB,kBAAC,EAAD,CACEqG,QAAQ,SACRG,OAAK,EACL3F,OAAQ,kBAAM0R,EAAO,YAErB,uBAAG1P,UAAU,kBAAb,UALF,UAQAF,EAAMhC,cAAcX,QACpB,kBAAC,EAAD,CACEqG,QAAQ,SACRG,OAAK,EACL3F,OAAQ,kBAAM0R,EAAO,YAErB,uBAAG1P,UAAU,kBAAb,cALF,aAUJF,EAAMvB,OACN,kBAAC,GAAD,CACET,cAAegC,EAAMhC,cACrBQ,QAASwB,EAAMxB,UAGlBwB,EAAMvB,OACL,kBAAC,GAAD,CACET,cAAegC,EAAMhC,cACrBQ,QAASwB,EAAMxB,QACfC,MAAOuB,EAAMvB,YC9CZsS,I,OAnFE,SAAC/Q,GAAkB,IAAD,EACHgF,oBAAS,GADN,mBAC1BgM,EAD0B,KACjBC,EADiB,KAEjChR,qBAAU,WACJ+Q,IAAYhR,EAAMgR,UAChBhR,EAAMgR,QACRC,EAAWjR,EAAMgR,SAEjBvE,YAAW,kBAAMwE,EAAWjR,EAAMgR,WAAU,QAG/C,CAAChR,EAAMgR,UAEV/Q,qBAAU,WAOR,OADAsO,SAASD,iBAAiB,UAAW4C,GAAa,GAC3C,kBAAM3C,SAAS4C,oBAAoB,UAAWD,GAAa,MACjE,CAACF,IAEJ,IAAME,EAAc,SAAA1L,GACI,KAAlBA,EAAM4L,SACJJ,GACFhR,EAAMqR,oBAKNC,EAAgB,WACpB,IAAIxP,EAAQ,GAIZ,OAHAA,GAAS9B,EAAMuR,SAAW,YAAc,GACxCzP,GAAS9B,EAAMwR,WAAa,cAAgB,GAC5C1P,GAAS9B,EAAMyR,cAAgB,GAAK,aAItC,OACE,oCACGT,GACC,yBACE9Q,UACEF,EAAMgR,QAAN,0BACuBM,KADvB,0BAEuBA,MAGzB,yBAAKpR,UAAU,gBAAgB6D,QAAS/D,EAAMqR,mBAC9C,yBAAKnR,UAAU,aAEb,yBAAKA,UAAU,SACb,yBACEA,UAAWF,EAAMgR,QAAU,YAAc,sBAEzC,yBAAK9Q,UAAU,gBAGb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,QAAf,KAGA,yBAAKA,UAAU,mBAAmBF,EAAMQ,QAE1C,yBAAKN,UAAU,SACb,yBAAK6D,QAAS/D,EAAMqR,kBAClB,uBAAGnR,UAAU,kBAAb,SACA,yBAAKA,UAAU,YAAf,UAKLF,EAAM2D,gBCLR+N,I,cAzEA,SAAC1R,GAAkB,IAAD,EACGgF,mBAAS,IADZ,mBACxB2M,EADwB,KACbC,EADa,OAEL5M,mBAAmB,IAFd,mBAExB4I,EAFwB,KAEjBC,EAFiB,KAI/B5N,qBAAU,WACH0R,GACHC,EACE5R,EAAM6R,MAAQ7R,EAAM6R,KAAKjF,OAAS,EAAI5M,EAAM6R,KAAK,GAAGC,SAAW,IAGnEhE,MACC,CAAC9N,EAAM6R,KAAM7R,EAAM2D,WAEtB,IAAMmK,EAAkB,WACtB,IAAIC,EAAW,GACfC,IAAMC,SAASC,QAAQlO,EAAM2D,UAAUwK,SAAQ,SAACC,GAC9CL,EAAQ,eAAQA,EAAR,eAAmBK,EAAKpO,MAAMqO,KAAOD,OAE/CP,EAASE,IAGLgE,EAAY,SAAAC,GAChBJ,EAAaI,IAGf,OACE,yBAAK9R,UAAU,WACb,yBAAKA,UAAU,UACZF,EAAM6R,KAAK9E,KAAI,SAAAX,GAAI,OAClB,yBACEY,IAAKZ,EAAK0F,SACV5R,UAAS,2BACPyR,IAAcvF,EAAK0F,SAAW,SAAW,IAE3C/N,QAAS,kBAAMgO,EAAU3F,EAAK0F,YAE9B,yBAAK5R,UAAU,QACb,uBACEA,UAAS,sCACPyR,IAAcvF,EAAK0F,SAAW,SAAW,KAG1C1F,EAAKpI,OAGV,yBAAK9D,UAAU,SAASkM,EAAK5L,YAIlCR,EAAM6R,KAAK9E,KAAI,SAAAX,GAAI,OAClB,yBACEY,IAAKZ,EAAK0F,SACV5R,UAAS,2BACPyR,IAAcvF,EAAK0F,SAAW,SAAW,IAE3C/N,QAAS,kBAAMgO,EAAU3F,EAAK0F,gBAGjC9R,EAAM6R,KAAK9E,KAAI,SAAAX,GAAI,OAClB,yBACEY,IAAKZ,EAAK0F,SACV5R,UAAS,kBACPkM,EAAK0F,WAAaH,EAAY,SAAW,aAG1C/D,EAAMxB,EAAK0F,iBCVPG,I,OA/CC,SAACjS,GAMf,OACE,yBAAKE,UAAU,aACXF,EAAMW,WACN,2BACEC,SAAUZ,EAAMY,SAChBC,aAAa,MACbX,WACGF,EAAMc,aAAed,EAAMc,YAAYd,EAAMU,IAAM,QAAU,KAC7DV,EAAMY,SAAW,YAAc,IAElCzC,KAAM6B,EAAM7B,KAAO6B,EAAM7B,KAAO,OAChCqB,KAAMQ,EAAMU,GACZA,GAAIV,EAAMU,GACVK,MAAOf,EAAMlC,KAAKkC,EAAMU,IACxBM,SAAUhB,EAAMiB,aAChBC,QApBY,WACdlB,EAAMmB,aACRnB,EAAMmB,iBAqBLnB,EAAMW,WACL,8BACEC,SAAUZ,EAAMY,SAChBV,WACGF,EAAMc,aAAed,EAAMc,YAAYd,EAAMU,IAAM,QAAU,KAC7DV,EAAMY,SAAW,YAAc,IAElCF,GAAIV,EAAMU,GACVlB,KAAMQ,EAAMU,GACZK,MAAOf,EAAMlC,KAAKkC,EAAMU,IACxBM,SAAUhB,EAAMiB,eAGpB,2BACER,QAAST,EAAMU,GACfR,UAAWF,EAAMlC,KAAKkC,EAAMU,IAAM,SAAW,IAE5CV,EAAMQ,UC8DA0R,GAvGS,SAAClS,GACvB,IAAMhC,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBADT,EAEAgH,mBAAS,CAC/CmN,YAAa,GACbC,YAAa,GACbC,eAAgB,KALsB,mBAEjCC,EAFiC,KAEnBC,EAFmB,OAOhBvN,mBAAS,CAC/B,CAAE8M,SAAU,UAAWtR,MAAO,gBAAiBwD,KAAM,WACrD,CAAE8N,SAAU,WAAYtR,MAAO,kBAAmBwD,KAAM,cATlB,mBAOjC6N,EAPiC,KAYlCW,GAZkC,KAYX,SAAAhN,GAC3B+M,EAAgB,eACXD,EADU,eAEZ9M,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,WAqDtC,OACE,yBAAKb,UAAU,oBACb,kBAAC,GAAD,CAAQ2R,KAAMA,GACZ,yBAAKxD,KAAK,WAAV,WACA,yBAAKA,KAAK,WAAWnO,UAAU,mBAC7B,kBAAC,GAAD,CACE/B,KAAK,WACLqC,MAAM,eACN1C,KAAMwU,EACN5R,GAAG,cACHO,aAAc,SAAAqF,GAAC,OAAIkM,EAAqBlM,MAE1C,kBAAC,GAAD,CACEnI,KAAK,WACLqC,MAAM,eACN1C,KAAMwU,EACN5R,GAAG,cACHO,aAAc,SAAAqF,GAAC,OAAIkM,EAAqBlM,MAE1C,kBAAC,GAAD,CACEnI,KAAK,WACLqC,MAAM,kBACN1C,KAAMwU,EACN5R,GAAG,iBACHO,aAAc,SAAAqF,GAAC,OAAIkM,EAAqBlM,MAE1C,kBAAC,EAAD,CAAW7I,MAAM,UAAUiG,QAAQ,QAAQxF,OA5EpC,WACb,IAAIwH,EAAc,QACd1F,EAAMvB,QACRiH,EAAW,gBAAY1F,EAAMvB,QAE/B+F,EAAS,GAAD,OACHkB,EADG,mBAEN,CACE+M,OAAQzU,EAAcyU,OACtBN,YAAaG,EAAaH,YAC1BC,YAAaE,EAAaF,aAE5B,CACE/N,QAAS,CACP8E,cAAenL,EAAcO,SAIhCwH,MAAK,SAACC,GACmB,MAApBA,EAASC,OACXsM,EAAgB,CACdJ,YAAa,GACbC,YAAa,GACbC,eAAgB,KAGlB9S,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,oBACTC,SAAU,SAIfE,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,OACjB1G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QACE,6EACFC,SAAU,MAGZ5G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,oBACTC,SAAU,WA+BZ,uBCyEKrB,gBAJS,SAAA7G,GAAK,MAAK,CAChCO,QAASP,EAAMO,WAGuB,CAAE+M,cAAYC,eAAvC1G,CACbC,YAAY2N,sBApJK,SAAC1S,GACDwI,cACDC,aAAY,SAAAxK,GAAK,OAAIA,EAAMO,WAD3C,IADmC,EAGXwG,mBAAS,CAC/BgM,SAAS,EACT2B,WAAY,OACZC,aAAa,EACbC,cAAc,EACdC,mBAAmB,EACnBC,WAAW,EACXC,YAAY,EACZC,mBAAmB,IAXc,mBAG5BnV,EAH4B,KAGtBsH,EAHsB,OAcTJ,mBAAS,IAdA,mBAc5BvG,EAd4B,KAcrByU,EAdqB,KAgBnCjT,qBAAU,WACRN,IAAiB2M,WAAU,SAAA9G,GACN,gBAAfA,EAAMhG,MACR0T,EAAS1N,EAAM1H,WAGlB,IAEHmC,qBAAU,WACRN,IAAiB2M,WAAU,SAAApG,GACJ,WAAjBA,EAAQ1G,MACV4F,EAAQ,eAAKtH,EAAN,CAAYkV,WAAY9M,EAAQzG,UAEpB,aAAjByG,EAAQ1G,MAEV4F,EAAQ,eAAKtH,EAAN,CAAYiV,WAAW,UAGjC,IAEH9S,qBAAU,WACJnC,EAAKiV,WAAa/S,EAAMhC,eAAiBgC,EAAMhC,cAAcX,QAC/D+H,EAAQ,eAAKtH,EAAN,CAAYiV,WAAW,OAE/B,CAAC/S,EAAMhC,cAAcX,SAExB,IAAM8V,EAAiB,WACO,eAAxBnT,EAAMxB,QAAQf,MAChBuC,EAAMwL,WAAN,eACKxL,EAAMxB,QADX,CAEEf,MAAO,iBAGTuC,EAAMwL,WAAN,eACKxL,EAAMxB,QADX,CAEEf,MAAO,iBAKPoS,EAAQ,SAAA1R,GACRM,EACFuB,EAAMyJ,QAAQC,KAAd,iBAA6BjL,EAA7B,uBAAiDN,IAEjD6B,EAAMyJ,QAAQC,KAAd,sBAAkCvL,KAIhCwR,EAAS,WACb,IAAIjK,EAAc,QACdsF,EAAUhL,EAAM+I,QAAQxE,IAAI,WAC5B9F,IACFuM,EAAUhL,EAAM+I,QAAQxE,IAAI9F,GAC5BiH,EAAW,gBAAYjH,IAGzB+F,EAAS,GAAD,OAAIkB,EAAJ,oBAA2BsF,EAA3B,eAAiD,KAAM,MAAMjF,MACnE,SAACC,GACyB,MAApBA,EAASC,QAAsC,MAApBD,EAASC,SACtCjG,EAAMM,aACF7B,GACFuB,EAAM+I,QAAQmC,OAAOzM,GACrBuB,EAAMyJ,QAAQC,KAAd,iBAA6BjL,EAA7B,UACAc,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,uBAAD,OAAyBzH,GAChC0H,SAAU,QAGZnG,EAAM+I,QAAQmC,OAAO,WACrBlL,EAAMyJ,QAAQC,KAAd,SACAnK,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,wBACRC,SAAU,YAQhBiN,EAAiB,WACrBhO,EAAQ,eAAKtH,EAAN,CAAY+U,cAAe/U,EAAK+U,iBAGzC,OACE,oCACG/U,EAAKkV,YACJ,yBAAK9S,UAAU,OACb,kBAAC,GAAD,iBACMF,EADN,CAEE2P,OAAQA,EACRE,MAAOA,EACPuD,eAAgBA,EAChBtD,YAAahS,EAAKgV,kBAClBK,eAAgBA,EAChB1U,MAAOA,EACPiR,YAAa,kBAAMtK,EAAQ,eAAKtH,EAAN,CAAYmV,mBAAmB,SAE3D,kBAAC,GAAD,iBACMjT,EADN,CAEE2P,OAAQA,EACRE,MAAOA,EACPuD,eAAgBA,EAChBtD,YAAahS,EAAKgV,kBAClBK,eAAgBA,EAChB1U,MAAOA,KAET,kBAAC,GAAD,CACE+S,YAAU,EACVhR,MAAM,wBACNwQ,QAASlT,EAAKmV,kBACd5B,iBAAkB,kBAChBjM,EAAQ,eAAKtH,EAAN,CAAYmV,mBAAoBnV,EAAKmV,uBAG9C,yBAAK/S,UAAU,cACb,kBAAC,GAAD,CAAiBzB,MAAOA,aC9JzB4U,GAAa,SAAArV,GAAa,OAAI,SAAAoC,GACzC+D,EAAQ,GAAD,OAAIyC,GAAUsB,gBAAd,KAAkC,CACvC7D,QAAS,CACP8E,cAAenL,EAAcO,SAE9BwH,MAAK,SAAAC,GACN5F,EAAS,CACPjC,KnCJsB,emCKtBG,QAAS,CAAER,KAAMkI,EAASlI,KAAKA,aCRxBwV,GAAW,SAAAtV,GAAa,OAAI,SAAAoC,GACvC+D,EAAQ,GAAD,OAAIyC,GAAUwB,cAAd,KAAgC,CACrC/D,QAAS,CACP8E,cAAenL,EAAcO,SAE9BwH,MAAK,SAAAC,GACN5F,EAAS,CACPjC,KpCHoB,aoCIpBG,QAAS,CAAER,KAAMkI,EAASlI,aCHjByV,GAbI,SAAAvV,GAAa,OAAI,SAAAoC,GAClC+D,EAAQ,GAAD,OAAIyC,GAAUgB,SAAW,CAC9BvD,QAAS,CACP8E,cAAenL,EAAcO,SAE9BwH,MAAK,SAAAC,GACN5F,EAAS,CACPjC,KrCEyB,kBqCDzBG,QAAS,CAAER,KAAMkI,EAASlI,KAAKA,aCJxB0V,GAAa,SAAAxV,GAAa,OAAI,SAAAoC,GACzC+D,EAAQ,GAAD,OAAIyC,GAAU0B,gBAAkB,CACrCjE,QAAS,CACP8E,cAAenL,EAAcO,SAE9BwH,MAAK,SAAAC,GACN5F,EAAS,CACPjC,KtCGqB,csCFrBG,QAAS,CAAER,KAAMkI,EAASlI,aAKnB2V,GAAc,SAACzV,EAAeM,GAAhB,OAA4B,SAAA8B,GACrD,OAAOsE,EAAQ,GAAD,OAAIkC,GAAU0B,eAAd,KAAiChK,EAAS,CACtD+F,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EAvBO,QAuBa,EAAM,CAAErB,OAAQ,YACpCkC,EAASoT,GAAWxV,QAGvBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,wBC5BPmU,GAAgB,SAAA1V,GAAa,OAAI,SAAAoC,GAC5C+D,EAAQ,GAAD,OAAIyC,GAAU2B,cAAd,KAAgC,CACrClE,QAAS,CACP8E,cAAenL,EAAcO,SAE9BwH,MAAK,SAAAC,GACN5F,EAAS,CACPjC,KvCK0B,mBuCJ1BG,QAAS,CAAER,KAAMkI,EAASlI,KAAKA,aCM/BsM,I,OAAcC,EAAQ,MAsHbvF,gBATS,SAAA7G,GAAK,MAAK,CAChCD,cAAeC,EAAMD,cACrBqV,WAAYpV,EAAMoV,WAClBE,WAAYtV,EAAMsV,WAClBI,eAAgB1V,EAAMuV,WACtBF,SAAUrV,EAAMqV,SAChBI,cAAezV,EAAMyV,iBAGiB,CACtCvT,UACAE,UACAC,aACA+S,cACAE,cACAC,cACAF,YACAI,kBARa5O,CASZC,aA1GW,SAAC/E,GACb,IAAMhC,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBADnB,EAENgH,mBAAS,UAFH,mBAEvB7G,EAFuB,KAEjBmM,EAFiB,OAGItF,mBAAS,IAHb,mBAGvBG,EAHuB,KAGZoF,EAHY,OAKJvF,mBAAS,IALL,mBAKhBwF,GALgB,aAMkBxF,oBAAS,GAN3B,mBAMvByF,EANuB,KAMLC,EANK,KAwC9B,OAhCAzK,qBAAU,WACRV,EAAY,UAAU,KACrB,IAEHU,qBAAU,WACR,GAAID,EAAMsJ,SAASsB,OAAQ,CACzB,IAAMC,EAAQT,GAAYU,MAAM9K,EAAMsJ,SAASsB,QAC3CC,GAAwB,WAAfA,EAAM1M,KACjBmM,EAAQ,UACCO,GAAwB,UAAfA,EAAM1M,MACxBmM,EAAQ,SAENO,GAASA,EAAME,MACjBR,EAAaM,EAAME,MAEjBF,GAASA,EAAM/B,OACjB0B,EAASK,EAAM/B,UAIlB,IAEH7I,qBAAU,WACRyK,GAAoB,GACpB,IAAMM,EAAUhL,EAAM+I,QAAQxE,IAAI,WAC9BvG,EAAcX,QAAU2N,EAC1BhL,EAAMyJ,QAAQC,KAAd,SAEAgB,GAAoB,KAErB,IAGD,oCACE,yBAAKxK,UAAU,wBACb,yBAAKA,UAAU,SACf,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACY,gBAAxBF,EAAMxB,QAAQf,OACb,yBAAKyC,UAAU,OAAOiL,IAAKC,IAAaC,IAAI,gBAErB,eAAxBrL,EAAMxB,QAAQf,OACb,yBAAKyC,UAAU,OAAOiL,IAAKG,IAAaD,IAAI,iBAE5CZ,GAA6B,WAATtM,GACpB,yBAAK+B,UAAU,WACb,kBAAC,GAAD,eACE0J,mBAAoB,kBAAMU,EAAQ,WAClCX,kBAAmB,kBAAMW,EAAQ,WAC7BtK,MAIRyK,GAA6B,WAATtM,GACpB,yBAAK+B,UAAU,WACb,kBAAC,GAAD,eACEkG,mBAAoB,kBAAMkE,EAAQ,YAC9BtK,MAKRyK,GAA6B,UAATtM,GACpB,yBAAK+B,UAAU,WACb,kBAAC,GAAD,iBACMF,EADN,CAEEmF,UAAWA,EACXiB,mBAAoB,kBAAMkE,EAAQ,eAKvCG,GAAoB,kBAAC,GAAD,cCuFlBmJ,GAvLE,SAAC5T,GAChB,IAAMhC,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAC3CQ,EAAUiK,aAAY,SAAAxK,GAAK,OAAIA,EAAMO,WACrC4B,EAAWoI,cAuCXqL,EAAe,SAAAC,GAEnB,OADAvU,EAAY,eAAe,EAAM,IACzBuU,GACN,IAAK,0BACH,OAAOC,IACT,IAAK,uBACH,OAAOC,IACT,IAAK,oBACH,OAAOC,IACT,IAAK,iBACH,OAAOC,IACT,IAAK,UACH,OAAOC,IACT,QACE,OAAO,IAIPD,EAAiB,WACrB,OAAOE,EAAa,OAEhBH,EAAoB,WACxB,OAAOG,EAAa,UAEhBJ,EAAuB,WAC3B,OAAOI,EAAa,MAAM,IAEtBL,EAA0B,WAC9B,OAAOK,EAAa,SAAS,IAGzBA,EAAe,SAACjW,GAA2B,IAArBqL,IAAoB,yDAI9C,GAHa,UAATrL,GACFoB,EAAY,eAAe,EAAMS,EAAMuB,MAAM8S,OAAOzW,QAElDI,EAAcX,OAChB,OAAO,EAET,IAAIqI,EAAc,QACdsF,EAAUhL,EAAM+I,QAAQxE,IAAI,WAC5B+P,EAAY,UAOhB,GANa,UAATnW,IACF6M,EAAUhL,EAAM+I,QAAQxE,IAAIvE,EAAMuB,MAAM8S,OAAOzW,QAC/C0W,EAAYtU,EAAMuB,MAAM8S,OAAOzW,OAC/B8H,EAAW,gBAAY1F,EAAMuB,MAAM8S,OAAOzW,SAGxCoN,EACF7G,EAAQ,GAAD,OAAIuB,EAAJ,oBAA2BsF,GAAW,MAC1CjF,MAAK,SAAA8C,GAC2B,MAA3BA,EAAgB5C,SAClB7F,EACEC,EAAQ,CACNhD,QAAQ,EACRkB,MAAOsK,EAAgB/K,KAAKS,MAC5BgW,OAAQ,GACRhX,UAAWsL,EAAgB/K,KAAKP,UAChCC,SAAUqL,EAAgB/K,KAAKN,SAC/BF,MAAOuL,EAAgB/K,KAAKR,SAGnB,OAATa,IACFiC,EAASiT,GAAWxK,EAAgB/K,OACpCsC,EAASmT,GAAW1K,EAAgB/K,OACpCsC,EAASoT,GAAW3K,EAAgB/K,OACpCsC,EAASkT,GAASzK,EAAgB/K,OAClCsC,EAASsT,GAAc7K,EAAgB/K,YAK5CuI,OAAM,SAACR,GACN7F,EAAM+I,QAAQmC,OAAOoJ,GACjB9K,GAAsC,MAA1B3D,EAAMG,SAASC,QAC7B1G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,wBACTC,SAAU,MAEH,UAAThI,EACIqW,EAAqBxU,EAAMuB,MAAM8S,OAAOzW,QACxC6W,KACKjL,GAAsC,MAA1B3D,EAAMG,SAASC,SACpC1G,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,kBACTC,SAAU,MAEH,UAAThI,EACIqW,EAAqBxU,EAAMuB,MAAM8S,OAAOzW,QACxC6W,YAGL,KAAIjL,EAMT,OAAO,EAJE,UAATrL,EACIqW,EAAqBxU,EAAMuB,MAAM8S,OAAOzW,QACxC6W,MAMFN,EAAU,WAEd,OADAO,KACO,GAGHD,EAAoB,WACxBpL,OAAOC,SAASC,KAAhB,iCAGIiL,EAAuB,SAAAG,GAC3BtL,OAAOC,SAASC,KAAhB,wCAAwDoL,EAAxD,WAGID,EAAyB,WAC7B1U,EAAMyJ,QAAQC,KAAd,WAAuBlL,EAAQZ,OAA/B,mBAGF,OACE,oCArIkB,WAAO,IAAD,EAQxB,OANAQ,QAAQC,IAAI2B,EAAMlB,YAClB,UAAAkB,EAAMlB,kBAAN,SAAkBqP,SAAQ,SAAA2F,GACxB,IAAKD,EAAaC,GAChB,OAAO,MAGJ,EAoIJc,IACC,kBAAC5U,EAAM6U,UAAP,iBACM7U,EADN,CAEExB,QAASA,EACTC,MAAOuB,EAAMuB,MAAM8S,OAAOzW,YC7HrBkX,I,aA9DG,SAAC9U,GAsBjB,OACE,kBAAC,GAAD,CACEgR,QAAShR,EAAMgR,QACfK,iBAAkBrR,EAAMqR,iBACxBE,UAAQ,GAER,yBAAKrR,UAAU,wEACZF,EAAM+U,KAAO/U,EAAM+U,KAAO,sCAE7B,yBAAK7U,UAAU,gBACZF,EAAM2D,UAAY3D,EAAM2D,UACvB3D,EAAM2D,UACN,oCACE,kBAAC,EAAD,CACEsJ,YAAU,eACV/O,OAAQ8B,EAAMqR,iBACd5T,MAAM,UACNiG,QAAQ,SACRI,MAAM,OACNN,GAAG,gBANL,MAUA,kBAAC,EAAD,CACEyJ,YAAU,iBACV/O,OAjCG,WACbE,QAAQC,IAAI,oBACZ2B,EAAMqR,mBACNjT,QAAQC,IAAI,iBACZ2B,EAAM9B,SACNE,QAAQC,IAAI,iBA6BFZ,MAAM,UACNiG,QAAQ,YACRI,MAAM,QACNN,GAAG,gBANL,YCWGwR,I,OAzDA,SAAChV,GACd,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAFlB,EAGmBgH,oBAAS,GAH5B,mBAGxBiQ,EAHwB,KAGLC,EAHK,KAsB/B,OACE,yBAAKhV,UAAU,SAASQ,GAAIV,EAAMmV,OAAOC,KACvC,oCACE,yBAAKlV,UAAU,sBAAsBF,EAAMmV,OAAO7X,OAClD,yBAAK4C,UAAU,gBAAf,UAAkCF,EAAMmV,OAAO3X,SAA/C,aAA4DwC,EAAMmV,OAAO5X,aAE3E,yBAAK2C,UAAU,WACX+U,GACAjV,EAAMmV,OAAO7X,QAAU0C,EAAMqV,OAC7BrV,EAAMmV,OAAOC,MAAQpV,EAAMqV,OACzB,yBACEnV,UAAU,qBACV6D,QAAS,kBAAMmR,GAAsBD,KAFvC,KAOHA,GACC,oCACE,yBACE/U,UAAU,qBACV6D,QAAS,kBAAMmR,GAAsBD,KAFvC,UAMA,yBAAK/U,UAAU,sBAAsB6D,QA1ChC,WAEX/D,EAAMmV,OAAO7X,QAAU0C,EAAMqV,OAC7BrV,EAAMmV,OAAOC,MAAQpV,EAAMqV,OAI7BjV,ELgBuB,SACzBpC,EACAG,EACAsU,EACA6C,GAJyB,OAKtB,SAAAlV,GACHwE,GAAW,GAAD,OAAIgC,GAAU0B,eAAd,YAAgCnK,EAAhC,YAAwCsU,EAAxC,YAAkD6C,GAAY,CACtEjR,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EA/CO,QA+Ca,EAAM,CAAErB,OAAQ,YACpCkC,EAASoT,GAAWxV,IACpBoC,EAASiT,GAAWrV,QAGvBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBKnCdgW,CACEvX,EACAgC,EAAMwV,WACNxV,EAAMmV,OAAOC,IACbpV,EAAMsV,aA8BF,gBCyBGG,I,OAxES,SAACzV,GAAkB,IAAD,EACpBgF,mBAASnF,KADW,mBACjCa,EADiC,aAERsE,oBAAS,IAFD,mBAEjC0Q,EAFiC,KAEvBC,EAFuB,OAGR3Q,mBAAS,eACtCtE,EAAK,KAJgC,mBAGjCkV,EAHiC,KAGvBC,EAHuB,OAMQ7Q,wBAE9C8Q,GARsC,mBAMjCC,EANiC,KAMfC,EANe,KAUxC/V,qBAAU,WACRgW,EAAoBL,EAASlV,MAC5B,CAACV,EAAMkW,UAEV,IAaMD,EAAsB,SAAAE,GAC1BH,EACEhW,EAAMkW,QAAQ/J,QAAO,SAAAC,GAAI,uBACvBA,EAAKrL,aADkB,aACvB,EAAYqV,cAAcjM,SAASgM,EAAeC,oBAaxD,OARAnW,qBAAU,WACRoJ,OAAOiF,iBAAiB,SAAS,SAAChI,GAAY,IAAD,GACvC,UAACiI,SAASC,eAAe9N,UAAzB,aAAC,EAA6B+N,SAASnI,EAAEoI,UAC3CiH,GAAY,QAGf,IAGD,yBAAKzV,UAAU,oBAAoBQ,GAAIA,GACrC,yBAAKR,UAAU,cACb,kBAAC,GAAD,CACEQ,GAAIA,EACJ5C,KAAM8X,EACNpV,MAAOR,EAAMQ,MACbW,YA/BY,WAClBwU,GAAY,IA+BN1U,aA5Ba,SAAAuE,GACnBqQ,EAAY,eAAGrQ,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,QAChDkV,EAAoBzQ,EAAMkJ,OAAO3N,QA2B3BK,YAAapB,EAAMoB,eAGtBsU,GAAYK,GAAoBA,EAAiBnJ,OAAS,GACzD,yBAAK1M,UAAU,WAAf,OACG6V,QADH,IACGA,OADH,EACGA,EAAkBhJ,KAAI,SAAAX,GAAI,OACzB,yBACElM,UAAU,UACV8M,IAAKZ,EAAKY,IACVjJ,QAAS,kBA/CJiJ,EA+CmBZ,EAAKY,IA9CvC2I,GAAY,QACZ3V,EAAMiB,aAAa+L,GAFJ,IAAAA,IAiDJZ,EAAKrL,cCyCLsV,GAxGY,SAACrW,GAC1B,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAC3CW,EAAU8J,aAAY,SAAAxK,GAAK,OAAIA,EAAMU,WACrCC,EAAU6J,aAAY,SAAAxK,GAAK,OAAIA,EAAMW,WAJA,EAKjBoG,mBAA4B,CAAC,KALZ,mBAKpCsR,EALoC,KAK7BC,EAL6B,OAMnBvR,mBAAS,CAC/BwR,yBAA0B,CAAC,MAPc,mBAMpC1Y,EANoC,KAM9BsH,EAN8B,KAU3CnF,qBAAU,WACRG,EAASoT,GAAWxV,MACnB,CAACA,IAEJiC,qBAAU,WAAO,IAAD,EACRwW,EAAM,UAAG7X,EAAQd,KAAKA,YAAhB,aAAG,EAAmBqO,QAChC,SAAAC,GAAI,OAAIA,EAAKkJ,WAAatV,EAAMvB,MAAM2W,OAElCsB,EAASC,EAAKF,EAAQ9X,EAAQb,MACpCyY,EAASG,KACR,CAAC9X,EAAQd,KAAKA,OAEjB,IAAM6Y,EAAO,SAACC,EAAKC,GACjB,IAAMC,EAAa,GAQnB,OAPAD,EAAK9J,KAAI,SAAAgK,GACPH,EAAI7J,KAAI,SAAAX,GACF2K,EAAM3B,IAAI4B,QAAQ5K,EAAKqG,SAAW,GACpCqE,EAAIpN,KAAKqN,SAIRD,GAGT7W,qBAAU,WAAO,IAAD,EACVgX,EAAc,GAClB,UAAAtY,EAAQb,YAAR,SAAciP,KAAI,SAAAX,GAChB6K,EAAKvN,KAAK,CAAEsD,IAAKZ,EAAKgJ,IAAKrU,MAAOqL,EAAK9O,WAGzC,IAAM4Z,EAAmB,GACrBZ,GACFA,EAAMvJ,KAAI,SAAAX,GAAI,OAAI8K,EAAUxN,KAAK,CAAEhJ,GAAI0L,EAAKgJ,SAE9C6B,EAAOA,EAAK9K,QAAO,SAAAgL,GACjB,OAAQD,EAAUE,MAAK,SAAAhL,GACrB,OAAO+K,EAAInK,MAAQZ,EAAK1L,SAG5B0E,EAAQ,CAAEoR,yBAA0BS,MACnC,CAACtY,EAAQb,KAAMwY,IAYlB,OACE,oCACE,yBAAKpW,UAAU,cACb,yBAAKA,UAAU,qCACb,kBAAC,GAAD,CACEkB,YAAY,sBACZH,aAhBuB,SAACF,GAChCX,EACEqT,GAAYzV,EAAe,CACzBG,KAAM,QACNsU,OAAQ1R,EACRuU,SAAUtV,EAAMvB,MAAM2W,QAYlBc,QAASpY,EAAK0Y,4BAGlB,yBACEtW,UAAU,wCACV8M,IAAKrO,EAAQyW,KAEb,yBAAKlV,UAAU,iCACb,yBAAKA,UAAU,SAAf,SACA,yBAAKA,UAAU,SAAf,SANJ,OAQGoW,QARH,IAQGA,OARH,EAQGA,EAAOvJ,KAAI,SAAAX,GAAI,OACd,kBAAC,GAAD,CACEoJ,WAAW,QACXF,SAAUtV,EAAMvB,MAAM2W,IACtBD,OAAQ/I,EACRiJ,MAAOrV,EAAMvB,MAAMnB,aAK3B,yBAAK4C,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ8B,EAAMqX,wBACd5Z,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,YC6BOoX,GAtHG,SAACtX,GACjB,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAFf,EAGAgH,mBAAS,CACzCuS,KAAM,GACNC,MAAO,GACPC,QAAS,GACTjY,KAAM,KAP0B,mBAG3BkY,EAH2B,KAGhBC,EAHgB,KAUlC1X,qBAAU,WACR0X,EAAa3X,EAAMvB,SAClB,CAACuB,EAAMvB,QAoBV,IAAMwC,EAAe,SAAAuE,GACnBmS,EAAa,eACRD,EADO,eAETlS,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAIhC6W,EAAoB,SAAC7C,EAAM7O,GAC/B,OAAI7E,EAAgB0T,KAClBxV,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,UACAC,SAAU,OAEL,IAiBX,OACE,oCACE,yBAAKjG,UAAU,cACb,kBAAC,GAAD,CACEpC,KAAM4Z,EACNhX,GAAG,OACHF,MAAM,aACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,yBAAKpG,UAAU,kBACb,kBAAC,GAAD,CACEpC,KAAM4Z,EACNhX,GAAG,OACHvC,KAAK,SACLqC,MAAM,iBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM4Z,EACNhX,GAAG,QACHvC,KAAK,SACLqC,MAAM,kBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM4Z,EACNhX,GAAG,UACHvC,KAAK,SACLqC,MAAM,oBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,QAItC,yBAAKpG,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ8B,EAAMqX,wBACd5Z,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,UAQA,kBAAC,EAAD,CACEzC,MAAM,UACNS,OAxDU,WAEd0Z,EAAkBF,EAAUlY,KAAM,+BAClCoY,EACEF,EAAUH,MAAQG,EAAUF,OAASE,EAAUD,QAC/C,mCAGFrX,EX7BqB,SAACpC,EAAeM,GAAhB,OAA4B,SAAA8B,GACrD,OAAOsE,EAAQ,GAAD,OAAIkC,GAAUsB,gBAAd,KAAkC5J,EAAS,CACvD+F,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EA1CO,SA0Ca,EAAM,CAAErB,OAAQ,YACpCkC,EAASiT,GAAWrV,QAGvBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBWeLsY,CAAY7Z,EAAe0Z,KAiDhChU,QAAQ,UACRI,MAAM,SAEN,uBAAG5D,UAAU,kBAAb,gBANF,aCyDO4X,GA5JG,SAAC9X,GACjB,IAAMI,EAAWoI,cACX5J,EAAU6J,aAAY,SAAAxK,GAAK,OAAIA,EAAMW,WACrCZ,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAHf,EAKUgH,oBAAS,GALnB,mBAK3B+S,EAL2B,KAKXC,EALW,OAMYhT,oBAAS,GANrB,mBAM3BiT,EAN2B,KAMVC,EANU,OAOclT,oBAAS,GAPvB,mBAO3BmT,EAP2B,KAOTC,EAPS,OAQQpT,mBAA6B,GARrC,mBAQ3BqT,EAR2B,KAQZC,EARY,KAS5BzZ,EAAW4J,aAAY,SAAAxK,GAAK,OAAIA,EAAMY,YATV,EAUImG,mBAA6B,GAVjC,mBAU3BuT,EAV2B,KAUdC,EAVc,KAYlCvY,qBAAU,WACR,IAAMoM,EAAW1M,IAAiB2M,WAAU,SAAApG,GApB5B,UAqBVA,EAAQ1G,MAAwB0G,EAAQzG,SAC1CF,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,GAAD,OAxBG,QAwBH,YAAoBA,EAAQpI,KAAKI,QACxCiI,SAAU,MAEgB,YAAxBD,EAAQpI,KAAKI,QACf8Z,GAAkB,GAEQ,YAAxB9R,EAAQpI,KAAKI,QACfka,GAAoB,IA9BX,SAiCTlS,EAAQ1G,MAAuB0G,EAAQzG,SACzCF,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,GAAD,OApCE,OAoCF,YAAmBA,EAAQpI,KAAKI,QACvCiI,SAAU,MAEgB,YAAxBD,EAAQpI,KAAKI,QAEf8Z,GAAkB,GAEhB9R,EAAQpI,KAAKI,WAKrB,OAAO,kBAAMmO,EAASM,kBAGxB1M,qBAAU,WACRG,EAASoT,GAAWxV,MACnB,CAACA,IAEJiC,qBAAU,WAAO,IAAD,EACR0T,EAAc,UAAG/U,EAAQd,KAAKA,YAAhB,aAAG,EAAmBqO,QACxC,SAAAC,GAAI,OAAIA,EAAKkJ,WAAatV,EAAMvB,MAAM2W,OAGxCkD,EAAgB,OAAC3E,QAAD,IAACA,OAAD,EAACA,EAAgB/G,UAChC,CAAChO,EAAQd,KAAKA,OAEjBmC,qBAAU,WAAO,IAAD,EACd7B,QAAQC,IAAIQ,GACZT,QAAQC,IAAI2B,EAAMvB,MAAMkW,SACxB,IAAM8D,EAAY,UAAG5Z,EAASf,YAAZ,aAAG,EAAeqO,QAClC,SAAAC,GAAI,OAAIA,EAAKuI,UAAY3U,EAAMvB,MAAMkW,WAEvCvW,QAAQC,IAAIoa,GACZD,EAAeC,EAAa7L,UAC3B,CAAC/N,EAASf,OAEb,IAIM4a,EAAY,WAChBR,GAAmB,IAOfS,EAAiB,CACrB,CACEnY,MAAO,UACPtC,OAfc,WAChB8Z,GAAkB,IAehBhU,KAAM,QAER,CACExD,MAAO,iBACPtC,OAAQwa,EACR1U,KAAM,cAER,CACExD,MAAO,QACPtC,OAAQwa,EACR1U,KAAM,WAER,CACExD,MAAO,eACPtC,OAtBuB,WACzBka,GAAoB,IAsBlBpU,KAAM,WAIV,OACE,oCACE,yBAAK9D,UAAU,aAAa8M,IAAKhN,EAAMvB,MAAMiC,IAC3C,yBAAKR,UAAU,WACb,yBAAKA,UAAU,sBAAf,UAAwCF,EAAMvB,MAAMe,KAApD,aAA6DQ,EAAMvB,MAAMkW,QAAzE,MACA,yBAAKzU,UAAU,2BACb,yBAAKA,UAAU,iBAAiB6D,QAAS2U,GACtCL,EADH,qBAGA,yBAAKnY,UAAU,kBACZqY,GAA+B,IAAhBA,EAAf,UACMA,EADN,iDAMP,yBAAKrY,UAAU,sBACb,kBAAC,GAAD,CAAgBiP,SAAUwJ,EAAgBlb,MAAM,UAAUwR,OAAK,GAC7D,yBAAKZ,KAAK,QAAQnO,UAAU,eAC1B,uBAAGA,UAAU,kBAAb,kBAMR,kBAAC,GAAD,CACEM,MAAM,aACNwQ,QAAS+G,EACT1G,iBAAkB,kBAAM2G,GAAmBD,KAE3C,kBAAC,GAAD,CACEtZ,MAAOuB,EAAMvB,MACb4Y,wBAAyB,kBAAMW,GAAmBD,OAGtD,kBAAC,GAAD,CACEvX,MAAM,uBACNwQ,QAASiH,EACT5G,iBAAkB,kBAAM6G,GAAoBD,KAE5C,kBAAC,GAAD,CACExZ,MAAOuB,EAAMvB,MACb4Y,wBAAyB,kBAAMa,GAAoBD,OAGvD,kBAAC,GAAD,CACE/Z,OAAQ,kBAAMkC,EZzGK,SAACpC,EAAe2W,GAAhB,OAA4B,SAAAvU,GACrDwE,GAAW,GAAD,OAAIgC,GAAUuB,iBAAd,YAAkCwM,GAAW,CACrDtQ,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SAEX1G,EA9DO,SA8Da,EAAM,CAAErB,OAAQ,YACpCkC,EAASiT,GAAWrV,QAGvBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBY0FWqZ,CAAY5a,EAAegC,EAAMvB,MAAMkW,WAC9D3D,QAASmH,EACT9G,iBAAkB,kBAAM+G,GAAqBD,QC8EtCU,GAvOK,SAAC7Y,GAAkB,IAAD,EACAgF,oBAAS,GADT,mBAC7B8T,EAD6B,KACjBC,EADiB,KAE9B3Y,EAAWoI,cACXuC,EAAOtC,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAClCS,EAAQgK,aAAY,SAAAxK,GAAK,OAAIA,EAAMQ,SAJL,EAKZuG,mBAAS,CAC/BxF,KAAM,GACNlC,MAAO,GACP2H,SAAU,GACVoN,eAAgB,GAChBkF,KAAM,GACNC,MAAO,GACPC,QAAS,KAZyB,mBAK7B3Z,EAL6B,KAKvBsH,EALuB,OAcQJ,mBAAS,CAAE+P,KAAM,KAdzB,mBAc7BoB,EAd6B,KAcb6C,EAda,OAeZhU,wBAAiC8Q,GAfrB,mBAe7BmD,EAf6B,KAevBC,EAfuB,KAiBpCjZ,qBAAU,WACRV,EAAY,UAAU,KACrB,IAEHU,qBAAU,WACRiZ,EAAQtO,EAAOnM,EAAMX,KAAMqY,EAAepB,SACzC,CAACtW,EAAMX,KAAMqY,IAEhBlW,qBAAU,WACH6Y,GACH1T,EAAQ,eACHtH,EADE,CAEL0B,KAAM,GACNyF,SAAU,GACVoN,eAAgB,GAChBkF,KAAM,GACNC,MAAO,GACPC,QAAS,QAGZ,CAACqB,IAEJ7Y,qBAAU,WACR,IAAMoM,EAAW1M,IAAiB2M,WAAU,SAAApG,GA7CjC,UA8CLA,EAAQ1G,MAAmB0G,EAAQzG,SACrCF,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,GAAD,OAjDF,QAiDE,YAAeA,EAAQpI,KAAKI,QACnCiI,SAAU,MAEgB,YAAxBD,EAAQpI,KAAKI,QACf6a,GAAc,OAIpB,OAAO,kBAAM1M,EAASM,kBAGxB1M,qBAAU,WACRmF,EAAQ,eAAKtH,EAAN,CAAYR,MAAOyN,EAAKzN,WAC9B,CAACyN,IAEJ,IAAMH,EAAS,SAACuO,EAAWvD,GACzB,OAAIvU,EAAgBuU,GACXuD,EAEFA,EAAUhN,QACf,SAAAC,GAAI,OAAiE,IAA7DA,EAAK5M,KAAK4W,cAAcY,QAAQpB,EAASQ,mBAI/CwB,EAAoB,SAAC7C,EAAM7O,GAC/B,OAAI7E,EAAgB0T,KAClBxV,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,UACAC,SAAU,OAEL,IA0BLlF,EAAe,SAAAuE,GACnBJ,EAAQ,eACHtH,EADE,eAEJ0H,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAWtC,OACE,oCACE,yBAAKb,UAAU,yBACb,yBAAKA,UAAU,+BACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,cACb,kBAAC,GAAD,CACEM,MAAM,iBACNS,aAfqB,SAAAuE,GACjCwT,EAAkB,eACb7C,EADY,eAEd3Q,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAaxBL,GAAG,OACH5C,KAAMqY,KAGV,yBAAKjW,UAAU,iBACb,kBAAC,EAAD,CACEzC,MAAM,UACNS,OAAQ,kBAAM6a,GAAeD,IAC7BpV,QAAQ,UACRM,KAAK,WAJP,eAUJ,yBAAK9D,UAAU,cAAf,OACG+Y,QADH,IACGA,OADH,EACGA,EAAMlM,KAAI,SAAAX,GAAI,OACb,yBAAKY,IAAKZ,EAAKgJ,KACb,kBAAC,GAAD,CAAW1U,GAAI0L,EAAKgJ,IAAK3W,MAAO2N,WAO1C,kBAAC,GAAD,CACE5L,MAAM,YACNwQ,QAAS8H,EACTzH,iBAAkB,kBAAM0H,GAAeD,KAEvC,yBAAK5Y,UAAU,cACb,kBAAC,GAAD,CACEpC,KAAMA,EACN4C,GAAG,OACHF,MAAM,aACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,QACHF,MAAM,sBACNI,UAAQ,EACRK,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,WACHF,MAAM,yBACNrC,KAAK,WACL8C,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,iBACHF,MAAM,kBACNrC,KAAK,WACL8C,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,yBAAKpG,UAAU,kBACb,kBAAC,GAAD,CACEpC,KAAMA,EACN4C,GAAG,OACHvC,KAAK,SACLqC,MAAM,iBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,QACHvC,KAAK,SACLqC,MAAM,kBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,UACHvC,KAAK,SACLqC,MAAM,oBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,QAItC,yBAAKpG,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ,kBAAM6a,GAAeD,IAC7Brb,MAAM,UACNiG,QAAQ,SACRI,MAAM,OACNE,KAAK,SALP,UASA,kBAAC,EAAD,CACE9F,OAzIO,WbxEQ,IAACF,EAAeM,Ea0ErCsZ,EAAkB9Z,EAAK0B,KAAM,+BAC7BoY,EAAkB9Z,EAAKmH,SAAU,6BACjC2S,EACE9Z,EAAKyZ,MAAQzZ,EAAK0Z,OAAS1Z,EAAK2Z,QAChC,oCAGE3Z,EAAKmH,WAAanH,EAAKuU,eACzB9S,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAS,0BACTC,SAAU,MAGZ/F,GbxFoBpC,EawFC+M,EbxFczM,EawFRR,EbxFoB,SAAAsC,GACrD,OAAOoE,EAAS,GAAD,OAAIoC,GAAUsB,gBAAd,KAAkC5J,EAAS,CACxD+F,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EAvBO,SAuBa,EAAM,CAAErB,OAAQ,YACpCkC,EAASiT,GAAWrV,QAGvBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,2BaoMR9B,MAAM,UACNiG,QAAQ,YACRI,MAAM,QACNE,KAAK,gBALP,cCnHKqS,I,OA1GY,SAACrW,GAC1B,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAC3CW,EAAU8J,aAAY,SAAAxK,GAAK,OAAIA,EAAMU,WACrCC,EAAU6J,aAAY,SAAAxK,GAAK,OAAIA,EAAMW,WAJA,EAKjBoG,mBAA4B,CAAC,KALZ,mBAKpCsR,EALoC,KAK7BC,EAL6B,OAMnBvR,mBAAS,CAC/BwR,yBAA0B,CAAC,MAPc,mBAMpC1Y,EANoC,KAM9BsH,EAN8B,KAU3CnF,qBAAU,WACRG,EAASoT,GAAWxV,MACnB,CAACA,IAEJiC,qBAAU,WAAO,IAAD,EACRwW,EAAM,UAAG7X,EAAQd,KAAKA,YAAhB,aAAG,EAAmBqO,QAChC,SAAAC,GAAI,OAAIA,EAAKkJ,WAAatV,EAAMtB,IAAI0W,OAEhCsB,EAASC,EAAKF,EAAQ9X,EAAQb,MACpCyY,EAASG,KACR,CAAC9X,EAAQd,KAAKA,OAEjB,IAAM6Y,EAAO,SAACC,EAAKC,GACjB,IAAMC,EAAa,GAQnB,OAPAD,EAAK9J,KAAI,SAAAgK,GACPH,EAAI7J,KAAI,SAAAX,GACF2K,EAAM3B,IAAI4B,QAAQ5K,EAAKqG,SAAW,GACpCqE,EAAIpN,KAAKqN,SAIRD,GAGT7W,qBAAU,WAAO,IAAD,EACVgX,EAAc,GAClB,UAAAtY,EAAQb,YAAR,SAAciP,KAAI,SAAAX,GAChB6K,EAAKvN,KAAK,CAAEsD,IAAKZ,EAAKgJ,IAAKrU,MAAOqL,EAAK9O,WAGzC,IAAM4Z,EAAmB,GACrBZ,GACFA,EAAMvJ,KAAI,SAAAX,GAAI,OAAI8K,EAAUxN,KAAK,CAAEhJ,GAAI0L,EAAKgJ,SAE9C6B,EAAOA,EAAK9K,QAAO,SAAAgL,GACjB,OAAQD,EAAUE,MAAK,SAAAhL,GACrB,OAAO+K,EAAInK,MAAQZ,EAAK1L,SAG5B0E,EAAQ,CAAEoR,yBAA0BS,MACnC,CAACtY,EAAQb,KAAMwY,IAYlB,OACE,oCACE,yBAAKpW,UAAU,cACb,yBAAKA,UAAU,qCACb,kBAAC,GAAD,CACEkB,YAAY,sBACZH,aAhBuB,SAACF,GAChCX,EACEqT,GAAYzV,EAAe,CACzBG,KAAM,MACNsU,OAAQ1R,EACRuU,SAAUtV,EAAMtB,IAAI0W,QAYhBc,QAASpY,EAAK0Y,4BAGlB,yBACEtW,UAAU,wCACV8M,IAAKrO,EAAQyW,KAEb,yBAAKlV,UAAU,iCACb,yBAAKA,UAAU,SAAf,SACA,yBAAKA,UAAU,SAAf,QACA,yBAAKA,UAAU,WAPnB,OASGoW,QATH,IASGA,OATH,EASGA,EAAOvJ,KAAI,SAAAX,GAAI,OACd,kBAAC,GAAD,CACE+I,OAAQ/I,EACRkJ,SAAUtV,EAAMtB,IAAI0W,IACpBI,WAAW,MACXxI,IAAKZ,EAAKgJ,IACVC,MAAOrV,EAAMtB,IAAI0a,iBAKzB,yBAAKlZ,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ8B,EAAMqX,wBACd5Z,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,a,OClDOmZ,OA1Cf,SAAqBrZ,GAWnB,OACE,yBAAKE,UAAS,wBAPhB,WACE,IAAI4B,EAAQ9B,EAAMvC,MAAQuC,EAAMvC,MAAQ,GAExC,OADAqE,GAAS9B,EAAM0D,QAAN,WAAoB1D,EAAM0D,SAAY,GAKdX,KAC/B,yBAAK7C,UAAU,sBAMb,2BAAOA,UAAU,YACf,2BACE/B,KAAK,WACLqB,KAAMQ,EAAMU,GACZ4Y,QAAStZ,EAAMlC,KAAKkC,EAAMU,IAC1BA,GAAIV,EAAMU,GACVM,SAAU,SAAAsF,GAAC,OAxBCd,EAwBgBc,OAvBpCtG,EAAMiB,aAAauE,GADrB,IAAsBA,GAyBZ5E,SAAUZ,EAAMY,WAElB,2BAAOV,UAAU,eAAeO,QAAST,EAAMU,IAC5CV,EAAMQ,WCuEJ+Y,GAnGC,SAACvZ,GACf,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAFjB,EAGFgH,mBAAS,CACrCxF,KAAM,GACNgK,SAAU,GACVgQ,UAAW,KANmB,mBAGzBC,EAHyB,KAGhBC,EAHgB,KAShCzZ,qBAAU,WACRyZ,EAAW1Z,EAAMtB,OAChB,CAACsB,EAAMtB,MAEV,IAAMuC,EAAe,SAAAuE,GACnBkU,EAAW,eACND,EADK,eAEPjU,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAWhC6W,EAAoB,SAAC7C,EAAM7O,GAC/B,OAAI7E,EAAgB0T,KAClBxV,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,UACAC,SAAU,OAEL,IAcX,OACE,oCACE,yBAAKjG,UAAU,yBACb,kBAAC,GAAD,CACEpC,KAAM2b,EACN/Y,GAAG,OACHF,MAAM,mBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACN/Y,GAAG,WACHF,MAAM,eACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACN/Y,GAAG,cACHF,MAAM,eACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACNhc,MAAM,UACNiD,GAAG,YACHF,MAAM,wBACNS,aAAc,SAAAqF,GAAC,OAtDMd,EAsDmBc,OArD9CoT,EAAW,eACND,EADK,eAEPjU,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO4K,WAHT,IAAA9T,MAyDzB,yBAAKtF,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ8B,EAAMqX,wBACd5Z,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,UAQA,kBAAC,EAAD,CACEzC,MAAM,UACNS,OAjDU,WAEd0Z,EAAkB6B,EAAQja,KAAM,6BAChCoY,EAAkB6B,EAAQjQ,SAAU,iCAEpCpJ,EfdmB,SAACpC,EAAeM,GAAhB,OAA4B,SAAA8B,GACnD,OAAOsE,EAAQ,GAAD,OAAIkC,GAAUwB,cAAd,KAAgC9J,EAAS,CACrD+F,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EA1CO,OA0Ca,EAAM,CAAErB,OAAQ,YACpCkC,EAASkT,GAAStV,QAGrBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBeALoa,CAAU3b,EAAeyb,KA6C9B/V,QAAQ,UACRI,MAAM,SAEN,uBAAG5D,UAAU,kBAAb,gBANF,aCTO0Z,GAjFI,SAAC5Z,GAAkB,IAAD,EACLgF,mBAAS,CACrCoQ,IAAK,GACL5V,KAAM,GACNgK,SAAU,GACVqQ,YAAa,GACbL,WAAW,IANsB,mBAC5BC,EAD4B,KACnBC,EADmB,KASnCzZ,qBAAU,WACRyZ,EAAW1Z,EAAMtB,OAChB,CAACsB,EAAMtB,MAEV,IAAMuC,EAAe,SAAAuE,GACnBkU,EAAW,eACND,EADK,eAEPjU,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAWtC,OACE,oCACE,yBAAKb,UAAU,yBACb,kBAAC,GAAD,CACEpC,KAAM2b,EACN/Y,GAAG,MACHF,MAAM,iBACNI,UAAQ,EACRK,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACN/Y,GAAG,OACHF,MAAM,mBACNI,UAAQ,EACRK,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACN/Y,GAAG,WACHF,MAAM,eACNI,UAAQ,EACRK,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACN/Y,GAAG,cACHF,MAAM,eACNI,UAAQ,EACRK,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAM2b,EACN/Y,GAAG,YACHF,MAAM,wBACN/C,MAAM,UACNmD,UAAQ,EACRK,aAAc,SAAAqF,GAAC,OA5CMd,EA4CmBc,OA3C9CoT,EAAW,eACND,EADK,eAEPjU,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO4K,WAHT,IAAA9T,MA+CzB,yBAAKtF,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ8B,EAAMqX,wBACd5Z,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,YC1BO4Z,I,OA1CM,SAAC9Z,GACpB,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAFZ,EAGagH,oBAAS,GAHtB,mBAG9BiQ,EAH8B,KAGXC,EAHW,KAWrC,OACE,yBAAKhV,UAAU,WAAWQ,GAAIV,EAAM+Z,aAAa3E,KAC/C,yBAAKlV,UAAU,sBAAsBF,EAAM+Z,aAAapF,SACxD,yBAAKzU,UAAU,gBAAgBF,EAAM+Z,aAAava,MAClD,yBAAKU,UAAU,WACX+U,GACA,yBACE/U,UAAU,qBACV6D,QAAS,kBAAMmR,GAAsBD,KAFvC,KAODA,GACC,oCACE,yBACE/U,UAAU,qBACV6D,QAAS,kBAAMmR,GAAsBD,KAFvC,UAMA,yBAAK/U,UAAU,sBAAsB6D,QA3BhC,WACb3D,EduB0B,SAACpC,EAAe2W,EAAS7L,GAAzB,OAAmC,SAAA1I,GAC/DwE,GAAW,GAAD,OAAIgC,GAAU2B,cAAd,YAA+BoM,EAA/B,YAA0C7L,GAAS,CAC3DzE,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EA1CO,YA0Ca,EAAM,CAAErB,OAAQ,YACpCkC,EAASsT,GAAc1V,QAG1BqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBcpCdya,CAAehc,EAAegC,EAAM+Z,aAAapF,QAAS3U,EAAM8I,UAyB1D,gBCmDGmR,GAjFE,SAACja,GAChB,IAAMI,EAAWoI,cACXxK,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAC3Ckc,EAAUzR,aAAY,SAAAxK,GAAK,OAAIA,EAAMQ,SACrCI,EAAW4J,aAAY,SAAAxK,GAAK,OAAIA,EAAMY,YAJX,EAKPmG,mBAA4B,CAAC,KALtB,mBAK1BsR,EAL0B,KAKnBC,EALmB,OAMTvR,mBAAS,CAC/BwR,yBAA0B,CAAC,MAPI,mBAM1B1Y,EAN0B,KAMpBsH,EANoB,KAUjCnF,qBAAU,WAAO,IAAD,EACRkZ,EAAmB,GACzB,UAAAta,EAASf,YAAT,SAAeqO,QAAO,SAAAC,GAAI,OACxBA,EAAKtD,QAAU9I,EAAMtB,IAAI0W,IAAM+D,EAAUzP,KAAK,CAAEhJ,GAAI0L,EAAKuI,UAAa,MAGxE,IAAMwF,EAA2B,GAC3BC,EAA4B,GAC3B,OAAPF,QAAO,IAAPA,KAASpc,KAAKqO,QAAO,SAAAgL,GACnB,OAAOgC,EAAU/B,MAAK,SAAAhL,GACpB,OAAO+K,EAAIxC,UAAYvI,EAAK1L,MAE1ByZ,EAAkBzQ,KAAKyN,GACvBiD,EAAmB1Q,KAAK,CAAEsD,IAAKmK,EAAIxC,QAAS5T,MAAOoW,EAAI3X,UAG7D+W,EAAS4D,GACT/U,EAAQ,CAAEoR,yBAA0B4D,MACnC,CAACvb,EAASf,KAAMoc,EAAQpc,OAW3B,OACE,oCACE,yBAAKoC,UAAU,cACb,yBAAKA,UAAU,qCACb,kBAAC,GAAD,CACEkB,YAAY,uBACZH,aAfuB,SAACF,GAChCX,EfvB0B,SAACpC,EAAeM,GAAhB,OAA4B,SAAA8B,GACxD,OAAOsE,EAAQ,GAAD,OAAIkC,GAAU2B,cAAd,KAAgCjK,EAAS,CACrD+F,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EAvBO,YAuBa,EAAM,CAAErB,OAAQ,YACpCkC,EAASsT,GAAc1V,QAG1BqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBeUd8a,CAAerc,EAAe,CAC5B8K,MAAO9I,EAAMtB,IAAI0W,IACjBT,QAAS5T,MAYLmV,QAASpY,EAAK0Y,4BAGlB,yBACEtW,UAAU,wCACV8M,IAAKkN,EAAQ9E,KAEb,yBAAKlV,UAAU,iCACb,yBAAKA,UAAU,SAAf,QACA,yBAAKA,UAAU,SAAf,WACA,yBAAKA,UAAU,WAPnB,OASGoW,QATH,IASGA,OATH,EASGA,EAAOvJ,KAAI,SAAAX,GAAI,OACd,kBAAC,GAAD,CACE2N,aAAc3N,EACdtD,MAAO9I,EAAMtB,IAAI0W,IACjBpI,IAAKZ,EAAKgJ,WAKlB,yBAAKlV,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ8B,EAAMqX,wBACd5Z,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,YC2JOoa,GAvNC,SAACta,GACf,IAAMI,EAAWoI,cACX5J,EAAU6J,aAAY,SAAAxK,GAAK,OAAIA,EAAMW,WACrCC,EAAW4J,aAAY,SAAAxK,GAAK,OAAIA,EAAMY,YACtCb,EAAgByK,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAJjB,EAMYgH,oBAAS,GANrB,mBAMzB+S,EANyB,KAMTC,EANS,OAOkBhT,oBAAS,GAP3B,mBAOzBuV,EAPyB,KAONC,EAPM,OAQcxV,oBAAS,GARvB,mBAQzBiT,EARyB,KAQRC,EARQ,OASoBlT,oBAAS,GAT7B,mBASzByV,EATyB,KASLC,EATK,OAUgB1V,oBAAS,GAVzB,mBAUzBmT,EAVyB,KAUPC,EAVO,OAWUpT,mBAA6B,GAXvC,mBAWzBqT,EAXyB,KAWVC,EAXU,OAYUtT,mBAA6B,GAZvC,mBAYzB2V,EAZyB,KAYVC,EAZU,KAchC3a,qBAAU,WACR,IAAMoM,EAAW1M,IAAiB2M,WAAU,SAAApG,GArB9B,QAsBRA,EAAQ1G,MAAsB0G,EAAQzG,SACxCF,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,GAAD,OAzBC,MAyBD,YAAkBA,EAAQpI,KAAKI,QACtCiI,SAAU,MAEgB,YAAxBD,EAAQpI,KAAKI,QACf8Z,GAAkB,GAEQ,YAAxB9R,EAAQpI,KAAKI,QACfka,GAAoB,IA/BX,SAkCTlS,EAAQ1G,MAAuB0G,EAAQzG,SACzCF,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,GAAD,OArCE,OAqCF,YAAmBA,EAAQpI,KAAKI,QACvCiI,SAAU,MAEgB,YAAxBD,EAAQpI,KAAKI,QACf8Z,GAAkB,OAIxB,OAAO,kBAAM3L,EAASM,kBAGxB1M,qBAAU,WACRG,EAASoT,GAAWxV,MACnB,CAACA,IAEJiC,qBAAU,WAAO,IAAD,EACR0T,EAAc,UAAG/U,EAAQd,KAAKA,YAAhB,aAAG,EAAmBqO,QACxC,SAAAC,GAAI,OAAIA,EAAKkJ,WAAatV,EAAMtB,IAAI0W,OAEtCkD,EAAgB,OAAC3E,QAAD,IAACA,OAAD,EAACA,EAAgB/G,UAChC,CAAChO,EAAQd,KAAKA,OAEjBmC,qBAAU,WAAO,IAAD,EACR4a,EAAc,UAAGhc,EAASf,YAAZ,aAAG,EAAeqO,QACpC,SAAAC,GAAI,OAAIA,EAAKtD,QAAU9I,EAAMtB,IAAI0W,OAEnChX,QAAQC,IAAIwc,EAAejO,QAC3BgO,EAAiBC,EAAejO,UAC/B,CAAC/N,EAASf,OAEb,IAAMgd,EAAU,WACd9C,GAAkB,IAMdU,EAAY,WAChBR,GAAmB,IAOf6C,EAAmB,WACvB3C,GAAoB,IAGhBO,EAAiB3Y,EAAMtB,IAAI8a,UAC7B,CACE,CACEhZ,MAAO,kBACPtC,OAZS,WACfwc,GAAsB,IAYhB1W,KAAM,QAER,CACExD,MAAO,UACPtC,OAAQ4c,EACR9W,KAAM,QAER,CACExD,MAAO,iBACPtC,OAAQwa,EACR1U,KAAM,cAER,CACExD,MAAO,QACPtC,OAAQwa,EACR1U,KAAM,WAER,CACExD,MAAO,aACPtC,OAAQ6c,EACR/W,KAAM,WAGV,CACE,CACExD,MAAO,UACPtC,OAAQ4c,EACR9W,KAAM,QAER,CACExD,MAAO,iBACPtC,OAAQwa,EACR1U,KAAM,cAER,CACExD,MAAO,QACPtC,OAAQwa,EACR1U,KAAM,WAER,CACExD,MAAO,aACPtC,OAAQ6c,EACR/W,KAAM,WAId,OACE,oCACE,yBAAK9D,UAAU,aAAa8M,IAAKhN,EAAMtB,IAAI0W,KACzC,yBAAKlV,UAAU,WACb,yBACEA,UAAU,qBACV6D,QAxES,WACjByW,GAAqB,KAqEf,UAGKxa,EAAMtB,IAAIc,OACf,yBAAKU,UAAU,yBAAf,UAA2CF,EAAMtB,IAAI8K,WACrD,yBAAKtJ,UAAU,2BACb,yBAAKA,UAAU,iBAAiB6D,QAAS2U,GACtCL,EADH,mBAGA,6BACGrY,EAAMtB,IAAI8a,UAAV,UACMmB,EADN,qCAMP,yBAAKza,UAAU,sBACb,kBAAC,GAAD,CAAgBiP,SAAUwJ,EAAgBlb,MAAM,UAAUwR,OAAK,GAC7D,yBAAKZ,KAAK,QAAQnO,UAAU,eAC1B,uBAAGA,UAAU,kBAAb,iBAKN,kBAAC,GAAD,CACEM,MAAM,YACNwQ,QAASyJ,EACTpJ,iBAAkB,kBAAMqJ,GAAuBD,KAE/C,kBAAC,GAAD,CACE/b,IAAKsB,EAAMtB,IACX2Y,wBAAyB,kBACvBqD,GAAuBD,OAK7B,kBAAC,GAAD,CACEja,MAAM,WACNwQ,QAAS+G,EACT1G,iBAAkB,kBAAM2G,GAAmBD,KAE3C,kBAAC,GAAD,CACErZ,IAAKsB,EAAMtB,IACX2Y,wBAAyB,kBAAMW,GAAmBD,OAGtD,kBAAC,GAAD,CACEvX,MAAM,cACNwQ,QAASuJ,EACTlJ,iBAAkB,kBAAMmJ,GAAsBD,KAE9C,kBAAC,GAAD,CACE7b,IAAKsB,EAAMtB,IACX2Y,wBAAyB,kBACvBmD,GAAsBD,OAI5B,kBAAC,GAAD,CACE/Z,MAAM,qBACNwQ,QAASiH,EACT5G,iBAAkB,kBAAM6G,GAAoBD,KAE5C,kBAAC,GAAD,CACEvZ,IAAKsB,EAAMtB,IACX2Y,wBAAyB,kBAAMa,GAAoBD,OAGvD,kBAAC,GAAD,CACE/Z,OAAQ,kBAAMkC,EnBnKC,SAACpC,EAAe2W,GAAhB,OAA4B,SAAAvU,GACnDwE,GAAW,GAAD,OAAIgC,GAAUyB,eAAd,YAAgCsM,GAAW,CACnDtQ,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SAEX1G,EA9DO,OA8Da,EAAM,CAAErB,OAAQ,YACpCkC,EAASkT,GAAStV,QAGrBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,uBmBoJayb,CAAUhd,EAAegC,EAAMtB,IAAIoK,SAC1DkI,QAASmH,EACT9G,iBAAkB,kBAAM+G,GAAqBD,SCZxC8C,GAtMG,SAACjb,GAAkB,IAAD,EACEgF,oBAAS,GADX,mBAC3B8T,EAD2B,KACfC,EADe,KAE5B3Y,EAAWoI,cACXuC,EAAOtC,aAAY,SAAAxK,GAAK,OAAIA,EAAMD,iBAClCU,EAAM+J,aAAY,SAAAxK,GAAK,OAAIA,EAAMS,IAAIZ,QAJT,EAKVkH,mBAAS,CAC/BxF,KAAM,GACNgK,SAAU,GACVqQ,YAAa,GACbL,WAAW,IATqB,mBAK3B1b,EAL2B,KAKrBsH,EALqB,OAWUJ,mBAAS,CAAE+P,KAAM,KAX3B,mBAW3BoB,EAX2B,KAWX6C,EAXW,OAYVhU,wBAAiC8Q,GAZvB,mBAY3BmD,EAZ2B,KAYrBC,EAZqB,KAclCjZ,qBAAU,WACRV,EAAY,UAAU,KACrB,IAEHU,qBAAU,WACRiZ,EAAQtO,EAAOlM,EAAIZ,KAAMqY,EAAepB,SACvC,CAACrW,EAAIZ,KAAMqY,IAEdlW,qBAAU,WACH6Y,GACH1T,EAAQ,eACHtH,EADE,CAEL0B,KAAM,GACNgK,SAAU,GACVqQ,YAAa,GACbL,WAAW,OAGd,CAACV,IAEJ7Y,qBAAU,WACR,IAAMoM,EAAW1M,IAAiB2M,WAAU,SAAApG,GAxCjC,QAyCLA,EAAQ1G,MAAmB0G,EAAQzG,SACrCF,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,QAAQ,GAAD,OA5CF,MA4CE,YAAeA,EAAQpI,KAAKI,QACnCiI,SAAU,MAEgB,YAAxBD,EAAQpI,KAAKI,QACf6a,GAAc,OAIpB,OAAO,kBAAM1M,EAASM,kBAGxB,IAAM/B,EAAS,SAACsQ,EAAStF,GACvB,OAAIvU,EAAgBuU,GACXsF,EAEFA,EAAQ/O,QACb,SAAAC,GAAI,OAAiE,IAA7DA,EAAK5M,KAAK4W,cAAcY,QAAQpB,EAASQ,mBAI/CwB,EAAoB,SAAC7C,EAAM7O,GAC/B,OAAI7E,EAAgB0T,KAClBxV,EAAY,gBAAgB,EAAM,CAChCpB,KAAM,UACN+H,UACAC,SAAU,OAEL,IAsBLlF,EAAe,SAAAuE,GACnBJ,EAAQ,eACHtH,EADE,eAEJ0H,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAkBtC,OACE,oCACE,yBAAKb,UAAU,uBACb,yBAAKA,UAAU,+BACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,cACb,kBAAC,GAAD,CACEM,MAAM,iBACNS,aAfqB,SAAAuE,GACjCwT,EAAkB,eACb7C,EADY,eAEd3Q,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO3N,UAaxBL,GAAG,OACH5C,KAAMqY,KAGV,yBAAKjW,UAAU,iBACb,kBAAC,EAAD,CACEzC,MAAM,UACNS,OAAQ,kBAAM6a,GAAeD,IAC7BpV,QAAQ,UACRM,KAAK,WAJP,aAUJ,yBAAK9D,UAAU,cAAf,OACG+Y,QADH,IACGA,OADH,EACGA,EAAMlM,KAAI,SAAAX,GAAI,OACb,kBAAC,GAAD,CAAS1N,IAAK0N,EAAMY,IAAKZ,EAAKgJ,YAMtC,kBAAC,GAAD,CACE5U,MAAM,UACNwQ,QAAS8H,EACTzH,iBAAkB,kBAAM0H,GAAeD,KAEvC,yBAAK5Y,UAAU,yBACb,kBAAC,GAAD,CACEpC,KAAMA,EACN4C,GAAG,OACHF,MAAM,mBACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,WACHF,MAAM,eACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACExI,KAAMA,EACN4C,GAAG,cACHF,MAAM,eACNS,aAAc,SAAAqF,GAAC,OAAIrF,EAAaqF,MAElC,kBAAC,GAAD,CACE0G,IAAKlP,EAAK0B,KACV1B,KAAMA,EAAK0b,UACX9Y,GAAG,YACHF,MAAM,wBACN/C,MAAM,UACNiG,QAAQ,SACRzC,aAAc,SAAAqF,GAAC,OA7EId,EA6EqBc,OA5EhDlB,EAAQ,eACHtH,EADE,eAEJ0H,EAAMkJ,OAAOlP,KAAOgG,EAAMkJ,OAAO4K,WAHT,IAAA9T,MAgFvB,yBAAKtF,UAAU,gBACb,kBAAC,EAAD,CACEhC,OAAQ,kBAAM6a,GAAeD,IAC7Brb,MAAM,UACNiG,QAAQ,SACRI,MAAM,QAEN,uBAAG5D,UAAU,kBAAb,SANF,UAQA,kBAAC,EAAD,CACEhC,OAlHK,WpBhEQ,IAACF,EAAeM,EoBkEnCsZ,EAAkB9Z,EAAK0B,KAAM,8BAC7BoY,EAAkB9Z,EAAK0L,SAAU,iCACjCoO,EAAkB9Z,EAAK+b,YAAa,kCAEpCzZ,GpBtEoBpC,EoBuER+M,EpBvEuBzM,EoBuEjB,CACdkB,KAAM1B,EAAK0B,KACXgK,SAAU1L,EAAK0L,SACfqQ,YAAa/b,EAAK+b,YAClBL,UAAW1b,EAAK0b,WpB3E2B,SAAApZ,GACnD,OAAOoE,EAAS,GAAD,OAAIoC,GAAUwB,cAAd,KAAgC9J,EAAS,CACtD+F,QAAS,CACP8E,cAAenL,EAAcO,SAG9BwH,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACX1G,EAvBO,OAuBa,EAAM,CAAErB,OAAQ,YACpCkC,EAASkT,GAAStV,QAGrBqI,OAAM,SAAAR,GACyB,MAA1BA,EAAMG,SAASC,QACjB1G,EAAY,0BoBqKR9B,MAAM,UACNiG,QAAQ,YACRI,MAAM,SAEN,uBAAG5D,UAAU,kBAAb,gBANF,cChKKib,I,OAjCG,SAACnb,GAKjB,OAJAC,qBAAU,WACRV,EAAY,UAAU,KACrB,IAGD,yBAAKW,UAAU,YACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,gCAAf,8BAGA,yBAAKA,UAAU,gBAAf,01BCOKkb,I,OAnBE,SAACpb,GAKhB,OAJAC,qBAAU,WACRV,EAAY,UAAU,KACrB,IAGD,yBAAKW,UAAU,YACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,gCAAf,aACA,yBAAKA,UAAU,gBAAf,6CCUJmb,GAAS,CACbC,YAAaC,GAAS,WACtBC,YAAaD,GAAS,WACtBE,YAAaF,GAAS,WACtBG,YAAaH,GAAS,YAGxB,SAASA,GAASrY,GAChB,OAAOyY,YAAe,CACpBC,QAAS,CACPC,QAAS,CACPC,KAAM5Y,GAER6Y,UAAW,CACTD,KAAM5Y,MAmBd,IAgLe4B,gBAPS,SAAC7G,GAAD,MAAiB,CACvCD,cAAeC,EAAMD,cACrBge,KAAM/d,EAAM+d,KACZxd,QAASP,EAAMO,WAIuB,CACtC2B,UACAE,UACAC,aACAiL,cACAC,eALa1G,CAMZC,aAtLa,SAAC/E,GACfC,qBAAU,WACRD,EAAMuL,aACNvL,EAAMG,UACNH,EAAMG,YACL,IAEHF,qBAAU,WACR,IAAMoM,EAAW1M,IAAiB2M,WAAU,SAAApG,GACrB,oBAAjBA,EAAQ1G,MACVmQ,EAAO,KAAM,UAAW,mCAG5B,OAAO,kBAAMtD,EAASM,kBAGxB,IAAMgD,EAAS,SACbnK,GAGI,IAFJrH,EAEG,uDAFI,UACP+H,EACG,uDADO,2BAEVlG,EAAMM,aACNN,EAAM+I,QAAQmC,OAAO,WACrB3L,EAAY,gBAAgB,EAAM,CAChCpB,OACA+H,UACAC,SAAU,OAId,OACE,yBACEjG,UAAS,cAASF,EAAMxB,QAAQf,MAAvB,YAAgCuC,EAAMxB,QAAQd,SAA9C,YAA0DsC,EAAMxB,QAAQb,aAEjF,kBAAC,aAAD,KAEE,yBAAKuC,UAAU,QACb,yBAAKA,UAAU,gBACb,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAkBzC,MAAO4d,GAAOC,aAC9B,kBAAC,GAAD,iBAAgBtb,EAAhB,CAAuB2P,OAAQA,KAC/B,kBAAC,QAAD,CACEsM,OAAK,EACLC,KAAK,QACLC,OAAQ,SAAAC,GAAU,OAChB,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAW9U,EACXjB,WAAY,CAAC,8BAInB,kBAAC,QAAD,CACEmd,OAAK,EACLC,KAAK,IACLC,OAAQ,SAAAC,GAAU,OAChB,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAW9U,EACXjB,WAAY,CAAC,8BAInB,kBAAC,QAAD,CACEod,KAAK,uBACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWwH,SAIjB,kBAAC,QAAD,CACEJ,OAAK,EACLC,KAAK,sBACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWsG,GACXrc,WAAY,CAAC,iCAInB,kBAAC,QAAD,CACEmd,OAAK,EACLC,KAAK,iBACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWsG,GACXrc,WAAY,CAAC,iCAInB,kBAAC,QAAD,CACEmd,OAAK,EACLC,KAAK,sBACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWuG,GACXtc,WAAY,CAAC,2BAInB,kBAAC,QAAD,CACEod,KAAK,SACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWyH,SAWjB,kBAAC,QAAD,CACEJ,KAAK,eACLD,OAAK,EACLE,OAAQ,SAAAC,GAAU,OAChB,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWgE,GACX/Z,WAAY,CAAC,wBAInB,kBAAC,QAAD,CACEod,KAAK,aACLD,OAAK,EACLE,OAAQ,SAAAC,GAAU,OAChB,kBAAC,GAAD,iBACMA,EACApc,EAFN,CAGE2P,OAAQ,kBAAMA,GACdkF,UAAWoG,GACXnc,WAAY,CAAC,iCC5MlByd,GARH,SAAAvc,GACV,OACE,kBAAC,IAAD,CAAUhB,MAAOA,GACf,kBAAC,GAAYgB,KCECwc,QACW,cAA7BnT,OAAOC,SAASmT,UAEe,UAA7BpT,OAAOC,SAASmT,UAEhBpT,OAAOC,SAASmT,SAASlb,MACvB,2DCXNmb,IAASP,OACP,kBAAC,IAAD,KACE,kBAAC,GAAD,OAEF5N,SAASC,eAAe,SDsHpB,kBAAmBmO,WACrBA,UAAUC,cAAcC,MAAM9W,MAAK,SAAA+W,GACjCA,EAAaC,iB,kFEnInB7f,EAAOC,QAAU,IAA0B,gD","file":"static/js/main.98eb1dc0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ioak_white.39c878d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/ioak_black.0ba1fd52.svg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n  email: '',\r\n  firstName: '',\r\n  lastName: '',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_AUTH:\r\n      console.log('GET_AUTH reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case ADD_AUTH:\r\n      console.log('ADD_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    case REMOVE_AUTH:\r\n      console.log('REMOVE_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        token: '',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  theme: 'theme_dark',\r\n  textSize: 'textsize_medium',\r\n  themeColor: 'themecolor1',\r\n  tenant: '',\r\n  appStatus: 'notmounted',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_PROFILE:\r\n      console.log('GET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case SET_PROFILE:\r\n      console.log('SET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { UPDATE_SPACE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_SPACE:\r\n      console.log('SET SPACE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { UPDATE_ROLE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_ROLE:\r\n      console.log('SET SPACE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_ALL_USERS } from '../actions/types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_ALL_USERS:\r\n      console.log('SET SPACE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { UPDATE_APP } from '../actions/types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_APP:\r\n      console.log('SET APP reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { UPDATE_APP_SPACE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case UPDATE_APP_SPACE:\r\n      console.log('SET SPACE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\nimport SpaceReducer from './SpaceReducer';\r\nimport OaRoleReducer from './OaRoleReducer';\r\nimport OaUserReducer from './OaUserReducer';\r\nimport AppReducer from './AppReducer';\r\nimport AppSpaceReducer from './AppSpaceReducer';\r\n\r\nexport default combineReducers({\r\n  authorization: AuthReducer,\r\n  profile: ProfileReducer,\r\n  space: SpaceReducer,\r\n  app: AppReducer,\r\n  oaUsers: OaUserReducer,\r\n  oaRoles: OaRoleReducer,\r\n  appSpace: AppSpaceReducer,\r\n});\r\n","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';\r\n\r\nexport const GET_USER = 'GET_USER';\r\nexport const ADD_USER = 'ADD_USER';\r\n\r\nexport const FETCH_ARTICLE = 'FETCH_ARTICLE';\r\nexport const FETCH_REQUEST = 'FETCH_REQUEST';\r\nexport const FETCH_STAGE = 'FETCH_STAGE';\r\nexport const FETCH_ALL_USERS = 'FETCH_ALL_USERS';\r\n\r\nexport const UPDATE_SPACE = 'UPDATE_SPACE';\r\nexport const UPDATE_APP = 'UPDATE_APP';\r\nexport const UPDATE_SPACE_ADMIN = 'UPDATE_SPACE_ADMIN';\r\nexport const UPDATE_ROLE = 'UPDATE_ROLE';\r\nexport const UPDATE_APP_SPACE = 'UPDATE_APP_SPACE';\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware) // ,\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable, BehaviorSubject } from 'rxjs';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n  subject.next({\r\n    name,\r\n    signal,\r\n    data,\r\n  });\r\n}\r\n\r\nexport function clearMessages() {\r\n  subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n  return subject.asObservable();\r\n}\r\n\r\nexport function newMessageId() {\r\n  return Math.random();\r\n}\r\n\r\nexport function newId() {\r\n  return uuidv4();\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport './style.scss';\r\nimport Navigation from '../Navigation';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  logout: Function;\r\n}\r\nconst Home = (props: Props) => {\r\n  useEffect(() => {\r\n    sendMessage('navbar', true);\r\n  }, []);\r\n  return (\r\n    <div className=\"page-home\">\r\n      <div className=\"app-container smooth-page\">\r\n        <div className=\"home\">\r\n          <div className=\"typography-10 space-bottom-2\">\r\n            Home page and Landing page\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n            <br />\r\n            <br />\r\n            Duis ut elementum urna. In sed hendrerit lacus, non rutrum diam. In\r\n            non mauris at eros tempor elementum. Etiam eu risus ut lacus\r\n            malesuada feugiat. Maecenas in pellentesque enim. Aenean auctor ac\r\n            eros rhoncus egestas. Integer facilisis tincidunt ultricies.\r\n            Praesent nec leo quam. Cras eleifend pulvinar nisi, aliquet aliquam\r\n            nulla faucibus ac. Vivamus lorem orci, elementum sit amet eros ac,\r\n            vestibulum placerat tortor. Interdum et malesuada fames ac ante\r\n            ipsum primis in faucibus. Duis malesuada nulla sed lorem mattis\r\n            maximus nec vitae sapien. Proin et odio id nibh tincidunt congue\r\n            aliquet eu turpis.\r\n            <br />\r\n            <br />\r\n            Pellentesque sit amet nunc ac nibh blandit ultricies condimentum\r\n            cursus lorem. Curabitur ac nisi magna. Ut a erat eget ligula rutrum\r\n            vestibulum. Mauris vulputate aliquet augue, molestie porta nulla\r\n            consequat id. Ut ut orci sollicitudin, volutpat nulla non,\r\n            sollicitudin diam. Class aptent taciti sociosqu ad litora torquent\r\n            per conubia nostra, per inceptos himenaeos. Sed efficitur justo nec\r\n            scelerisque facilisis. Cras nec mollis nibh. Donec id ante vel arcu\r\n            aliquam vehicula. Ut vitae enim libero. Class aptent taciti sociosqu\r\n            ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n            <br />\r\n            <br />\r\n            Nunc non neque sollicitudin, tempus ex id, tincidunt orci. Sed\r\n            rutrum sollicitudin elit ac tincidunt. Fusce lobortis nec ligula id\r\n            ullamcorper. Etiam nec velit ante. In vel porttitor justo, a\r\n            imperdiet augue. Cras dignissim mauris id massa vulputate, id\r\n            efficitur tortor bibendum. Mauris felis sapien, egestas ut aliquet\r\n            et, semper nec tellus. Morbi sed velit non risus euismod\r\n            ullamcorper. Nullam vitae sollicitudin urna. Nullam sed euismod\r\n            tellus, vitae laoreet ex. Cras porta vulputate orci, ac posuere\r\n            turpis finibus id.\r\n            <br />\r\n            <br />\r\n            Maecenas a blandit ex. Cras lacus quam, volutpat sed sodales non,\r\n            rutrum sed diam. In et justo vitae purus consequat varius id a\r\n            ipsum. In luctus sapien ac magna tempus, nec congue nibh facilisis.\r\n            Quisque pharetra augue nec justo rhoncus vehicula. Etiam eget auctor\r\n            dolor. Nam fringilla lectus ut nisi eleifend congue. Integer id eros\r\n            scelerisque, tempus augue vitae, ultricies mi. Nam quis cursus nisi,\r\n            at laoreet sapien. Phasellus non magna massa. Proin vel libero diam.\r\n            Aliquam a maximus magna. Maecenas dui ex, pretium in pharetra et,\r\n            rhoncus ut erat. Pellentesque eu dapibus sapien.\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from './types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n  dispatch({\r\n    type: GET_AUTH,\r\n  });\r\n};\r\n\r\nexport const addAuth = data => dispatch => {\r\n  dispatch({\r\n    type: ADD_AUTH,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const removeAuth = () => dispatch => {\r\n  dispatch({\r\n    type: REMOVE_AUTH,\r\n  });\r\n};\r\n","import React from 'react';\r\nimport './styles/oak-text-plain.scss';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  id: string;\r\n  data: any;\r\n  type?: string;\r\n  handleChange: any;\r\n  errorFields?: any;\r\n  disabled?: boolean;\r\n  rows?: number;\r\n  multiline?: boolean;\r\n  handleFocus?: Function;\r\n  placeholder?: string;\r\n}\r\nconst OakTextPlain = (props: Props) => {\r\n  const handleFocus = () => {\r\n    if (props.handleFocus) {\r\n      props.handleFocus();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"oak-text-plain\">\r\n      {props.label && <label htmlFor={props.id}>{props.label}</label>}\r\n      {!props.multiline && (\r\n        <input\r\n          disabled={props.disabled}\r\n          autoComplete=\"off\"\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          type={props.type ? props.type : 'text'}\r\n          name={props.id}\r\n          id={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n          onFocus={handleFocus}\r\n          placeholder={props.placeholder}\r\n        />\r\n      )}\r\n      {/* rows={props.rows ? props.rows : 4} */}\r\n      {props.multiline && (\r\n        <textarea\r\n          disabled={props.disabled}\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          id={props.id}\r\n          name={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      {/* {props.multiline && <div contentEditable={props.disabled ? false : true} suppressContentEditableWarning={true}\r\n                className={\"textarea \" + (props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                onBlur={handleChange}>{props.data[props.id]}</div>} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakTextPlain;\r\n","export function isEmptyOrSpaces(str) {\r\n  return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n  let found = false;\r\n  if (words) {\r\n    words.split(' ').forEach(word => {\r\n      if (text.match(new RegExp(`(\\\\w*${word}\\\\w*)`, 'gi'))) {\r\n        found = true;\r\n      }\r\n    });\r\n  }\r\n  return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n  const result = array.sort(function(o1, o2) {\r\n    if (isReverseOrder) {\r\n      return o1[property] > o2[property]\r\n        ? -1\r\n        : o1[property] < o2[property]\r\n        ? 1\r\n        : 0;\r\n    }\r\n    return o1[property] < o2[property]\r\n      ? -1\r\n      : o1[property] > o2[property]\r\n      ? 1\r\n      : 0;\r\n  });\r\n\r\n  return result;\r\n}\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n  style: object;\r\n  accent: object;\r\n  dimension: object;\r\n}\r\nconst SendIcon = (props: Props) => {\r\n  return (\r\n    <svg\r\n      version=\"1.0\"\r\n      id=\"Layer_1\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 57 56\"\r\n      enableBackground=\"new 0 0 57 56\"\r\n      style={props.dimension}\r\n    >\r\n      <g id=\"Chat-Fenster\">\r\n        <g\r\n          id=\"chat_FAQ_Accordion2-Copy-13\"\r\n          transform=\"translate(-1364.000000, -1001.000000)\"\r\n        >\r\n          <g id=\"Send-Message\" transform=\"translate(397.000000, 1008.000000)\">\r\n            <g id=\"Send-Button\" transform=\"translate(990.000000, 10.000000)\">\r\n              <g id=\"Send_1_\">\r\n                <path\r\n                  style={props.style}\r\n                  d=\"M16,0.5c-0.1-0.1-0.3-0.1-0.4-0.1L-7,10.8c-0.1,0.1-0.2,0.2-0.2,0.3s0.1,0.3,0.2,0.3l6.4,3.1\r\n\t\t\t\t\t\tc0.1,0.1,0.3,0,0.4,0L6,9.9l-4.9,4.9C1,14.9,1,15,1,15.1l0.5,6.2c0,0.1,0.1,0.3,0.2,0.3h0.1c0.1,0,0.2,0,0.3-0.1l3.4-3.9l4.2,2\r\n\t\t\t\t\t\tc0.1,0,0.2,0,0.3,0s0.2-0.1,0.2-0.2l5.9-18.6C16.1,0.7,16.1,0.6,16,0.5z\"\r\n                />\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default SendIcon;\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n  style: object;\r\n  accent: object;\r\n  dimension: object;\r\n}\r\nconst IoakIcon = (props: Props) => {\r\n  return (\r\n    <svg viewBox=\"0 0 73 73\" style={props.dimension}>\r\n      <polygon\r\n        fill=\"#27AAE1\"\r\n        points=\"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 \"\r\n      />\r\n      <g>\r\n        <path\r\n          fill=\"#149ED9\"\r\n          d=\"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2\r\n\t\tc-5.8,0-11.2,1.9-15.6,5.2L27.6,23z\"\r\n          style={props.accent}\r\n        />\r\n        <rect x=\"32\" y=\"37.4\" width=\"9.8\" height=\"25.6\" style={props.style} />\r\n        <circle\r\n          fill=\"none\"\r\n          stroke=\"#000000\"\r\n          strokeWidth=\"9.75\"\r\n          strokeMiterlimit=\"10\"\r\n          cx=\"36.9\"\r\n          cy=\"36.5\"\r\n          r=\"30.9\"\r\n          style={{ ...props.style, fill: 'none' }}\r\n        />\r\n        <polygon\r\n          fill=\"#27AAE1\"\r\n          points=\"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t\"\r\n        />\r\n        <circle cx=\"36.9\" cy=\"32.8\" r=\"7.8\" style={props.style} />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default IoakIcon;\r\n","import React from 'react';\r\nimport './styles/oak-icon.scss';\r\nimport SendIcon from './icons/SendIcon';\r\nimport IoakIcon from './icons/IoakIcon';\r\n\r\ninterface Props {\r\n  // pass either mat or svg or fa\r\n  // mat for material icon names\r\n  mat?: string;\r\n  // svg for custom svg icon names\r\n  svg?: string;\r\n  fa?: string;\r\n  size?: string;\r\n  color?: string; // theme names and actual color codes or names or variables\r\n  accent?: string;\r\n}\r\nconst OakIcon = (props: Props) => {\r\n  const getStyle = colorVar => {\r\n    const style: any = {};\r\n    let chosenColor = '';\r\n    switch (colorVar) {\r\n      case 'primary':\r\n        chosenColor = 'var(--color-primary-1)';\r\n        break;\r\n      case 'secondary':\r\n        chosenColor = 'var(--color-secondary-1)';\r\n        break;\r\n      case 'tertiary':\r\n        chosenColor = 'var(--color-tertiary-1)';\r\n        break;\r\n      case 'success':\r\n        chosenColor = 'var(--color-success)';\r\n        break;\r\n      case 'failure':\r\n        chosenColor = 'var(--color-failure)';\r\n        break;\r\n      case 'warning':\r\n        chosenColor = 'var(--color-warning)';\r\n        break;\r\n      default:\r\n        chosenColor = colorVar || 'var(--color-foreground-1)';\r\n    }\r\n    style.fill = chosenColor;\r\n    style.color = chosenColor;\r\n    style.stroke = chosenColor;\r\n    return style;\r\n  };\r\n  const getDimension = () => {\r\n    const dimension: any = {};\r\n    dimension.fontSize = props.size ? props.size : '24px';\r\n    if (props.svg) {\r\n      dimension.height = props.size ? props.size : '24px';\r\n      dimension.width = 'auto';\r\n    }\r\n    return dimension;\r\n  };\r\n  return (\r\n    <div className=\"oak-icon\">\r\n      {props.mat && (\r\n        <i\r\n          className=\"material-icons\"\r\n          style={{ ...getStyle(props.color), ...getDimension() }}\r\n        >\r\n          {props.mat}\r\n        </i>\r\n      )}\r\n      {props.fa && (\r\n        <i\r\n          className={`fontawesome-icons ${props.fa}`}\r\n          style={{ ...getStyle(props.color), ...getDimension() }}\r\n        >\r\n          {props.mat}\r\n        </i>\r\n      )}\r\n      {props.svg && props.svg === 'send' && (\r\n        <SendIcon\r\n          style={getStyle(props.color)}\r\n          accent={props.accent && getStyle(props.accent)}\r\n          dimension={getDimension()}\r\n        />\r\n      )}\r\n      {props.svg && props.svg === 'ioak' && (\r\n        <IoakIcon\r\n          style={getStyle(props.color)}\r\n          accent={props.accent && getStyle(props.accent)}\r\n          dimension={getDimension()}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakIcon;\r\n","import React, { ReactNode } from 'react';\r\nimport './styles/oak-button-slide.scss';\r\nimport OakIcon from './OakIcon';\r\n\r\ninterface Props {\r\n  icon?: string; // points to \"mat\" material icon\r\n  fa?: string;\r\n  svg?: string;\r\n  action?: any;\r\n  variant?:\r\n    | 'block'\r\n    | 'outline'\r\n    | 'appear'\r\n    | 'disappear'\r\n    | 'regular'\r\n    | 'disabled'\r\n    | 'drama';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  align?: 'left' | 'right' | 'center';\r\n  small?: boolean;\r\n  invert?: boolean;\r\n  children?: ReactNode;\r\n  type?: 'button' | 'submit';\r\n}\r\n\r\nconst OakButton = (props: Props) => {\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n\r\n    if (!props.children) {\r\n      style += ' icon';\r\n    }\r\n\r\n    style += props.invert ? ' invert' : '';\r\n\r\n    style += props.small ? ' small' : '';\r\n\r\n    style += props.align ? ` align-${props.align}` : '';\r\n\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    // eslint-disable-next-line react/button-has-type\r\n    <button className={`oak-button ${getStyle()}`} onClick={props.action}>\r\n      <div className=\"button-label-container\">\r\n        {props.icon && <OakIcon mat={props.icon} size=\"1.2em\" />}\r\n        {props.fa && <OakIcon fa={props.fa} size=\"1.2em\" />}\r\n        {props.svg && <OakIcon svg={props.svg} size=\"1.2em\" />}\r\n        {props.children && props.children}\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default OakButton;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function httpGet(endpoint: string, headers: any) {\r\n  return axios.get(baseUrl + endpoint, headers);\r\n  // .then(function(response) {\r\n  //     return Promise.resolve(response);\r\n  // }\r\n  // )\r\n}\r\n\r\nexport function httpPost(endpoint: string, payload: any, headers: any) {\r\n  return axios.post(baseUrl + endpoint, payload, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpPut(endpoint: string, payload: any, headers: any) {\r\n  return axios.put(baseUrl + endpoint, payload, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any) {\r\n  return axios.delete(baseUrl + endpoint, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../../actions/AuthActions';\r\nimport './style.scss';\r\nimport { Authorization } from '../../Types/GeneralTypes';\r\nimport OakTextPlain from '../../../oakui/OakTextPlain';\r\nimport { sendMessage } from '../../../events/MessageService';\r\nimport { isEmptyOrSpaces } from '../../Utils';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport { httpPost, httpGet } from '../../Lib/RestTemplate';\r\nimport OakIcon from '../../../oakui/OakIcon';\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  profile: any;\r\n  match: any;\r\n  location: any;\r\n  authorization: Authorization;\r\n  switchToSigninPage: any;\r\n  isSpaceLogin: boolean;\r\n  space: string;\r\n}\r\n\r\nconst NewUser = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    password: '',\r\n    repeatpassword: '',\r\n    resetCode: '',\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    password: '',\r\n    repeatpassword: '',\r\n  });\r\n\r\n  const [stage, setStage] = useState('userdetails');\r\n\r\n  const signupAction = event => {\r\n    event.preventDefault();\r\n    let baseAuthUrl = '/auth';\r\n    if (props.isSpaceLogin) {\r\n      baseAuthUrl = `/auth/${props.space}`;\r\n    }\r\n    const errorState = {\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n      repeatpassword: '',\r\n    };\r\n    let error = false;\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (isEmptyOrSpaces(data.firstName)) {\r\n      error = true;\r\n      errorState.firstName = 'Cannot be empty';\r\n    }\r\n    if (isEmptyOrSpaces(data.lastName)) {\r\n      error = true;\r\n      errorState.lastName = 'Cannot be empty';\r\n    }\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      error = true;\r\n      errorState.email = 'Cannot be empty';\r\n    }\r\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\r\n      error = true;\r\n      errorState.email = 'Invalid email';\r\n    }\r\n    if (isEmptyOrSpaces(data.password)) {\r\n      error = true;\r\n      errorState.password = 'Cannot be empty';\r\n    }\r\n    if (data.password !== data.repeatpassword) {\r\n      error = true;\r\n      errorState.repeatpassword = 'Password does not match';\r\n    }\r\n    if (!error) {\r\n      httpPost(\r\n        `${baseAuthUrl}/signup`,\r\n        {\r\n          firstName: data.firstName,\r\n          lastName: data.lastName,\r\n          email: data.email,\r\n          password: data.password,\r\n        },\r\n        null\r\n      )\r\n        .then((response: any) => {\r\n          if (response.status === 200) {\r\n            sendMessage('notification', true, {\r\n              type: 'success',\r\n              message: 'Your account has been setup',\r\n              duration: 3000,\r\n            });\r\n            props.switchToSigninPage();\r\n          } else {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Unknown error',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        })\r\n        .catch(e => {\r\n          if (e.response.status === 403) {\r\n            error = true;\r\n            errorState.email = 'User account already exists';\r\n          } else {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Unknown error',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setErrors(errorState);\r\n          sendMessage('spinner', false);\r\n        });\r\n    } else {\r\n      setErrors(errorState);\r\n      sendMessage('spinner', false);\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  return (\r\n    <form method=\"GET\" onSubmit={signupAction} noValidate className=\"login\">\r\n      <div className=\"form-signup\">\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.firstName && <div className=\"label-text\">First Name</div>}\r\n            {errors.firstName && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.firstName}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <OakTextPlain\r\n            id=\"firstName\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.lastName && <div className=\"label-text\">Last Name</div>}\r\n            {errors.lastName && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.lastName}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <OakTextPlain\r\n            id=\"lastName\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.email && <div className=\"label-text\">E-mail</div>}\r\n            {errors.email && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.email}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <OakTextPlain\r\n            id=\"email\"\r\n            placeholder=\"example@domain.com\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.password && <div className=\"label-text\">Password</div>}\r\n            {errors.password && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.password}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <OakTextPlain\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Choose a strong password\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.repeatpassword && (\r\n              <div className=\"label-text\">Retype password</div>\r\n            )}\r\n            {errors.repeatpassword && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.repeatpassword}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <OakTextPlain\r\n            type=\"password\"\r\n            id=\"repeatpassword\"\r\n            placeholder=\"Don't forget it\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"action\">\r\n        <OakButton variant=\"regular\" theme=\"primary\" action={signupAction}>\r\n          Create Account\r\n        </OakButton>\r\n        <p className=\"hr\">or</p>\r\n        <div className=\"button-link\">\r\n          <div className=\"link\" onClick={props.switchToSigninPage}>\r\n            Log In\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  withCookies(NewUser)\r\n);\r\n","const constants = {\r\n  API_URL_TENANT: '/tenant',\r\n  API_URL_TENANT_BANNER: '/tenant/banner',\r\n  API_URL_TENANT_CREATE: '/tenant/create',\r\n  API_TENANT_URL: '/tenant/sendURL',\r\n\r\n  API_URL_PRESIGNUP: '/auth/keys',\r\n  API_URL_RESET: '/auth/reset',\r\n  API_URL_CODE: '/auth/sendResetCode',\r\n  API_URL_USER_DETAILS: '/user/details',\r\n\r\n  API_URL_STAGE: '/stage',\r\n  API_URL_PREDICT: '/model/predict',\r\n\r\n  API_URL_ARTICLE: '/article',\r\n  API_URL_CATEGORY: '/category',\r\n  API_URL_FAQ: '/faq',\r\n  API_URL_SR: '/servicerequests',\r\n  API_URL_USER: '/user',\r\n  API_URL: '/auth/',\r\n  API_SIGNIN: '/signin',\r\n  API_SIGNUP: '/signup',\r\n  API_KEYS: '/keys',\r\n  API_JWT: '/signin/jwt',\r\n\r\n  API_SPACE_CREATE: '/space/create',\r\n  API_SPACE_FETCH: '/space',\r\n  API_SPACE_DELETE: '/space/delete',\r\n  API_APP_FETCH: '/app',\r\n  API_APP_DELETE: '/app/delete',\r\n  API_ROLE_FETCH: '/role',\r\n  API_APP_SPACE: '/appspace',\r\n};\r\n\r\nexport default constants;\r\n","import React, { useState } from 'react';\r\nimport { connect, useDispatch, useSelector } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth } from '../../../actions/AuthActions';\r\nimport './style.scss';\r\nimport { Authorization } from '../../Types/GeneralTypes';\r\nimport OakTextPlain from '../../../oakui/OakTextPlain';\r\nimport { sendMessage } from '../../../events/MessageService';\r\nimport { sentPasswordChangeEmail } from '../../Auth/AuthService';\r\nimport { isEmptyOrSpaces } from '../../Utils';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport { httpPost, httpGet } from '../../Lib/RestTemplate';\r\nimport { fetchSpace } from '../../../actions/SpaceActions';\r\nimport { fetchApp } from '../../../actions/AppActions';\r\nimport fetchUsers from '../../../actions/OaUserAction';\r\nimport { fetchRoles } from '../../../actions/OaRoleActions';\r\nimport { setProfile } from '../../../actions/ProfileActions';\r\nimport OakIcon from '../../../oakui/OakIcon';\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  profile: any;\r\n  authorization: Authorization;\r\n  appId: string;\r\n  switchToSignupPage: any;\r\n  switchToResetPage: any;\r\n  isSpaceLogin: boolean;\r\n  space: string;\r\n}\r\n\r\nconst SigninPage = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const profile = useSelector(state => state.profile);\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const signinAction = event => {\r\n    event.preventDefault();\r\n    let baseAuthUrl = '/auth';\r\n    if (props.isSpaceLogin) {\r\n      baseAuthUrl = `/auth/${props.space}`;\r\n    }\r\n    const errorState = {\r\n      email: '',\r\n      password: '',\r\n    };\r\n    let error = false;\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      error = true;\r\n      errorState.email = 'Cannot be empty';\r\n    } else if (\r\n      !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)\r\n    ) {\r\n      error = true;\r\n      errorState.email = 'Invalid email';\r\n    }\r\n    if (isEmptyOrSpaces(data.password)) {\r\n      error = true;\r\n      errorState.password = 'Cannot be empty';\r\n    }\r\n    if (!error) {\r\n      httpPost(\r\n        `${baseAuthUrl}/authorize`,\r\n        {\r\n          email: data.email,\r\n          password: data.password,\r\n        },\r\n        null\r\n      )\r\n        .then((authorizeResponse: any) => {\r\n          if (authorizeResponse.status === 200) {\r\n            httpGet(\r\n              `${baseAuthUrl}/session/${authorizeResponse.data.auth_key}`,\r\n              null\r\n            )\r\n              .then(sessionResponse => {\r\n                if (sessionResponse.status === 200) {\r\n                  console.log(sessionResponse);\r\n                  sendMessage('notification', true, {\r\n                    type: 'success',\r\n                    message: 'logged in',\r\n                  });\r\n                  if (props.isSpaceLogin && props.appId) {\r\n                    props.cookies.set(\r\n                      props.space,\r\n                      authorizeResponse.data.auth_key\r\n                    );\r\n                    redirectToRequestedApp(authorizeResponse, sessionResponse);\r\n                  } else {\r\n                    success(authorizeResponse, sessionResponse);\r\n                  }\r\n                }\r\n              })\r\n              .catch((error: any) => {\r\n                if (error.response.status === 404) {\r\n                  sendMessage('notification', true, {\r\n                    type: 'failure',\r\n                    message: 'Invalid session token',\r\n                    duration: 3000,\r\n                  });\r\n                } else if (error.response.status === 401) {\r\n                  sendMessage('notification', true, {\r\n                    type: 'failure',\r\n                    message: 'Session expired',\r\n                    duration: 3000,\r\n                  });\r\n                }\r\n              });\r\n          }\r\n        })\r\n        .catch((error: any) => {\r\n          if (error.response.status === 404) {\r\n            errorState.email = 'User account does not exist';\r\n          } else if (error.response.status === 401) {\r\n            errorState.password = 'Incorrect password';\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setErrors(errorState);\r\n          sendMessage('spinner', false);\r\n        });\r\n    } else {\r\n      setErrors(errorState);\r\n      sendMessage('spinner', false);\r\n    }\r\n  };\r\n\r\n  const redirectToRequestedApp = (authorizeResponse, sessionResponse) => {\r\n    httpGet(`/app/${props.appId}`, {\r\n      headers: {\r\n        Authorization: sessionResponse.data.token,\r\n      },\r\n    }).then(appResponse => {\r\n      window.location.href = `${appResponse.data.data.redirect}?authKey=${authorizeResponse.data.auth_key}&space=${props.space}`;\r\n    });\r\n  };\r\n\r\n  const sentEmailWithCode = () => {\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Email cannot be empty',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    sentPasswordChangeEmailAction('password');\r\n  };\r\n\r\n  const sentPasswordChangeEmailAction = type => {\r\n    const min = 1;\r\n    const max = 100;\r\n    const rand = min + Math.random() * (max - min);\r\n    sentPasswordChangeEmail(\r\n      {\r\n        email: data.email,\r\n        resetCode: rand,\r\n      },\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password sent successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Invalid Email error',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const success = (authorizeResponse, sessionResponse) => {\r\n    sendMessage('loggedin', true);\r\n    if (props.isSpaceLogin) {\r\n      props.cookies.set(props.space, authorizeResponse.data.auth_key);\r\n      props.history.push(`/space/${props.space}/home`);\r\n      sendMessage('notification', true, {\r\n        type: 'success',\r\n        message: 'logged in to space',\r\n        duration: 3000,\r\n      });\r\n    } else {\r\n      // dispatch(fetchSpace(data));\r\n      // dispatch(fetchApp(data));\r\n      // dispatch(fetchUsers(data));\r\n      // dispatch(fetchRoles(data));\r\n      props.cookies.set('oneauth', authorizeResponse.data.auth_key);\r\n      props.history.push('/');\r\n      sendMessage('notification', true, {\r\n        type: 'success',\r\n        message: 'logged in to oneauth',\r\n        duration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form method=\"GET\" onSubmit={signinAction} noValidate className=\"login\">\r\n      <div className=\"form-signin\">\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.email && <div className=\"label-text\">Email</div>}\r\n            {errors.email && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.email}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <OakTextPlain\r\n            id=\"email\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"label\">\r\n            {!errors.password && <div className=\"label-text\">Password</div>}\r\n            {errors.password && (\r\n              <div className=\"error-text\">\r\n                <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                {errors.password}\r\n              </div>\r\n            )}\r\n            <div className=\"link\" onClick={props.switchToResetPage}>\r\n              Forgot Password?\r\n            </div>\r\n          </div>\r\n          <OakTextPlain\r\n            id=\"password\"\r\n            data={data}\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"action\">\r\n        <OakButton variant=\"regular\" theme=\"primary\" action={signinAction}>\r\n          Log In\r\n        </OakButton>\r\n        <p className=\"hr\">or</p>\r\n        <div className=\"button-link\">\r\n          <div className=\"link\" onClick={props.switchToSignupPage}>\r\n            Create an account\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth })(\r\n  withCookies(SigninPage)\r\n);\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-spinner.scss';\r\n\r\nconst OakSpinner = () => {\r\n  return (\r\n    <div className=\"oak-spinner\">\r\n      <div className=\"spinner-wrapper\">\r\n        <span />\r\n        <span />\r\n        <span />\r\n        <span />\r\n        <span />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakSpinner;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport OakSpinner from '../../../oakui/OakSpinner';\r\n\r\nconst VerifySession = () => {\r\n  return (\r\n    <div className=\"verify-session typography-12\">\r\n      <div>verifying session</div>\r\n      <div>\r\n        <OakSpinner />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifySession;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../../actions/AuthActions';\r\nimport './style.scss';\r\nimport { Authorization } from '../../Types/GeneralTypes';\r\nimport OakTextPlain from '../../../oakui/OakTextPlain';\r\nimport { sendMessage } from '../../../events/MessageService';\r\nimport { isEmptyOrSpaces } from '../../Utils';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport { httpPost, httpGet } from '../../Lib/RestTemplate';\r\nimport OakIcon from '../../../oakui/OakIcon';\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  profile: any;\r\n  match: any;\r\n  location: any;\r\n  authorization: Authorization;\r\n  isSpaceLogin: boolean;\r\n  resetCode: string;\r\n  switchToSigninPage: any;\r\n  space: string;\r\n}\r\n\r\nconst ResetPassword = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n    repeatpassword: '',\r\n  });\r\n\r\n  const [stage, setStage] = useState('requestLink');\r\n\r\n  //   const [] = useState('');\r\n  useEffect(() => {\r\n    if (props.resetCode) {\r\n      let baseAuthUrl = '/auth';\r\n      if (props.isSpaceLogin) {\r\n        baseAuthUrl = `/auth/${props.space}`;\r\n      }\r\n      httpPost(\r\n        `${baseAuthUrl}/verifypasswordlink/${props.resetCode}`,\r\n        {\r\n          password: data.password,\r\n        },\r\n        null\r\n      )\r\n        .then((response: any) => {\r\n          if (response.status === 200) {\r\n            setStage('setPassword');\r\n          } else {\r\n            setStage('invalidLink');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setStage('invalidLink');\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const [errors, setErrors] = useState({\r\n    email: '',\r\n    password: '',\r\n    repeatpassword: '',\r\n  });\r\n\r\n  const requestLink = event => {\r\n    event.preventDefault();\r\n    let baseAuthUrl = '/auth';\r\n    if (props.isSpaceLogin) {\r\n      baseAuthUrl = `/auth/${props.space}`;\r\n    }\r\n    const errorState = {\r\n      email: '',\r\n      password: '',\r\n      repeatpassword: '',\r\n    };\r\n    let error = false;\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      error = true;\r\n      errorState.email = 'Cannot be empty';\r\n    } else if (\r\n      !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)\r\n    ) {\r\n      error = true;\r\n      errorState.email = 'Invalid email';\r\n    }\r\n    if (!error) {\r\n      httpPost(\r\n        `${baseAuthUrl}/resetpasswordlink`,\r\n        {\r\n          email: data.email,\r\n        },\r\n        null\r\n      )\r\n        .then((response: any) => {\r\n          if (response.status === 200) {\r\n            setStage('linkSent');\r\n            sendMessage('notification', true, {\r\n              type: 'success',\r\n              message: 'Password reset link sent to your email',\r\n              duration: 3000,\r\n            });\r\n          } else {\r\n            errorState.email = 'Invalid user email';\r\n          }\r\n        })\r\n        .catch(() => {\r\n          error = true;\r\n          errorState.email = 'User account does not exist';\r\n        })\r\n        .finally(() => {\r\n          setErrors(errorState);\r\n        });\r\n    } else {\r\n      setErrors(errorState);\r\n    }\r\n    sendMessage('spinner', false);\r\n  };\r\n\r\n  const resetPassword = event => {\r\n    event.preventDefault();\r\n    let baseAuthUrl = '/auth';\r\n    if (props.isSpaceLogin) {\r\n      baseAuthUrl = `/auth/${props.space}`;\r\n    }\r\n    const errorState = {\r\n      email: '',\r\n      password: '',\r\n      repeatpassword: '',\r\n    };\r\n    let error = false;\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (isEmptyOrSpaces(data.password)) {\r\n      error = true;\r\n      errorState.password = 'Cannot be empty';\r\n    }\r\n    if (data.password !== data.repeatpassword) {\r\n      error = true;\r\n      errorState.repeatpassword = 'Password does not match';\r\n    }\r\n    setErrors(errorState);\r\n    if (!error) {\r\n      httpPost(\r\n        `${baseAuthUrl}/resetpassword/${props.resetCode}`,\r\n        {\r\n          password: data.password,\r\n        },\r\n        null\r\n      ).then((response: any) => {\r\n        if (response.status === 200) {\r\n          setStage('passwordUpdated');\r\n          sendMessage('notification', true, {\r\n            type: 'success',\r\n            message: 'Password updated',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      });\r\n    }\r\n    sendMessage('spinner', false);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    if (stage === 'setPassword') {\r\n      resetPassword(event);\r\n    } else if (stage === 'requestLink') {\r\n      requestLink(event);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form method=\"GET\" onSubmit={handleSubmit} noValidate className=\"login\">\r\n        {stage === 'invalidLink' && (\r\n          <div className=\"form-reset message typography-8\">\r\n            <OakIcon mat=\"warning\" color=\"warning\" size=\"2em\" />\r\n            Password reset link is invalid\r\n          </div>\r\n        )}\r\n        {stage === 'passwordUpdated' && (\r\n          <div className=\"form-reset message typography-8\">\r\n            <OakIcon mat=\"check_circle\" color=\"success\" size=\"2em\" />\r\n            Password updated\r\n          </div>\r\n        )}\r\n        {stage === 'linkSent' && (\r\n          <div className=\"form-reset message typography-8\">\r\n            <OakIcon mat=\"check_circle\" color=\"success\" size=\"2em\" />\r\n            Link to reset your password has been sent to your email\r\n          </div>\r\n        )}\r\n        {stage === 'requestLink' && (\r\n          <div className=\"form-reset\">\r\n            <div>\r\n              <div className=\"label\">\r\n                {!errors.email && <div className=\"label-text\">Email</div>}\r\n                {errors.email && (\r\n                  <div className=\"error-text\">\r\n                    <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                    {errors.email}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <OakTextPlain\r\n                id=\"email\"\r\n                placeholder=\"Email to send reset link\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        {stage === 'setPassword' && (\r\n          <div className=\"form-reset\">\r\n            <div>\r\n              <div className=\"label\">\r\n                {!errors.password && (\r\n                  <div className=\"label-text\">Set new password</div>\r\n                )}\r\n                {errors.password && (\r\n                  <div className=\"error-text\">\r\n                    <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                    {errors.password}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <OakTextPlain\r\n                type=\"password\"\r\n                id=\"password\"\r\n                placeholder=\"Choose a strong password\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <div className=\"label\">\r\n                {!errors.repeatpassword && (\r\n                  <div className=\"label-text\">Retype password</div>\r\n                )}\r\n                {errors.repeatpassword && (\r\n                  <div className=\"error-text\">\r\n                    <OakIcon mat=\"warning\" color=\"warning\" size=\"20px\" />\r\n                    {errors.repeatpassword}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <OakTextPlain\r\n                type=\"password\"\r\n                id=\"repeatpassword\"\r\n                placeholder=\"Don't forget it\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"action\">\r\n          {stage === 'requestLink' && (\r\n            <OakButton variant=\"regular\" theme=\"primary\" action={requestLink}>\r\n              Send Link\r\n            </OakButton>\r\n          )}\r\n          {stage === 'setPassword' && (\r\n            <OakButton variant=\"regular\" theme=\"primary\" action={resetPassword}>\r\n              Update Password\r\n            </OakButton>\r\n          )}\r\n          {['setPassword', 'requestLink'].includes(stage) && (\r\n            <p className=\"hr\">or</p>\r\n          )}\r\n          <div className=\"button-link\">\r\n            <div className=\"link\" onClick={props.switchToSigninPage}>\r\n              Log In\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  withCookies(ResetPassword)\r\n);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect, useSelector } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './SpaceLogin.scss';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { sentPasswordChangeEmail } from '../Auth/AuthService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport mirrorWhite from '../../images/ioak_white.svg';\r\nimport mirrorBlack from '../../images/ioak_black.svg';\r\nimport NewUser from './space/NewUser';\r\nimport SigninPage from './space/SigninPage';\r\nimport VerifySession from './space/VerifySession';\r\nimport { httpGet } from '../Lib/RestTemplate';\r\nimport ResetPassword from './space/ResetPassword';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  profile: any;\r\n  match: any;\r\n  location: any;\r\n  authorization: Authorization;\r\n  space: string;\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [type, setType] = useState('signin');\r\n  const [resetCode, setResetCode] = useState('');\r\n\r\n  const [appId, setAppId] = useState('');\r\n  const [verificationStep, setVerificationStep] = useState(false);\r\n\r\n  useEffect(() => {\r\n    sendMessage('navbar', false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setVerificationStep(true);\r\n    let appIdRef = null;\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.type === 'signup') {\r\n        setType('signup');\r\n      } else if (query && query.type === 'reset') {\r\n        setType('reset');\r\n      }\r\n      if (query && query.auth) {\r\n        setResetCode(query.auth);\r\n      }\r\n      if (query && query.appId) {\r\n        setAppId(query.appId);\r\n        appIdRef = query.appId;\r\n      }\r\n    }\r\n    const authKey = props.cookies.get(props.space);\r\n    if (authorization.isAuth || authKey) {\r\n      if (appIdRef) {\r\n        redirectToRequestedAppIfTokenIsValid(appIdRef, authKey);\r\n      } else {\r\n        props.history.push(`/space/${props.space}/home`);\r\n      }\r\n    } else {\r\n      setVerificationStep(false);\r\n    }\r\n  }, []);\r\n\r\n  const redirectToRequestedAppIfTokenIsValid = (appIdRef, authKey) => {\r\n    console.log(appIdRef, authKey);\r\n    const baseAuthUrl = `/auth/${props.space}`;\r\n\r\n    httpGet(`${baseAuthUrl}/session/${authKey}`, null)\r\n      .then(sessionResponse => {\r\n        if (sessionResponse.status === 200) {\r\n          redirectToRequestedApp(appIdRef, authKey, sessionResponse.data.token);\r\n        } else {\r\n          props.cookies.remove(props.space);\r\n\r\n          setVerificationStep(false);\r\n        }\r\n      })\r\n      .catch((error: any) => {\r\n        props.cookies.remove(props.space);\r\n        setVerificationStep(false);\r\n      });\r\n  };\r\n\r\n  const redirectToRequestedApp = (appId, authKey, token) => {\r\n    httpGet(`/app/${appId}`, {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    }).then(appResponse => {\r\n      window.location.href = `${appResponse.data.data.redirect}?authKey=${authKey}&space=${props.space}`;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-login\">\r\n      <div className=\"overlay\">\r\n        <div className=\"container smooth-page\">\r\n          {props.profile.theme === 'theme_light' && (\r\n            <img className=\"logo\" src={mirrorBlack} alt=\"Mirror logo\" />\r\n          )}\r\n          {props.profile.theme === 'theme_dark' && (\r\n            <img className=\"logo\" src={mirrorWhite} alt=\"Mirror logo\" />\r\n          )}\r\n\r\n          {!verificationStep && type === 'signin' && (\r\n            <div className=\"wrapper\">\r\n              <SigninPage\r\n                appId={appId}\r\n                switchToSignupPage={() => setType('signup')}\r\n                switchToResetPage={() => setType('reset')}\r\n                isSpaceLogin\r\n                {...props}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {!verificationStep && type === 'signup' && (\r\n            <div className=\"wrapper\">\r\n              <NewUser\r\n                switchToSigninPage={() => setType('signin')}\r\n                isSpaceLogin\r\n                {...props}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {!verificationStep && type === 'reset' && (\r\n            <div className=\"wrapper\">\r\n              <ResetPassword\r\n                isSpaceLogin\r\n                {...props}\r\n                resetCode={resetCode}\r\n                switchToSigninPage={() => setType('signin')}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {verificationStep && <VerifySession />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  withCookies(Login)\r\n);\r\n","import { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n  dispatch({\r\n    type: GET_PROFILE,\r\n  });\r\n};\r\n\r\nexport const setProfile = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_PROFILE,\r\n    payload,\r\n  });\r\n};\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  notification: any;\r\n  handleRemove: any;\r\n}\r\n\r\nconst NotificationMessage = (props: Props) => {\r\n  return (\r\n    <div className={`message ${props.notification.type}`}>\r\n      {props.notification.type === 'running' && (\r\n        <div\r\n          className={`message-icon ${\r\n            props.notification.type === 'running' ? 'running' : ''\r\n          }`}\r\n        >\r\n          <i className=\"material-icons\">rotate_right</i>\r\n        </div>\r\n      )}\r\n      {props.notification.type === 'success' && (\r\n        <div className=\"message-icon\">\r\n          <i className=\"material-icons\">check_circle_outline</i>\r\n        </div>\r\n      )}\r\n      {props.notification.type === 'warning' && (\r\n        <div className=\"message-icon\">\r\n          <i className=\"material-icons\">warning</i>\r\n        </div>\r\n      )}\r\n      {props.notification.type === 'failure' && (\r\n        <div className=\"message-icon\">\r\n          <i className=\"material-icons\">error_outline</i>\r\n        </div>\r\n      )}\r\n      <div className=\"message-text\">{props.notification?.message}</div>\r\n      <div className=\"message-action\">\r\n        <i className=\"material-icons\" onClick={props.handleRemove}>\r\n          clear\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationMessage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakSpinner from '../../oakui/OakSpinner';\r\nimport NotificationMessage from './NotificationMessage';\r\n\r\nconst Notification = () => {\r\n  const [spinner, setSpinner] = useState(false);\r\n  const [notificationList, setNotificationList] = useState<any | undefined>([]);\r\n  const [data, setData] = useState<any>({ notificationList: [] });\r\n\r\n  const removeNotification = notificationData => {\r\n    setNotificationList(\r\n      notificationList.filter(item => {\r\n        return item.id !== notificationData.id;\r\n      })\r\n    );\r\n  };\r\n  const addNotification = notificationData => {\r\n    const localCopy = [...notificationList];\r\n    localCopy.unshift(notificationData);\r\n    // setNotificationList([notificationData].concat(notificationList));\r\n    setNotificationList(localCopy);\r\n    // console.log(localCopy);\r\n    if (notificationData.duration) {\r\n      setTimeout(() => {\r\n        removeNotification(notificationData);\r\n      }, notificationData.duration);\r\n    } else if (!notificationData.id) {\r\n      setTimeout(() => {\r\n        removeNotification(notificationData);\r\n      }, 5000);\r\n    }\r\n    // console.log(notificationList.splice(0, 100));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'notification') {\r\n        if (!message.signal) {\r\n          removeNotification(message.data);\r\n        } else {\r\n          removeNotification(message.data);\r\n          addNotification(message.data);\r\n          // turn off spinner when a notification arrives\r\n          setSpinner(false);\r\n\r\n          // if (message.data && message.data.duration) {\r\n          //   setTimeout(() => {\r\n          //     sendMessage('notification', false);\r\n          //   }, message.data.duration);\r\n          // }\r\n        }\r\n      }\r\n\r\n      if (message.name === 'spinner') {\r\n        setSpinner(message.signal);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {notificationList && notificationList.length > 0 && (\r\n        <div className=\"notification\">\r\n          {notificationList\r\n            .slice(0, 5)\r\n            .reverse()\r\n            .map(notification => (\r\n              <div key={notification.id || notification.message}>\r\n                <NotificationMessage\r\n                  notification={notification}\r\n                  handleRemove={removeNotification}\r\n                />\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n      {spinner && <div data-test=\"spinner\" className=\"lds-dual-ring\" />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  profile: Profile;\r\n}\r\n\r\nconst OaLinks = (props: Props) => {\r\n  return (\r\n    <div className=\"links\">\r\n      {props.authorization.isAuth && (\r\n        <>\r\n          <NavLink to=\"/home\" className=\"navitem\" activeClassName=\"active\">\r\n            Home\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/managespace\"\r\n            className=\"navitem\"\r\n            activeClassName=\"active\"\r\n          >\r\n            Manage Space\r\n          </NavLink>\r\n          <NavLink to=\"/manageapp\" className=\"navitem\" activeClassName=\"active\">\r\n            Manage App\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OaLinks;\r\n","import React from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  profile: Profile;\r\n  space: string;\r\n}\r\n\r\nconst SpaceLinks = (props: Props) => {\r\n  return (\r\n    <div className=\"links\">\r\n      {props.authorization.isAuth && (\r\n        <>\r\n          <NavLink\r\n            to={`/space/${props.space}/home`}\r\n            className=\"navitem\"\r\n            activeClassName=\"active\"\r\n          >\r\n            Home\r\n          </NavLink>\r\n          <NavLink\r\n            to={`/space/${props.space}/test`}\r\n            className=\"navitem\"\r\n            activeClassName=\"active\"\r\n          >\r\n            Test Page\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpaceLinks;\r\n","import React, { useEffect } from 'react';\r\nimport './styles/oak-avatar.scss';\r\n\r\ninterface Props {\r\n  showName?: boolean;\r\n  size?: string;\r\n  firstName?: string;\r\n  lastName?: string;\r\n}\r\nconst OakAvatar = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-avatar\">\r\n      {/* <AvatarImage\r\n      v-if=\"user.avatar\"\r\n      v-bind:reference=\"user.avatar\"\r\n      v-bind:size=\"size\"\r\n    /> */}\r\n      <div\r\n        className={`${props.size ? props.size : ''} avatar-icon typography-6`}\r\n      >\r\n        {`${props.firstName?.substring(0, 1)}${props.lastName?.substring(\r\n          0,\r\n          1\r\n        )}`}\r\n      </div>\r\n      {props.showName && <div className=\"avatar-name\">{props.firstName}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakAvatar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-popover-menu.scss';\r\nimport { newId } from '../events/MessageService';\r\nimport OakIcon from './OakIcon';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  elements: any;\r\n  labelVariant?: string;\r\n  theme?: string;\r\n  right?: boolean;\r\n  iconLeft?: string;\r\n  iconRight?: string;\r\n  mobilize?: boolean;\r\n  width?: string;\r\n  children?: any;\r\n}\r\n\r\nconst OakPopoverMenu = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n  const [slots, setSlots] = useState<any | {}>({});\r\n  const [id, setId] = useState(newId());\r\n\r\n  useEffect(() => {\r\n    initializeViews();\r\n  }, [props.children]);\r\n\r\n  const initializeViews = () => {\r\n    let newSlots = {};\r\n    React.Children.toArray(props.children).forEach((node: any) => {\r\n      newSlots = { ...newSlots, [node.props.slot]: node };\r\n    });\r\n    setSlots(newSlots);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', (e: any) => {\r\n      if (!document.getElementById(id)?.contains(e.target)) {\r\n        setShow(false);\r\n      }\r\n    });\r\n  });\r\n\r\n  const toggle = () => {\r\n    setShow(!show);\r\n  };\r\n\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.labelVariant ? ` ${props.labelVariant}` : '';\r\n    style += props.width ? ` ${props.width}` : '';\r\n    return style;\r\n  };\r\n  const dropdownContentStyle = () => {\r\n    let style = show ? 'show' : 'hide';\r\n    style += props.right ? ' right' : '';\r\n    return style;\r\n  };\r\n  const labelStyle = () => {\r\n    let style = show ? 'active' : '';\r\n    style += props.mobilize ? ' short-label' : '';\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    <div className={`oak-popover-menu ${getStyle()}`} id={id}>\r\n      {!slots.label && (\r\n        <div className={`label ${labelStyle()}`} onClick={toggle}>\r\n          {props.iconLeft && (\r\n            <div className=\"left-icon\">\r\n              <OakIcon mat={props.iconLeft} />\r\n            </div>\r\n          )}\r\n          <div className=\"label-text\">{props.label}</div>\r\n          <div className=\"right-icon\">\r\n            <OakIcon mat={props.iconRight} />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {slots.label && (\r\n        <div className=\"label-custom\" onClick={toggle}>\r\n          {slots.label}\r\n        </div>\r\n      )}\r\n      <div\r\n        className={`dropdown-content ${dropdownContentStyle()}`}\r\n        onClick={toggle}\r\n      >\r\n        {props.elements.map(element => (\r\n          <div\r\n            v-for=\"element in elements\"\r\n            key={element.label}\r\n            className=\"element\"\r\n            onClick={element.action}\r\n          >\r\n            <OakIcon mat={element.icon} />\r\n            {element.label}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakPopoverMenu;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport mirrorWhite from '../../images/ioak_white.svg';\r\nimport mirrorBlack from '../../images/ioak_black.svg';\r\nimport OaLinks from './OaLinks';\r\nimport SpaceLinks from './SpaceLinks';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n// import SearchBar from '../Ux/SearchBar';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport SearchBar from '../../oakui/SearchBar';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakAvatar from '../../oakui/OakAvatar';\r\nimport OakPopoverMenu from '../../oakui/OakPopoverMenu';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  toggleDarkMode: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n  space: string;\r\n  editProfile: Function;\r\n}\r\n\r\nconst Desktop = (props: Props) => {\r\n  const [showSearchBar, setShowSearchBar] = useState(false);\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [userProfileActions, setUserProfileActions] = useState<any[] | []>([]);\r\n\r\n  useEffect(() => {\r\n    if (authorization.isAuth) {\r\n      setUserProfileActions([\r\n        {\r\n          label: 'Profile settings',\r\n          action: props.editProfile,\r\n          icon: 'settings',\r\n        },\r\n        {\r\n          label: 'Sign out',\r\n          action: props.logout,\r\n          icon: 'exit_to_app',\r\n        },\r\n      ]);\r\n    } else {\r\n      console.log(props.space);\r\n      setUserProfileActions([\r\n        {\r\n          label: 'Sign in',\r\n          action: () => signin('signin'),\r\n          icon: 'person',\r\n        },\r\n        {\r\n          label: 'Sign up',\r\n          action: () => signin('signup'),\r\n          icon: 'person_add',\r\n        },\r\n      ]);\r\n    }\r\n  }, [authorization.isAuth, props.space]);\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(message => {\r\n      if (message.name === 'show-navbar-element') {\r\n        setShowSearchBar(message.signal);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const signin = type => {\r\n    props.login(type);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        props.transparent ? 'navbar desktop transparent' : 'navbar desktop'\r\n      }\r\n    >\r\n      <div className=\"left\">\r\n        {!props.transparent && props.profile.theme === 'theme_light' && (\r\n          <img className=\"logo\" src={mirrorBlack} alt=\"Mirror logo\" />\r\n        )}\r\n        {(props.transparent || props.profile.theme === 'theme_dark') && (\r\n          <img className=\"logo\" src={mirrorWhite} alt=\"Mirror logo\" />\r\n        )}\r\n        {!props.space && (\r\n          <OaLinks\r\n            authorization={props.authorization}\r\n            profile={props.profile}\r\n          />\r\n        )}\r\n        {props.space && (\r\n          <SpaceLinks\r\n            authorization={props.authorization}\r\n            profile={props.profile}\r\n            space={props.space}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"right\">\r\n        <div className=\"action\">\r\n          <OakPopoverMenu elements={userProfileActions} theme=\"primary\" right>\r\n            <div slot=\"label\" className=\"action-item\">\r\n              {authorization?.isAuth && (\r\n                <OakAvatar\r\n                  firstName={authorization?.firstName}\r\n                  lastName={authorization?.lastName}\r\n                />\r\n              )}\r\n              {!authorization?.isAuth && (\r\n                <i className=\"material-icons\">person</i>\r\n              )}\r\n            </div>\r\n          </OakPopoverMenu>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Desktop;\r\n","import { BehaviorSubject, Subject } from 'rxjs';\r\n\r\nexport const searchTextChangedEvent$ = new BehaviorSubject<string>('');\r\nexport const searchEvent$ = new Subject<string>();\r\n","import React, { useEffect, useState } from 'react';\r\nimport './SearchBar.scss';\r\nimport { searchTextChangedEvent$, searchEvent$ } from '../events/SearchEvent';\r\n\r\ninterface Props {\r\n  alt?: boolean;\r\n}\r\n\r\nconst SearchBar = (props: Props) => {\r\n  const [searchText, setSearchText] = useState('');\r\n\r\n  useEffect(() => {\r\n    const searchTextChangedEventListener = searchTextChangedEvent$.subscribe(\r\n      data => {\r\n        setSearchText(data);\r\n      }\r\n    );\r\n    return () => searchTextChangedEventListener.unsubscribe();\r\n  }, []);\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    searchEvent$.next(searchText);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    searchTextChangedEvent$.next(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <form method=\"GET\" onSubmit={onSubmit} noValidate>\r\n      <div className={`search-bar${props.alt ? ' alt' : ''}`}>\r\n        <input\r\n          name=\"searchText\"\r\n          spellCheck={false}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Mirror, mirror, on the wall, who's the fairest of them all?\"\r\n          required\r\n          value={searchText}\r\n          onChange={handleChange}\r\n        />\r\n        <button className=\"icon\">\r\n          <i>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\r\n            </svg>\r\n          </i>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport './style.scss';\r\nimport mirrorWhite from '../../images/ioak_white.svg';\r\nimport mirrorWhiteSmall from '../../images/mirror_white_small.svg';\r\nimport mirrorBlack from '../../images/ioak_black.svg';\r\nimport OaLinks from './OaLinks';\r\nimport SpaceLinks from './SpaceLinks';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport SearchBar from '../../oakui/SearchBar';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakButton from '../../oakui/OakButton';\r\n// import SearchBar from '../Ux/SearchBar';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  toggleDarkMode: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n  space: string;\r\n}\r\n\r\nconst Mobile = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    showSearchBar: false,\r\n    menu: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(message => {\r\n      if (message.name === 'show-navbar-element') {\r\n        setData({ ...data, showSearchBar: message.signal });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const toggleMenu = () => {\r\n    setData({ ...data, menu: !data.menu });\r\n  };\r\n\r\n  const signin = type => {\r\n    props.login(type);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={\r\n          props.transparent ? 'navbar mobile transparent' : 'navbar mobile'\r\n        }\r\n      >\r\n        <div className=\"left\">\r\n          {!data.showSearchBar &&\r\n            !props.transparent &&\r\n            props.profile.theme === 'theme_light' && (\r\n              <img className=\"logo\" src={mirrorBlack} alt=\"Mirror logo\" />\r\n            )}\r\n          {!data.showSearchBar &&\r\n            (props.transparent || props.profile.theme === 'theme_dark') && (\r\n              <img className=\"logo\" src={mirrorWhite} alt=\"Mirror logo\" />\r\n            )}\r\n          {data.showSearchBar &&\r\n            !props.transparent &&\r\n            props.profile.theme === 'theme_light' && (\r\n              <img className=\"logo\" src={mirrorWhiteSmall} alt=\"Mirror logo\" />\r\n            )}\r\n          {data.showSearchBar &&\r\n            (props.transparent || props.profile.theme === 'theme_dark') && (\r\n              <img className=\"logo\" src={mirrorWhiteSmall} alt=\"Mirror logo\" />\r\n            )}\r\n          {data.showSearchBar && <SearchBar alt />}\r\n          {/* links */}\r\n        </div>\r\n        <div className=\"right\">\r\n          {/* <div className=\"settings-icon\" onClick={props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n          <div\r\n            className={data.menu ? 'menu active' : 'menu'}\r\n            onClick={toggleMenu}\r\n          >\r\n            <div />\r\n          </div>\r\n          {/* action login */}\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={data.menu ? 'slider show' : 'slider hide'}\r\n        onClick={toggleMenu}\r\n      >\r\n        <div\r\n          className={data.menu ? 'container' : 'container hidetext'}\r\n          onClick={toggleMenu}\r\n        >\r\n          <div className=\"action\">\r\n            {/* <div className=\"settings-icon\" onClick={props.toggleSettings}>\r\n                        {props.authorization.isAuth && <OakButton invert variant=\"appear\" small action={props.toggleSettings}><i className=\"material-icons\">brush</i>Action 1</OakButton>}\r\n                    </div> */}\r\n            <div className=\"buttons\">\r\n              {props.authorization.isAuth && (\r\n                <OakButton variant=\"appear\" small action={props.logout}>\r\n                  <i className=\"material-icons\">power_settings_new</i>Logout\r\n                </OakButton>\r\n              )}\r\n              {!props.authorization.isAuth && (\r\n                <OakButton\r\n                  variant=\"appear\"\r\n                  small\r\n                  action={() => signin('signin')}\r\n                >\r\n                  <i className=\"material-icons\">person</i>Login\r\n                </OakButton>\r\n              )}\r\n              {!props.authorization.isAuth && (\r\n                <OakButton\r\n                  variant=\"appear\"\r\n                  small\r\n                  action={() => signin('signup')}\r\n                >\r\n                  <i className=\"material-icons\">person_add</i>Signup\r\n                </OakButton>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {!props.space && (\r\n            <OaLinks\r\n              authorization={props.authorization}\r\n              profile={props.profile}\r\n            />\r\n          )}\r\n          {props.space && (\r\n            <SpaceLinks\r\n              authorization={props.authorization}\r\n              profile={props.profile}\r\n              space={props.space}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Mobile;\r\n","import React, { useEffect, ReactNode, useState } from 'react';\r\nimport './styles/oak-modal.scss';\r\nimport OakIcon from './OakIcon';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  label?: string;\r\n  children?: ReactNode;\r\n  fullscreen?: boolean;\r\n  noheader?: boolean;\r\n  donotMobilize?: boolean;\r\n}\r\n\r\nconst OakModal = (props: Props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  useEffect(() => {\r\n    if (visible !== props.visible) {\r\n      if (props.visible) {\r\n        setVisible(props.visible);\r\n      } else {\r\n        setTimeout(() => setVisible(props.visible), 250);\r\n      }\r\n    }\r\n  }, [props.visible]);\r\n\r\n  useEffect(() => {\r\n    // if (visible) {\r\n    //   document.body.classList.add('oak-modal-open');\r\n    // } else {\r\n    //   document.body.classList.remove('oak-modal-open');\r\n    // }\r\n    document.addEventListener('keydown', escFunction, false);\r\n    return () => document.removeEventListener('keydown', escFunction, false);\r\n  }, [visible]);\r\n\r\n  const escFunction = event => {\r\n    if (event.keyCode === 27) {\r\n      if (visible) {\r\n        props.toggleVisibility();\r\n      }\r\n    }\r\n  };\r\n\r\n  const getmodalStyle = () => {\r\n    let style = '';\r\n    style += props.noheader ? ' noheader' : '';\r\n    style += props.fullscreen ? ' fullscreen' : '';\r\n    style += props.donotMobilize ? '' : ' mobilize';\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {visible && (\r\n        <div\r\n          className={\r\n            props.visible\r\n              ? `modal-root show ${getmodalStyle()}`\r\n              : `modal-root hide ${getmodalStyle()}`\r\n          }\r\n        >\r\n          <div className=\"backdrop-fade\" onClick={props.toggleVisibility} />\r\n          <div className=\"oak-modal\">\r\n            {/* {visible && ( */}\r\n            <div className=\"modal\">\r\n              <div\r\n                className={props.visible ? 'container' : 'container hidetext'}\r\n              >\r\n                <div className=\"modal-header\">\r\n                  {/* <div className=\"container\" data-test=\"toggle-visibility\"> */}\r\n\r\n                  <div className=\"left\">\r\n                    <div className=\"icon\">\r\n                      {/* <i className=\"material-icons\">blur_on</i> */}N\r\n                    </div>\r\n                    <div className=\"label one-liner\">{props.label}</div>\r\n                  </div>\r\n                  <div className=\"right\">\r\n                    <div onClick={props.toggleVisibility}>\r\n                      <i className=\"material-icons\">close</i>\r\n                      <div className=\"text-esc\">esc</div>\r\n                    </div>\r\n                  </div>\r\n                  {/* </div> */}\r\n                </div>\r\n                {props.children}\r\n              </div>\r\n            </div>\r\n            {/* )} */}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakModal;\r\n","import React, { useState, useEffect, ReactElement } from 'react';\r\nimport './styles/oak-tab.scss';\r\n\r\ninterface Props {\r\n  meta: any[];\r\n  children: any;\r\n}\r\n\r\nconst OakTab = (props: Props) => {\r\n  const [activeTab, setActiveTab] = useState('');\r\n  const [slots, setSlots] = useState<any | {}>({});\r\n\r\n  useEffect(() => {\r\n    if (!activeTab) {\r\n      setActiveTab(\r\n        props.meta && props.meta.length > 0 ? props.meta[0].slotName : ''\r\n      );\r\n    }\r\n    initializeViews();\r\n  }, [props.meta, props.children]);\r\n\r\n  const initializeViews = () => {\r\n    let newSlots = {};\r\n    React.Children.toArray(props.children).forEach((node: any) => {\r\n      newSlots = { ...newSlots, [node.props.slot]: node };\r\n    });\r\n    setSlots(newSlots);\r\n  };\r\n\r\n  const switchTab = tab => {\r\n    setActiveTab(tab);\r\n  };\r\n\r\n  return (\r\n    <div className=\"oak-tab\">\r\n      <div className=\"header\">\r\n        {props.meta.map(item => (\r\n          <div\r\n            key={item.slotName}\r\n            className={`tab typography-6 ${\r\n              activeTab === item.slotName ? 'active' : ''\r\n            }`}\r\n            onClick={() => switchTab(item.slotName)}\r\n          >\r\n            <div className=\"icon\">\r\n              <i\r\n                className={`material-icons typography-8 ${\r\n                  activeTab === item.slotName ? 'active' : ''\r\n                }`}\r\n              >\r\n                {item.icon}\r\n              </i>\r\n            </div>\r\n            <div className=\"label\">{item.label}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {props.meta.map(item => (\r\n        <div\r\n          key={item.slotName}\r\n          className={`tab typography-6 ${\r\n            activeTab === item.slotName ? 'active' : ''\r\n          }`}\r\n          onClick={() => switchTab(item.slotName)}\r\n        />\r\n      ))}\r\n      {props.meta.map(item => (\r\n        <div\r\n          key={item.slotName}\r\n          className={`content ${\r\n            item.slotName === activeTab ? 'active' : 'inactive'\r\n          }`}\r\n        >\r\n          {slots[item.slotName]}\r\n          {/* <slot v-bind:name=\"item.slotName\" /> */}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakTab;\r\n","import React from 'react';\r\nimport './styles/oak-text-slide.scss';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  id: string;\r\n  data: any;\r\n  type?: string;\r\n  handleChange: any;\r\n  errorFields?: any;\r\n  disabled?: boolean;\r\n  rows?: number;\r\n  multiline?: boolean;\r\n  handleFocus?: Function;\r\n  placeholder?: string;\r\n}\r\nconst OakText = (props: Props) => {\r\n  const handleFocus = () => {\r\n    if (props.handleFocus) {\r\n      props.handleFocus();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"oak-text\">\r\n      {!props.multiline && (\r\n        <input\r\n          disabled={props.disabled}\r\n          autoComplete=\"off\"\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          type={props.type ? props.type : 'text'}\r\n          name={props.id}\r\n          id={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n          onFocus={handleFocus}\r\n        />\r\n      )}\r\n      {props.multiline && (\r\n        <textarea\r\n          disabled={props.disabled}\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          id={props.id}\r\n          name={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      <label\r\n        htmlFor={props.id}\r\n        className={props.data[props.id] ? 'active' : ''}\r\n      >\r\n        {props.label}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakText;\r\n","import React, { useState } from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport './profile-settings.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakTab from '../../oakui/OakTab';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { httpPost } from '../Lib/RestTemplate';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  space: string;\r\n}\r\n\r\nconst ProfileSettings = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [passwordData, setPasswordData] = useState({\r\n    oldPassword: '',\r\n    newPassword: '',\r\n    repeatPassword: '',\r\n  });\r\n  const [meta, setMeta] = useState([\r\n    { slotName: 'details', label: 'Basic details', icon: 'subject' },\r\n    { slotName: 'password', label: 'Change Password', icon: 'security' },\r\n  ]);\r\n\r\n  const handlePasswordChange = event => {\r\n    setPasswordData({\r\n      ...passwordData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const update = () => {\r\n    let baseAuthUrl = '/auth';\r\n    if (props.space) {\r\n      baseAuthUrl = `/auth/${props.space}`;\r\n    }\r\n    httpPost(\r\n      `${baseAuthUrl}/changepassword`,\r\n      {\r\n        userId: authorization.userId,\r\n        oldPassword: passwordData.oldPassword,\r\n        newPassword: passwordData.newPassword,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: authorization.token,\r\n        },\r\n      }\r\n    )\r\n      .then((response: any) => {\r\n        if (response.status === 200) {\r\n          setPasswordData({\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            repeatPassword: '',\r\n          });\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Failed with error',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        if (error.response.status === 401) {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message:\r\n              'Password incorrect. Please enter your right credentials to update password',\r\n            duration: 3000,\r\n          });\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Failed with error',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"profile-settings\">\r\n      <OakTab meta={meta}>\r\n        <div slot=\"details\">details</div>\r\n        <div slot=\"password\" className=\"change-password\">\r\n          <OakText\r\n            type=\"password\"\r\n            label=\"Old password\"\r\n            data={passwordData}\r\n            id=\"oldPassword\"\r\n            handleChange={e => handlePasswordChange(e)}\r\n          />\r\n          <OakText\r\n            type=\"password\"\r\n            label=\"New password\"\r\n            data={passwordData}\r\n            id=\"newPassword\"\r\n            handleChange={e => handlePasswordChange(e)}\r\n          />\r\n          <OakText\r\n            type=\"password\"\r\n            label=\"Retype password\"\r\n            data={passwordData}\r\n            id=\"repeatPassword\"\r\n            handleChange={e => handlePasswordChange(e)}\r\n          />\r\n          <OakButton theme=\"primary\" variant=\"drama\" action={update}>\r\n            Update password\r\n          </OakButton>\r\n        </div>\r\n      </OakTab>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileSettings;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect, useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\n\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport { httpPost } from '../Lib/RestTemplate';\r\nimport OakModal from '../../oakui/OakModal';\r\nimport OakTab from '../../oakui/OakTab';\r\nimport ProfileSettings from './ProfileSettings';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n  history: any;\r\n  cookies: any;\r\n  location: any;\r\n  match: any;\r\n}\r\n\r\nconst Navigation = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const profile = useSelector(state => state.profile);\r\n  const [data, setData] = useState({\r\n    visible: false,\r\n    mobilemenu: 'hide',\r\n    chooseTheme: false,\r\n    showSettings: false,\r\n    transparentNavBar: false,\r\n    firstLoad: true,\r\n    showNavbar: false,\r\n    editProfileDialog: false,\r\n  });\r\n\r\n  const [space, setSpace] = useState('');\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(event => {\r\n      if (event.name === 'spaceChange') {\r\n        setSpace(event.data);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(message => {\r\n      if (message.name === 'navbar') {\r\n        setData({ ...data, showNavbar: message.signal });\r\n      }\r\n      if (message.name === 'loggedin') {\r\n        // props.reloadProfile(nextProps.authorization);\r\n        setData({ ...data, firstLoad: false });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (data.firstLoad && props.authorization && props.authorization.isAuth) {\r\n      setData({ ...data, firstLoad: false });\r\n    }\r\n  }, [props.authorization.isAuth]);\r\n\r\n  const toggleDarkMode = () => {\r\n    if (props.profile.theme === 'theme_dark') {\r\n      props.setProfile({\r\n        ...props.profile,\r\n        theme: 'theme_light',\r\n      });\r\n    } else {\r\n      props.setProfile({\r\n        ...props.profile,\r\n        theme: 'theme_dark',\r\n      });\r\n    }\r\n  };\r\n\r\n  const login = type => {\r\n    if (space) {\r\n      props.history.push(`/space/${space}/login?type=${type}`);\r\n    } else {\r\n      props.history.push(`/login?type=${type}`);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    let baseAuthUrl = '/auth';\r\n    let authKey = props.cookies.get('oneauth');\r\n    if (space) {\r\n      authKey = props.cookies.get(space);\r\n      baseAuthUrl = `/auth/${space}`;\r\n    }\r\n\r\n    httpPost(`${baseAuthUrl}/session/${authKey}/invalidate`, null, null).then(\r\n      (response: any) => {\r\n        if (response.status === 200 || response.status === 404) {\r\n          props.removeAuth();\r\n          if (space) {\r\n            props.cookies.remove(space);\r\n            props.history.push(`/space/${space}/home`);\r\n            sendMessage('notification', true, {\r\n              type: 'success',\r\n              message: `Signed out of space ${space}`,\r\n              duration: 3000,\r\n            });\r\n          } else {\r\n            props.cookies.remove('oneauth');\r\n            props.history.push(`/home`);\r\n            sendMessage('notification', true, {\r\n              type: 'success',\r\n              message: `Signed out of oneauth`,\r\n              duration: 3000,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const toggleSettings = () => {\r\n    setData({ ...data, showSettings: !data.showSettings });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {data.showNavbar && (\r\n        <div className=\"nav\">\r\n          <Desktop\r\n            {...props}\r\n            logout={logout}\r\n            login={login}\r\n            toggleSettings={toggleSettings}\r\n            transparent={data.transparentNavBar}\r\n            toggleDarkMode={toggleDarkMode}\r\n            space={space}\r\n            editProfile={() => setData({ ...data, editProfileDialog: true })}\r\n          />\r\n          <Mobile\r\n            {...props}\r\n            logout={logout}\r\n            login={login}\r\n            toggleSettings={toggleSettings}\r\n            transparent={data.transparentNavBar}\r\n            toggleDarkMode={toggleDarkMode}\r\n            space={space}\r\n          />\r\n          <OakModal\r\n            fullscreen\r\n            label=\"User profile settings\"\r\n            visible={data.editProfileDialog}\r\n            toggleVisibility={() =>\r\n              setData({ ...data, editProfileDialog: !data.editProfileDialog })\r\n            }\r\n          >\r\n            <div className=\"modal-body\">\r\n              <ProfileSettings space={space} />\r\n            </div>\r\n          </OakModal>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile })(\r\n  withCookies(withRouter(Navigation))\r\n);\r\n","import {\r\n  httpGet,\r\n  httpPut,\r\n  httpDelete,\r\n  httpPost,\r\n} from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { UPDATE_SPACE } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'space';\r\n\r\nexport const fetchSpace = authorization => dispatch => {\r\n  httpGet(`${constants.API_SPACE_FETCH}/`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: UPDATE_SPACE,\r\n      payload: { data: response.data.data },\r\n    });\r\n  });\r\n};\r\n\r\nexport const createSpace = (authorization, payload) => dispatch => {\r\n  return httpPost(`${constants.API_SPACE_FETCH}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'created' });\r\n        dispatch(fetchSpace(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const updateSpace = (authorization, payload) => dispatch => {\r\n  return httpPut(`${constants.API_SPACE_FETCH}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'updated' });\r\n        dispatch(fetchSpace(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteSpace = (authorization, spaceId) => dispatch => {\r\n  httpDelete(`${constants.API_SPACE_DELETE}/${spaceId}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        // sendMessage('notification', true, {type: 'success', message: 'FAQ deleted', duration: 5000});\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchSpace(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import {\r\n  httpGet,\r\n  httpPut,\r\n  httpDelete,\r\n  httpPost,\r\n} from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { UPDATE_APP } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'app';\r\n\r\nexport const fetchApp = authorization => dispatch => {\r\n  httpGet(`${constants.API_APP_FETCH}/`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: UPDATE_APP,\r\n      payload: { data: response.data },\r\n    });\r\n  });\r\n};\r\n\r\nexport const createApp = (authorization, payload) => dispatch => {\r\n  return httpPost(`${constants.API_APP_FETCH}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'created' });\r\n        dispatch(fetchApp(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const updateApp = (authorization, payload) => dispatch => {\r\n  return httpPut(`${constants.API_APP_FETCH}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'updated' });\r\n        dispatch(fetchApp(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteApp = (authorization, spaceId) => dispatch => {\r\n  httpDelete(`${constants.API_APP_DELETE}/${spaceId}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        // sendMessage('notification', true, {type: 'success', message: 'FAQ deleted', duration: 5000});\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchApp(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import { httpGet } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { FETCH_ALL_USERS } from './types';\r\n\r\nconst fetchUsers = authorization => dispatch => {\r\n  httpGet(`${constants.API_URL}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: FETCH_ALL_USERS,\r\n      payload: { data: response.data.data },\r\n    });\r\n  });\r\n};\r\n\r\nexport default fetchUsers;\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { UPDATE_ROLE } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\nimport { fetchSpace } from './SpaceActions';\r\n\r\nconst domain = 'role';\r\n\r\nexport const fetchRoles = authorization => dispatch => {\r\n  httpGet(`${constants.API_ROLE_FETCH}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: UPDATE_ROLE,\r\n      payload: { data: response.data },\r\n    });\r\n  });\r\n};\r\n\r\nexport const updateRoles = (authorization, payload) => dispatch => {\r\n  return httpPut(`${constants.API_ROLE_FETCH}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'updated' });\r\n        dispatch(fetchRoles(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteRoles = (\r\n  authorization,\r\n  type,\r\n  userId,\r\n  domainId\r\n) => dispatch => {\r\n  httpDelete(`${constants.API_ROLE_FETCH}/${type}/${userId}/${domainId}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchRoles(authorization));\r\n        dispatch(fetchSpace(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { UPDATE_APP_SPACE } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'appspace';\r\n\r\nexport const fetchAppSpace = authorization => dispatch => {\r\n  httpGet(`${constants.API_APP_SPACE}/`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: UPDATE_APP_SPACE,\r\n      payload: { data: response.data.data },\r\n    });\r\n  });\r\n};\r\n\r\nexport const updateAppSpace = (authorization, payload) => dispatch => {\r\n  return httpPut(`${constants.API_APP_SPACE}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'updated' });\r\n        dispatch(fetchAppSpace(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteAppSpace = (authorization, spaceId, appId) => dispatch => {\r\n  httpDelete(`${constants.API_APP_SPACE}/${spaceId}/${appId}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchAppSpace(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect, useSelector } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { fetchSpace } from '../../actions/SpaceActions';\r\nimport { fetchApp } from '../../actions/AppActions';\r\nimport fetchUsers from '../../actions/OaUserAction';\r\nimport { fetchRoles } from '../../actions/OaRoleActions';\r\nimport { fetchAppSpace } from '../../actions/AppSpaceAction';\r\nimport './OaLogin.scss';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { sentPasswordChangeEmail } from '../Auth/AuthService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport mirrorWhite from '../../images/ioak_white.svg';\r\nimport mirrorBlack from '../../images/ioak_black.svg';\r\nimport SigninPage from './space/SigninPage';\r\nimport NewUser from './space/NewUser';\r\nimport VerifySession from './space/VerifySession';\r\nimport ResetPassword from './space/ResetPassword';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  fetchRoles: Function;\r\n  fetchUsers: Function;\r\n  fetchSpace: Function;\r\n  fetchApp: Function;\r\n  fetchAppSpace: Function;\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  profile: any;\r\n  match: any;\r\n  location: any;\r\n  authorization: Authorization;\r\n  space: string;\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [type, setType] = useState('signin');\r\n  const [resetCode, setResetCode] = useState('');\r\n\r\n  const [appId, setAppId] = useState('');\r\n  const [verificationStep, setVerificationStep] = useState(false);\r\n\r\n  useEffect(() => {\r\n    sendMessage('navbar', false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.type === 'signup') {\r\n        setType('signup');\r\n      } else if (query && query.type === 'reset') {\r\n        setType('reset');\r\n      }\r\n      if (query && query.auth) {\r\n        setResetCode(query.auth);\r\n      }\r\n      if (query && query.appId) {\r\n        setAppId(query.appId);\r\n      }\r\n    }\r\n    // props.setProfile({ ...props.profile, tenant: props.match.params.tenant });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setVerificationStep(true);\r\n    const authKey = props.cookies.get('oneauth');\r\n    if (authorization.isAuth || authKey) {\r\n      props.history.push(`/home`);\r\n    } else {\r\n      setVerificationStep(false);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"oa-login smooth-page\">\r\n        <div className=\"side\" />\r\n        <div className=\"main\">\r\n          <div className=\"container\">\r\n            {props.profile.theme === 'theme_light' && (\r\n              <img className=\"logo\" src={mirrorBlack} alt=\"Mirror logo\" />\r\n            )}\r\n            {props.profile.theme === 'theme_dark' && (\r\n              <img className=\"logo\" src={mirrorWhite} alt=\"Mirror logo\" />\r\n            )}\r\n            {!verificationStep && type === 'signin' && (\r\n              <div className=\"wrapper\">\r\n                <SigninPage\r\n                  switchToSignupPage={() => setType('signup')}\r\n                  switchToResetPage={() => setType('reset')}\r\n                  {...props}\r\n                />\r\n              </div>\r\n            )}\r\n            {!verificationStep && type === 'signup' && (\r\n              <div className=\"wrapper\">\r\n                <NewUser\r\n                  switchToSigninPage={() => setType('signin')}\r\n                  {...props}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {!verificationStep && type === 'reset' && (\r\n              <div className=\"wrapper\">\r\n                <ResetPassword\r\n                  {...props}\r\n                  resetCode={resetCode}\r\n                  switchToSigninPage={() => setType('signin')}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {verificationStep && <VerifySession />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  fetchSpace: state.fetchSpace,\r\n  fetchUsers: state.fetchUsers,\r\n  existingAdmins: state.fetchRoles,\r\n  fetchApp: state.fetchApp,\r\n  fetchAppSpace: state.fetchAppSpace,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAuth,\r\n  addAuth,\r\n  removeAuth,\r\n  fetchSpace,\r\n  fetchUsers,\r\n  fetchRoles,\r\n  fetchApp,\r\n  fetchAppSpace,\r\n})(withCookies(Login));\r\n","import React, { useEffect } from 'react';\r\nimport { connect, useSelector, useDispatch } from 'react-redux';\r\nimport { getAuth, addAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport AuthInit from './AuthInit';\r\nimport { httpGet } from '../Lib/RestTemplate';\r\nimport { setProfile } from '../../actions/ProfileActions';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { fetchSpace } from '../../actions/SpaceActions';\r\nimport fetchUsers from '../../actions/OaUserAction';\r\nimport { fetchRoles } from '../../actions/OaRoleActions';\r\nimport { fetchApp } from '../../actions/AppActions';\r\nimport { fetchAppSpace } from '../../actions/AppSpaceAction';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  path?: string;\r\n  render?: any;\r\n  component: any;\r\n  match: any;\r\n  history: any;\r\n  middleware?: string[];\r\n  cookies: any;\r\n  logout: any;\r\n}\r\n\r\nconst OakRoute = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const profile = useSelector(state => state.profile);\r\n  const dispatch = useDispatch();\r\n\r\n  // useEffect(() => {\r\n  //   console.log(props.match.params.tenant);\r\n  // }, []);\r\n  // useEffect(() => {\r\n  //   console.log(props.profile.appStatus, props.profile.loginPage);\r\n  //   if (props.profile.appStatus === 'notmounted' && !props.profile.loginPage) {\r\n  //     props.setProfile({\r\n  //       tenant: props.match.params.tenant,\r\n  //       appStatus: 'mounted',\r\n  //     });\r\n  //   } else {\r\n  //     props.setProfile({ tenant: props.match.params.tenant });\r\n  //   }\r\n  //   middlewares(props.middleware);\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(props.profile.appStatus, props.profile.loginPage);\r\n  //   // middlewares(props.middleware);\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   middlewares(props.middleware);\r\n  // }, [props.profile.appStatus]);\r\n\r\n  const middlewares = () => {\r\n    // if (props.profile.appStatus === 'authenticated') {\r\n    console.log(props.middleware);\r\n    props.middleware?.forEach(middlewareName => {\r\n      if (!runMidleware(middlewareName)) {\r\n        return false;\r\n      }\r\n    });\r\n    return true;\r\n    // }\r\n  };\r\n\r\n  const runMidleware = middlewareName => {\r\n    sendMessage('spaceChange', true, '');\r\n    switch (middlewareName) {\r\n      case 'readAuthenticationSpace':\r\n        return readAuthenticationSpace();\r\n      case 'readAuthenticationOa':\r\n        return readAuthenticationOa();\r\n      case 'authenticateSpace':\r\n        return authenticateSpace();\r\n      case 'authenticateOa':\r\n        return authenticateOa();\r\n      case 'isAdmin':\r\n        return isAdmin();\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const authenticateOa = () => {\r\n    return authenticate('oa');\r\n  };\r\n  const authenticateSpace = () => {\r\n    return authenticate('space');\r\n  };\r\n  const readAuthenticationOa = () => {\r\n    return authenticate('oa', false);\r\n  };\r\n  const readAuthenticationSpace = () => {\r\n    return authenticate('space', false);\r\n  };\r\n\r\n  const authenticate = (type, redirect = true) => {\r\n    if (type === 'space') {\r\n      sendMessage('spaceChange', true, props.match.params.tenant);\r\n    }\r\n    if (authorization.isAuth) {\r\n      return true;\r\n    }\r\n    let baseAuthUrl = '/auth';\r\n    let authKey = props.cookies.get('oneauth');\r\n    let cookieKey = 'oneauth';\r\n    if (type === 'space') {\r\n      authKey = props.cookies.get(props.match.params.tenant);\r\n      cookieKey = props.match.params.tenant;\r\n      baseAuthUrl = `/auth/${props.match.params.tenant}`;\r\n    }\r\n\r\n    if (authKey) {\r\n      httpGet(`${baseAuthUrl}/session/${authKey}`, null)\r\n        .then(sessionResponse => {\r\n          if (sessionResponse.status === 200) {\r\n            dispatch(\r\n              addAuth({\r\n                isAuth: true,\r\n                token: sessionResponse.data.token,\r\n                secret: '',\r\n                firstName: sessionResponse.data.firstName,\r\n                lastName: sessionResponse.data.lastName,\r\n                email: sessionResponse.data.email,\r\n              })\r\n            );\r\n            if (type === 'oa') {\r\n              dispatch(fetchSpace(sessionResponse.data));\r\n              dispatch(fetchUsers(sessionResponse.data));\r\n              dispatch(fetchRoles(sessionResponse.data));\r\n              dispatch(fetchApp(sessionResponse.data));\r\n              dispatch(fetchAppSpace(sessionResponse.data));\r\n            }\r\n            // dispatch(setProfile({ ...profile, appStatus: 'authenticated' }));\r\n          }\r\n        })\r\n        .catch((error: any) => {\r\n          props.cookies.remove(cookieKey);\r\n          if (redirect && error.response.status === 404) {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Invalid session token',\r\n              duration: 3000,\r\n            });\r\n            type === 'space'\r\n              ? redirectToSpaceLogin(props.match.params.tenant)\r\n              : redirectToOaLogin();\r\n          } else if (redirect && error.response.status === 401) {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Session expired',\r\n              duration: 3000,\r\n            });\r\n            type === 'space'\r\n              ? redirectToSpaceLogin(props.match.params.tenant)\r\n              : redirectToOaLogin();\r\n          }\r\n        });\r\n    } else if (redirect) {\r\n      // dispatch(setProfile({ ...profile, appStatus: 'authenticated' }));\r\n      type === 'space'\r\n        ? redirectToSpaceLogin(props.match.params.tenant)\r\n        : redirectToOaLogin();\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const isAdmin = () => {\r\n    redirectToUnauthorized();\r\n    return false;\r\n  };\r\n\r\n  const redirectToOaLogin = () => {\r\n    window.location.href = `http://localhost:3010/#/login`;\r\n  };\r\n\r\n  const redirectToSpaceLogin = spaceId => {\r\n    window.location.href = `http://localhost:3010/#/space/${spaceId}/login`;\r\n  };\r\n\r\n  const redirectToUnauthorized = () => {\r\n    props.history.push(`/${profile.tenant}/unauthorized`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <AuthInit\r\n        profile={props.profile}\r\n        redirectIfNotAuthenticated={\r\n          props.middleware && props.middleware.indexOf('isAuthenticated') !== -1\r\n        }\r\n      /> */}\r\n      {middlewares() && (\r\n        <props.component\r\n          {...props}\r\n          profile={profile}\r\n          space={props.match.params.tenant}\r\n          // getProfile={getProfile}\r\n          // setProfile={props.setProfile}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakRoute;\r\n","import React from 'react';\r\nimport './styles/oak-prompt.scss';\r\nimport OakButton from './OakButton';\r\nimport OakModal from './OakModal';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  action: any;\r\n  text?: string;\r\n  children?: any;\r\n}\r\n\r\nconst OakPrompt = (props: Props) => {\r\n  // useEffect(() => {\r\n  //     document.addEventListener(\"keydown\", escFunction, false);\r\n  //     return () => document.removeEventListener(\"keydown\", escFunction, false);\r\n  // }, []);\r\n\r\n  // const escFunction = (event) => {\r\n  //     if(event.keyCode === 27) {\r\n  //       if (props.visible) {\r\n  //         props.toggleVisibility();\r\n  //       }\r\n  //     }\r\n  // }\r\n\r\n  const action = () => {\r\n    console.log('triggered action');\r\n    props.toggleVisibility();\r\n    console.log('before action');\r\n    props.action();\r\n    console.log('after action');\r\n  };\r\n\r\n  return (\r\n    <OakModal\r\n      visible={props.visible}\r\n      toggleVisibility={props.toggleVisibility}\r\n      noheader\r\n    >\r\n      <div className=\"modal-body typography-8 space-top-4 space-bottom-4 confirmation-text\">\r\n        {props.text ? props.text : 'Are you sure you want to continue?'}\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        {props.children && props.children}\r\n        {!props.children && (\r\n          <>\r\n            <OakButton\r\n              data-test=\"action-close\"\r\n              action={props.toggleVisibility}\r\n              theme=\"default\"\r\n              variant=\"appear\"\r\n              align=\"left\"\r\n              fa=\"fas fa-times\"\r\n            >\r\n              No\r\n            </OakButton>\r\n            <OakButton\r\n              data-test=\"action-proceed\"\r\n              action={action}\r\n              theme=\"primary\"\r\n              variant=\"disappear\"\r\n              align=\"right\"\r\n              fa=\"fas fa-check\"\r\n            >\r\n              Yes\r\n            </OakButton>\r\n          </>\r\n        )}\r\n      </div>\r\n    </OakModal>\r\n  );\r\n};\r\n\r\nexport default OakPrompt;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteRoles } from '../../actions/OaRoleActions';\r\nimport './member.scss';\r\n\r\ninterface Props {\r\n  member: any;\r\n  domainId: string;\r\n  domainType: string;\r\n  owner: string;\r\n}\r\n\r\nconst Member = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [confirmPromptOpen, setConfirmPromptOpen] = useState(false);\r\n\r\n  const remove = () => {\r\n    if (\r\n      props.member.email === props.owner ||\r\n      props.member._id === props.owner\r\n    ) {\r\n      return;\r\n    }\r\n    dispatch(\r\n      deleteRoles(\r\n        authorization,\r\n        props.domainType,\r\n        props.member._id,\r\n        props.domainId\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"member\" id={props.member._id}>\r\n      <>\r\n        <div className=\"title typography-6\">{props.member.email}</div>\r\n        <div className=\"typography-6\">{`${props.member.lastName}, ${props.member.firstName}`}</div>\r\n      </>\r\n      <div className=\"action\">\r\n        {!confirmPromptOpen &&\r\n          props.member.email !== props.owner &&\r\n          props.member._id !== props.owner && (\r\n            <div\r\n              className=\"action-item delete\"\r\n              onClick={() => setConfirmPromptOpen(!confirmPromptOpen)}\r\n            >\r\n              X\r\n            </div>\r\n          )}\r\n        {confirmPromptOpen && (\r\n          <>\r\n            <div\r\n              className=\"action-item cancel\"\r\n              onClick={() => setConfirmPromptOpen(!confirmPromptOpen)}\r\n            >\r\n              Cancel\r\n            </div>\r\n            <div className=\"action-item confirm\" onClick={remove}>\r\n              Confirm\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Member;\r\n","import React, { ReactNode, useState, useEffect } from 'react';\r\nimport './styles/oak-auto-complete.scss';\r\nimport OakText from './OakText';\r\nimport { newId } from '../events/MessageService';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  placeholder?: string;\r\n  objects: any;\r\n  handleChange: Function;\r\n}\r\n\r\nconst OakAutoComplete = (props: Props) => {\r\n  const [id, setId] = useState(newId());\r\n  const [searchOn, setSearchOn] = useState(false);\r\n  const [criteria, setCriteria] = useState({\r\n    [id]: '',\r\n  });\r\n  const [dropdownFiltered, setDropdownFiltered] = useState<\r\n    [{ key: string; value: string }] | undefined\r\n  >(undefined);\r\n\r\n  useEffect(() => {\r\n    updateSearchResults(criteria[id]);\r\n  }, [props.objects]);\r\n\r\n  const selected = key => {\r\n    setSearchOn(false);\r\n    props.handleChange(key);\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    setSearchOn(true);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setCriteria({ [event.target.name]: event.target.value });\r\n    updateSearchResults(event.target.value);\r\n  };\r\n  const updateSearchResults = searchCriteria => {\r\n    setDropdownFiltered(\r\n      props.objects.filter(item =>\r\n        item.value?.toLowerCase().includes(searchCriteria.toLowerCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', (e: any) => {\r\n      if (!document.getElementById(id)?.contains(e.target)) {\r\n        setSearchOn(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"oak-auto-complete\" id={id}>\r\n      <div className=\"search-bar\">\r\n        <OakText\r\n          id={id}\r\n          data={criteria}\r\n          label={props.label}\r\n          handleFocus={handleFocus}\r\n          handleChange={handleChange}\r\n          placeholder={props.placeholder}\r\n        />\r\n      </div>\r\n      {searchOn && dropdownFiltered && dropdownFiltered.length > 0 && (\r\n        <div className=\"results\">\r\n          {dropdownFiltered?.map(item => (\r\n            <div\r\n              className=\"element\"\r\n              key={item.key}\r\n              onClick={() => selected(item.key)}\r\n            >\r\n              {item.value}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakAutoComplete;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Member from '../ManageApp/Member';\r\nimport OakAutoComplete from '../../oakui/OakAutoComplete';\r\nimport { updateRoles, fetchRoles } from '../../actions/OaRoleActions';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  space: any;\r\n  toggleVisibilityHandler: Function;\r\n}\r\n\r\nconst EditAdministrators = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const oaUsers = useSelector(state => state.oaUsers);\r\n  const oaRoles = useSelector(state => state.oaRoles);\r\n  const [items, setItems] = useState<undefined | any[]>([{}]);\r\n  const [data, setData] = useState({\r\n    autoCompleteDropdownData: [{}],\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRoles(authorization));\r\n  }, [authorization]);\r\n\r\n  useEffect(() => {\r\n    const oaRole = oaRoles.data.data?.filter(\r\n      item => item.domainId === props.space._id\r\n    );\r\n    const oaUser = diff(oaRole, oaUsers.data);\r\n    setItems(oaUser);\r\n  }, [oaRoles.data.data]);\r\n\r\n  const diff = (arr, arr2) => {\r\n    const ret: any[] = [];\r\n    arr2.map(item1 => {\r\n      arr.map(item => {\r\n        if (item1._id.indexOf(item.userId) > -1) {\r\n          ret.push(item1);\r\n        }\r\n      });\r\n    });\r\n    return ret;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let list: any[] = [];\r\n    oaUsers.data?.map(item => {\r\n      list.push({ key: item._id, value: item.email });\r\n    });\r\n\r\n    const adminList: any[] = [];\r\n    if (items) {\r\n      items.map(item => adminList.push({ id: item._id }));\r\n    }\r\n    list = list.filter(val => {\r\n      return !adminList.some(item => {\r\n        return val.key === item.id;\r\n      });\r\n    });\r\n    setData({ autoCompleteDropdownData: list });\r\n  }, [oaUsers.data, items]);\r\n\r\n  const handleAutoCompleteChange = (value: string) => {\r\n    dispatch(\r\n      updateRoles(authorization, {\r\n        type: 'space',\r\n        userId: value,\r\n        domainId: props.space._id,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-body\">\r\n        <div className=\"autocomplete-users space-bottom-2\">\r\n          <OakAutoComplete\r\n            placeholder=\"Search by user name\"\r\n            handleChange={handleAutoCompleteChange}\r\n            objects={data.autoCompleteDropdownData}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"space-view space-top-2 space-bottom-4\"\r\n          key={oaUsers._id}\r\n        >\r\n          <div className=\"list-view-header typography-5\">\r\n            <div className=\"label\">Email</div>\r\n            <div className=\"label\">Name</div>\r\n          </div>\r\n          {items?.map(item => (\r\n            <Member\r\n              domainType=\"space\"\r\n              domainId={props.space._id}\r\n              member={item}\r\n              owner={props.space.email}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton\r\n          action={props.toggleVisibilityHandler}\r\n          theme=\"default\"\r\n          variant=\"appear\"\r\n          align=\"left\"\r\n        >\r\n          <i className=\"material-icons\">close</i>Close\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditAdministrators;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './style.scss';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { updateSpace } from '../../actions/SpaceActions';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  space: any;\r\n  toggleVisibilityHandler: Function;\r\n}\r\n\r\nconst EditSpace = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [spaceData, setSpaceData] = useState({\r\n    days: '',\r\n    hours: '',\r\n    minutes: '',\r\n    name: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    setSpaceData(props.space);\r\n  }, [props.space]);\r\n\r\n  // useEffect(() => {\r\n  //   const expiry = convertor(props.space.sessionExpiry);\r\n  //   setView({\r\n  //     ...view,\r\n  //     day: `${expiry.day}`,\r\n  //     hour: `${expiry.hour}`,\r\n  //     minutes: `${expiry.minutes}`,\r\n  //     name: props.space.name,\r\n  //   });\r\n  // }, [props.space.sessionExpiry]);\r\n\r\n  // const convertor = data => {\r\n  //   const day = Math.floor(data / (60 * 24));\r\n  //   const hour = Math.floor((data - day * 1440) / 60);\r\n  //   const minutes = data % 60;\r\n  //   return { day, hour, minutes };\r\n  // };\r\n\r\n  const handleChange = event => {\r\n    setSpaceData({\r\n      ...spaceData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const validateEmptyText = (text, message) => {\r\n    if (isEmptyOrSpaces(text)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message,\r\n        duration: 5000,\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const editSpace = () => {\r\n    if (\r\n      validateEmptyText(spaceData.name, 'Space name cannot be empty') &&\r\n      validateEmptyText(\r\n        spaceData.days || spaceData.hours || spaceData.minutes,\r\n        'Session Expiry is not provided'\r\n      )\r\n    ) {\r\n      dispatch(updateSpace(authorization, spaceData));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-body\">\r\n        <OakText\r\n          data={spaceData}\r\n          id=\"name\"\r\n          label=\"Space Name\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <div className=\"session-expiry\">\r\n          <OakText\r\n            data={spaceData}\r\n            id=\"days\"\r\n            type=\"number\"\r\n            label=\"Expiry in days\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={spaceData}\r\n            id=\"hours\"\r\n            type=\"number\"\r\n            label=\"Expiry in hours\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={spaceData}\r\n            id=\"minutes\"\r\n            type=\"number\"\r\n            label=\"Expiry in minutes\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton\r\n          action={props.toggleVisibilityHandler}\r\n          theme=\"default\"\r\n          variant=\"appear\"\r\n          align=\"left\"\r\n        >\r\n          <i className=\"material-icons\">close</i>Cancel\r\n        </OakButton>\r\n        <OakButton\r\n          theme=\"primary\"\r\n          action={editSpace}\r\n          variant=\"regular\"\r\n          align=\"right\"\r\n        >\r\n          <i className=\"material-icons\">double_arrow</i>Update\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditSpace;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OakPopoverMenu from '../../oakui/OakPopoverMenu';\r\nimport './style.scss';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\nimport { deleteSpace } from '../../actions/SpaceActions';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport EditAdministrators from './EditAdministrators';\r\nimport OakModal from '../../oakui/OakModal';\r\nimport EditSpace from './EditSpace';\r\nimport { fetchRoles } from '../../actions/OaRoleActions';\r\nimport OakIcon from '../../oakui/OakIcon';\r\n\r\nconst spaceDomain = 'space';\r\nconst roleDomain = 'role';\r\n\r\ninterface Props {\r\n  space: any;\r\n  id: string;\r\n}\r\nconst SpaceItem = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const oaRoles = useSelector(state => state.oaRoles);\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\r\n  const [adminDialogOpen, setAdminDialogOpen] = useState(false);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [countOfAdmins, setCountofAdmins] = useState<undefined | number>(0);\r\n  const appSpace = useSelector(state => state.appSpace);\r\n  const [countOfApps, setCountOfApps] = useState<undefined | number>(0);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === spaceDomain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${spaceDomain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'updated') {\r\n          setEditDialogOpen(false);\r\n        }\r\n        if (message.data.action === 'deleted') {\r\n          setDeleteDialogOpen(false);\r\n        }\r\n      }\r\n      if (message.name === roleDomain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${roleDomain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'updated') {\r\n          // setAdminDialogOpen(false);\r\n          setEditDialogOpen(false);\r\n        }\r\n        if (message.data.action === 'deleted') {\r\n          // setAdminDialogOpen(false);\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRoles(authorization));\r\n  }, [authorization]);\r\n\r\n  useEffect(() => {\r\n    const existingAdmins = oaRoles.data.data?.filter(\r\n      item => item.domainId === props.space._id\r\n    );\r\n\r\n    setCountofAdmins(existingAdmins?.length);\r\n  }, [oaRoles.data.data]);\r\n\r\n  useEffect(() => {\r\n    console.log(appSpace);\r\n    console.log(props.space.spaceId);\r\n    const connectedApp = appSpace.data?.filter(\r\n      item => item.spaceId === props.space.spaceId\r\n    );\r\n    console.log(connectedApp);\r\n    setCountOfApps(connectedApp.length);\r\n  }, [appSpace.data]);\r\n\r\n  const editSpace = () => {\r\n    setEditDialogOpen(true);\r\n  };\r\n\r\n  const editAdmin = () => {\r\n    setAdminDialogOpen(true);\r\n  };\r\n\r\n  const confirmDeleteSpace = () => {\r\n    setDeleteDialogOpen(true);\r\n  };\r\n\r\n  const actionElements = [\r\n    {\r\n      label: 'Details',\r\n      action: editSpace,\r\n      icon: 'edit',\r\n    },\r\n    {\r\n      label: 'Administrators',\r\n      action: editAdmin,\r\n      icon: 'people_alt',\r\n    },\r\n    {\r\n      label: 'Roles',\r\n      action: editAdmin,\r\n      icon: 'vpn_key',\r\n    },\r\n    {\r\n      label: 'Delete Space',\r\n      action: confirmDeleteSpace,\r\n      icon: 'delete',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-item\" key={props.space.id}>\r\n        <div className=\"content\">\r\n          <div className=\"title typography-8\">{`${props.space.name} (${props.space.spaceId})`}</div>\r\n          <div className=\"statistics typography-4\">\r\n            <div className=\"administrators\" onClick={editAdmin}>\r\n              {countOfAdmins} Administrator(s)\r\n            </div>\r\n            <div className=\"connected-apps\">\r\n              {countOfApps && countOfApps !== 0\r\n                ? `${countOfApps} Connected App(s)`\r\n                : `Connected to Open Apps`}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"action space-top-0\">\r\n          <OakPopoverMenu elements={actionElements} theme=\"primary\" right>\r\n            <div slot=\"label\" className=\"action-item\">\r\n              <i className=\"material-icons\">more_horiz</i>\r\n            </div>\r\n          </OakPopoverMenu>\r\n        </div>\r\n      </div>\r\n\r\n      <OakModal\r\n        label=\"Edit space\"\r\n        visible={editDialogOpen}\r\n        toggleVisibility={() => setEditDialogOpen(!editDialogOpen)}\r\n      >\r\n        <EditSpace\r\n          space={props.space}\r\n          toggleVisibilityHandler={() => setEditDialogOpen(!editDialogOpen)}\r\n        />\r\n      </OakModal>\r\n      <OakModal\r\n        label=\"Space Administrators\"\r\n        visible={adminDialogOpen}\r\n        toggleVisibility={() => setAdminDialogOpen(!adminDialogOpen)}\r\n      >\r\n        <EditAdministrators\r\n          space={props.space}\r\n          toggleVisibilityHandler={() => setAdminDialogOpen(!adminDialogOpen)}\r\n        />\r\n      </OakModal>\r\n      <OakPrompt\r\n        action={() => dispatch(deleteSpace(authorization, props.space.spaceId))}\r\n        visible={deleteDialogOpen}\r\n        toggleVisibility={() => setDeleteDialogOpen(!deleteDialogOpen)}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SpaceItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './style.scss';\r\nimport Navigation from '../Navigation';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport { createSpace } from '../../actions/SpaceActions';\r\nimport SpaceItem from './SpaceItem';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakModal from '../../oakui/OakModal';\r\n\r\nconst domain = 'space';\r\n\r\ninterface Props {\r\n  logout: Function;\r\n}\r\nconst ManageSpace = (props: Props) => {\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector(state => state.authorization);\r\n  const space = useSelector(state => state.space);\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    repeatPassword: '',\r\n    days: '',\r\n    hours: '',\r\n    minutes: '',\r\n  });\r\n  const [searchCriteria, setSearchCriteria] = useState({ text: '' });\r\n  const [view, setView] = useState<Array<any> | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    sendMessage('navbar', true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setView(search(space.data, searchCriteria.text));\r\n  }, [space.data, searchCriteria]);\r\n\r\n  useEffect(() => {\r\n    if (!dialogOpen) {\r\n      setData({\r\n        ...data,\r\n        name: '',\r\n        password: '',\r\n        repeatPassword: '',\r\n        days: '',\r\n        hours: '',\r\n        minutes: '',\r\n      });\r\n    }\r\n  }, [dialogOpen]);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === domain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${domain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'created') {\r\n          setDialogOpen(false);\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  useEffect(() => {\r\n    setData({ ...data, email: auth.email });\r\n  }, [auth]);\r\n\r\n  const search = (spaceList, criteria) => {\r\n    if (isEmptyOrSpaces(criteria)) {\r\n      return spaceList;\r\n    }\r\n    return spaceList.filter(\r\n      item => item.name.toLowerCase().indexOf(criteria.toLowerCase()) !== -1\r\n    );\r\n  };\r\n\r\n  const validateEmptyText = (text, message) => {\r\n    if (isEmptyOrSpaces(text)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message,\r\n        duration: 5000,\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const addSpace = () => {\r\n    if (\r\n      validateEmptyText(data.name, 'Space name cannot be empty') &&\r\n      validateEmptyText(data.password, 'Password is not provided') &&\r\n      validateEmptyText(\r\n        data.days || data.hours || data.minutes,\r\n        'Session Expiry is not provided'\r\n      )\r\n    ) {\r\n      if (data.password !== data.repeatPassword) {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Password does not match',\r\n          duration: 5000,\r\n        });\r\n      } else {\r\n        dispatch(createSpace(auth, data));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({\r\n      ...data,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSearchCriteriaChange = event => {\r\n    setSearchCriteria({\r\n      ...searchCriteria,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"app-page manage-space\">\r\n        <div className=\"space-container smooth-page\">\r\n          <div className=\"top-actions\">\r\n            <div className=\"search-bar\">\r\n              <OakText\r\n                label=\"Type to search\"\r\n                handleChange={handleSearchCriteriaChange}\r\n                id=\"text\"\r\n                data={searchCriteria}\r\n              />\r\n            </div>\r\n            <div className=\"create-action\">\r\n              <OakButton\r\n                theme=\"primary\"\r\n                action={() => setDialogOpen(!dialogOpen)}\r\n                variant=\"regular\"\r\n                icon=\"blur_on\"\r\n              >\r\n                New space\r\n              </OakButton>\r\n            </div>\r\n          </div>\r\n          <div className=\"space-list\">\r\n            {view?.map(item => (\r\n              <div key={item._id}>\r\n                <SpaceItem id={item._id} space={item} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <OakModal\r\n        label=\"New space\"\r\n        visible={dialogOpen}\r\n        toggleVisibility={() => setDialogOpen(!dialogOpen)}\r\n      >\r\n        <div className=\"modal-body\">\r\n          <OakText\r\n            data={data}\r\n            id=\"name\"\r\n            label=\"Space name\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={data}\r\n            id=\"email\"\r\n            label=\"Administrator Email\"\r\n            disabled\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={data}\r\n            id=\"password\"\r\n            label=\"Administrator Password\"\r\n            type=\"password\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={data}\r\n            id=\"repeatPassword\"\r\n            label=\"Repeat Password\"\r\n            type=\"password\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <div className=\"session-expiry\">\r\n            <OakText\r\n              data={data}\r\n              id=\"days\"\r\n              type=\"number\"\r\n              label=\"Expiry in days\"\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n            <OakText\r\n              data={data}\r\n              id=\"hours\"\r\n              type=\"number\"\r\n              label=\"Expiry in hours\"\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n            <OakText\r\n              data={data}\r\n              id=\"minutes\"\r\n              type=\"number\"\r\n              label=\"Expiry in minutes\"\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <OakButton\r\n            action={() => setDialogOpen(!dialogOpen)}\r\n            theme=\"default\"\r\n            variant=\"appear\"\r\n            align=\"left\"\r\n            icon=\"close\"\r\n          >\r\n            Cancel\r\n          </OakButton>\r\n          <OakButton\r\n            action={addSpace}\r\n            theme=\"primary\"\r\n            variant=\"disappear\"\r\n            align=\"right\"\r\n            icon=\"double_arrow\"\r\n          >\r\n            Create\r\n          </OakButton>\r\n        </div>\r\n      </OakModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageSpace;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OakAutoComplete from '../../oakui/OakAutoComplete';\r\nimport { updateRoles, fetchRoles } from '../../actions/OaRoleActions';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport Member from './Member';\r\n\r\ninterface Props {\r\n  app: any;\r\n  toggleVisibilityHandler: Function;\r\n}\r\n\r\nconst EditAdministrators = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const oaUsers = useSelector(state => state.oaUsers);\r\n  const oaRoles = useSelector(state => state.oaRoles);\r\n  const [items, setItems] = useState<undefined | any[]>([{}]);\r\n  const [data, setData] = useState({\r\n    autoCompleteDropdownData: [{}],\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRoles(authorization));\r\n  }, [authorization]);\r\n\r\n  useEffect(() => {\r\n    const oaRole = oaRoles.data.data?.filter(\r\n      item => item.domainId === props.app._id\r\n    );\r\n    const oaUser = diff(oaRole, oaUsers.data);\r\n    setItems(oaUser);\r\n  }, [oaRoles.data.data]);\r\n\r\n  const diff = (arr, arr2) => {\r\n    const ret: any[] = [];\r\n    arr2.map(item1 => {\r\n      arr.map(item => {\r\n        if (item1._id.indexOf(item.userId) > -1) {\r\n          ret.push(item1);\r\n        }\r\n      });\r\n    });\r\n    return ret;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let list: any[] = [];\r\n    oaUsers.data?.map(item => {\r\n      list.push({ key: item._id, value: item.email });\r\n    });\r\n\r\n    const adminList: any[] = [];\r\n    if (items) {\r\n      items.map(item => adminList.push({ id: item._id }));\r\n    }\r\n    list = list.filter(val => {\r\n      return !adminList.some(item => {\r\n        return val.key === item.id;\r\n      });\r\n    });\r\n    setData({ autoCompleteDropdownData: list });\r\n  }, [oaUsers.data, items]);\r\n\r\n  const handleAutoCompleteChange = (value: string) => {\r\n    dispatch(\r\n      updateRoles(authorization, {\r\n        type: 'app',\r\n        userId: value,\r\n        domainId: props.app._id,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-body\">\r\n        <div className=\"autocomplete-users space-bottom-2\">\r\n          <OakAutoComplete\r\n            placeholder=\"Search by user name\"\r\n            handleChange={handleAutoCompleteChange}\r\n            objects={data.autoCompleteDropdownData}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"oaapp-view space-top-2 space-bottom-4\"\r\n          key={oaUsers._id}\r\n        >\r\n          <div className=\"list-view-header typography-5\">\r\n            <div className=\"label\">Email</div>\r\n            <div className=\"label\">Name</div>\r\n            <div className=\"label\" />\r\n          </div>\r\n          {items?.map(item => (\r\n            <Member\r\n              member={item}\r\n              domainId={props.app._id}\r\n              domainType=\"app\"\r\n              key={item._id}\r\n              owner={props.app.createdBy}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton\r\n          action={props.toggleVisibilityHandler}\r\n          theme=\"default\"\r\n          variant=\"appear\"\r\n          align=\"left\"\r\n        >\r\n          <i className=\"material-icons\">close</i>Close\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditAdministrators;\r\n","import React from 'react';\r\nimport './styles/oak-checkbox.scss';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  id: string;\r\n  data: any;\r\n  handleChange: any;\r\n  labelPosition?: 'left' | 'right';\r\n  variant?: 'circle' | 'square';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  disabled?: boolean;\r\n}\r\nfunction OakCheckbox(props: Props) {\r\n  function handleChange(event) {\r\n    props.handleChange(event);\r\n  }\r\n\r\n  function getStyle() {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n    return style;\r\n  }\r\n\r\n  return (\r\n    <div className={`oak-check-box ${getStyle()}`}>\r\n      <div className=\"checkbox-container\">\r\n        {/* {props.label && props.labelPosition === 'left' && <div>\r\n                    {props.label}\r\n                </div>} */}\r\n        {/* <input type=\"checkbox\" name={props.id} value={props.data[props.id]} />\r\n                <span className=\"checkbox-style\"></span> */}\r\n        <label className=\"checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name={props.id}\r\n            checked={props.data[props.id]}\r\n            id={props.id}\r\n            onChange={e => handleChange(e)}\r\n            disabled={props.disabled}\r\n          />\r\n          <label className=\"typography-5\" htmlFor={props.id}>\r\n            {props.label}\r\n          </label>\r\n        </label>\r\n        {/* {props.label && (!props.labelPosition || props.labelPosition === 'right') && <div>\r\n                    {props.label}\r\n                </div>} */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nOakCheckbox.propTypes = {};\r\n\r\nexport default OakCheckbox;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { updateApp } from '../../actions/AppActions';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakCheckbox from '../../oakui/OakCheckbox';\r\n\r\ninterface Props {\r\n  app: any;\r\n  toggleVisibilityHandler: Function;\r\n}\r\n\r\nconst EditApp = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [appData, setAppData] = useState({\r\n    name: '',\r\n    redirect: '',\r\n    protected: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    setAppData(props.app);\r\n  }, [props.app]);\r\n\r\n  const handleChange = event => {\r\n    setAppData({\r\n      ...appData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeCheckbox = event => {\r\n    setAppData({\r\n      ...appData,\r\n      [event.target.name]: event.target.checked,\r\n    });\r\n  };\r\n\r\n  const validateEmptyText = (text, message) => {\r\n    if (isEmptyOrSpaces(text)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message,\r\n        duration: 5000,\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const editSpace = () => {\r\n    if (\r\n      validateEmptyText(appData.name, 'App name cannot be empty') &&\r\n      validateEmptyText(appData.redirect, 'Redirect url cannot be empty')\r\n    ) {\r\n      dispatch(updateApp(authorization, appData));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-body two-column\">\r\n        <OakText\r\n          data={appData}\r\n          id=\"name\"\r\n          label=\"Application Name\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakText\r\n          data={appData}\r\n          id=\"redirect\"\r\n          label=\"Redirect URL\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakText\r\n          data={appData}\r\n          id=\"jwtpassword\"\r\n          label=\"JWT Password\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakCheckbox\r\n          data={appData}\r\n          theme=\"primary\"\r\n          id=\"protected\"\r\n          label=\"Protected application\"\r\n          handleChange={e => handleChangeCheckbox(e)}\r\n        />\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton\r\n          action={props.toggleVisibilityHandler}\r\n          theme=\"default\"\r\n          variant=\"appear\"\r\n          align=\"left\"\r\n        >\r\n          <i className=\"material-icons\">close</i>Cancel\r\n        </OakButton>\r\n        <OakButton\r\n          theme=\"primary\"\r\n          action={editSpace}\r\n          variant=\"regular\"\r\n          align=\"right\"\r\n        >\r\n          <i className=\"material-icons\">double_arrow</i>Update\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditApp;\r\n","import React, { useState, useEffect } from 'react';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakCheckbox from '../../oakui/OakCheckbox';\r\n\r\ninterface Props {\r\n  app: any;\r\n  toggleVisibilityHandler: Function;\r\n}\r\n\r\nconst AppDetails = (props: Props) => {\r\n  const [appData, setAppData] = useState({\r\n    _id: '',\r\n    name: '',\r\n    redirect: '',\r\n    jwtpassword: '',\r\n    protected: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setAppData(props.app);\r\n  }, [props.app]);\r\n\r\n  const handleChange = event => {\r\n    setAppData({\r\n      ...appData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeCheckbox = event => {\r\n    setAppData({\r\n      ...appData,\r\n      [event.target.name]: event.target.checked,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-body two-column\">\r\n        <OakText\r\n          data={appData}\r\n          id=\"_id\"\r\n          label=\"Application Id\"\r\n          disabled\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakText\r\n          data={appData}\r\n          id=\"name\"\r\n          label=\"Application name\"\r\n          disabled\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakText\r\n          data={appData}\r\n          id=\"redirect\"\r\n          label=\"Redirect url\"\r\n          disabled\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakText\r\n          data={appData}\r\n          id=\"jwtpassword\"\r\n          label=\"JWT Password\"\r\n          disabled\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n        <OakCheckbox\r\n          data={appData}\r\n          id=\"protected\"\r\n          label=\"Protected application\"\r\n          theme=\"primary\"\r\n          disabled\r\n          handleChange={e => handleChangeCheckbox(e)}\r\n        />\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton\r\n          action={props.toggleVisibilityHandler}\r\n          theme=\"default\"\r\n          variant=\"appear\"\r\n          align=\"left\"\r\n        >\r\n          <i className=\"material-icons\">close</i>Close\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppDetails;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './mapspace.scss';\r\nimport { deleteAppSpace } from '../../actions/AppSpaceAction';\r\n\r\ninterface Props {\r\n  appSpaceItem: any;\r\n  appId: string;\r\n}\r\n\r\nconst MapSpaceItem = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [confirmPromptOpen, setConfirmPromptOpen] = useState(false);\r\n\r\n  const remove = () => {\r\n    dispatch(\r\n      deleteAppSpace(authorization, props.appSpaceItem.spaceId, props.appId)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"mapspace\" id={props.appSpaceItem._id}>\r\n      <div className=\"title typography-6\">{props.appSpaceItem.spaceId}</div>\r\n      <div className=\"typography-6\">{props.appSpaceItem.name}</div>\r\n      <div className=\"action\">\r\n        {!confirmPromptOpen && (\r\n          <div\r\n            className=\"action-item delete\"\r\n            onClick={() => setConfirmPromptOpen(!confirmPromptOpen)}\r\n          >\r\n            X\r\n          </div>\r\n        )}\r\n        {confirmPromptOpen && (\r\n          <>\r\n            <div\r\n              className=\"action-item cancel\"\r\n              onClick={() => setConfirmPromptOpen(!confirmPromptOpen)}\r\n            >\r\n              Cancel\r\n            </div>\r\n            <div className=\"action-item confirm\" onClick={remove}>\r\n              Confirm\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapSpaceItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OakAutoComplete from '../../oakui/OakAutoComplete';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { updateAppSpace } from '../../actions/AppSpaceAction';\r\nimport MapSpaceItem from './MapSpaceItem';\r\n\r\ninterface Props {\r\n  app: any;\r\n  toggleVisibilityHandler: Function;\r\n}\r\n\r\nconst MapSpace = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const oaSpace = useSelector(state => state.space);\r\n  const appSpace = useSelector(state => state.appSpace);\r\n  const [items, setItems] = useState<undefined | any[]>([{}]);\r\n  const [data, setData] = useState({\r\n    autoCompleteDropdownData: [{}],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const spaceList: any[] = [];\r\n    appSpace.data?.filter(item =>\r\n      item.appId === props.app._id ? spaceList.push({ id: item.spaceId }) : ''\r\n    );\r\n\r\n    const existingSpacelist: any[] = [];\r\n    const availableSpaceList: any[] = [];\r\n    oaSpace?.data.filter(val => {\r\n      return spaceList.some(item => {\r\n        return val.spaceId === item.id;\r\n      })\r\n        ? existingSpacelist.push(val)\r\n        : availableSpaceList.push({ key: val.spaceId, value: val.name });\r\n    });\r\n\r\n    setItems(existingSpacelist);\r\n    setData({ autoCompleteDropdownData: availableSpaceList });\r\n  }, [appSpace.data, oaSpace.data]);\r\n\r\n  const handleAutoCompleteChange = (value: string) => {\r\n    dispatch(\r\n      updateAppSpace(authorization, {\r\n        appId: props.app._id,\r\n        spaceId: value,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-body\">\r\n        <div className=\"autocomplete-space space-bottom-2\">\r\n          <OakAutoComplete\r\n            placeholder=\"Search by space name\"\r\n            handleChange={handleAutoCompleteChange}\r\n            objects={data.autoCompleteDropdownData}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"oaapp-view space-top-2 space-bottom-4\"\r\n          key={oaSpace._id}\r\n        >\r\n          <div className=\"list-view-header typography-5\">\r\n            <div className=\"label\">Name</div>\r\n            <div className=\"label\">SpaceId</div>\r\n            <div className=\"label\" />\r\n          </div>\r\n          {items?.map(item => (\r\n            <MapSpaceItem\r\n              appSpaceItem={item}\r\n              appId={props.app._id}\r\n              key={item._id}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton\r\n          action={props.toggleVisibilityHandler}\r\n          theme=\"default\"\r\n          variant=\"appear\"\r\n          align=\"left\"\r\n        >\r\n          <i className=\"material-icons\">close</i>Close\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MapSpace;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OakPopoverMenu from '../../oakui/OakPopoverMenu';\r\nimport './style.scss';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport EditAdministrators from './EditAdministrators';\r\nimport OakModal from '../../oakui/OakModal';\r\nimport EditApp from './EditApp';\r\nimport { fetchRoles } from '../../actions/OaRoleActions';\r\nimport { deleteApp } from '../../actions/AppActions';\r\nimport AppDetails from './AppDetails';\r\nimport MapSpace from './MapSpace';\r\n\r\nconst appDomain = 'app';\r\nconst roleDomain = 'role';\r\n\r\ninterface Props {\r\n  app: any;\r\n}\r\nconst AppItem = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const oaRoles = useSelector(state => state.oaRoles);\r\n  const appSpace = useSelector(state => state.appSpace);\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\r\n  const [detailsDialogOpen, setDetailsDialogOpen] = useState(false);\r\n  const [adminDialogOpen, setAdminDialogOpen] = useState(false);\r\n  const [spaceMapDialogOpen, setSpaceMapDialogOpen] = useState(false);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [countOfAdmins, setCountofAdmins] = useState<undefined | number>(0);\r\n  const [countOfSpaces, setCountOfSpaces] = useState<undefined | number>(0);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === appDomain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${appDomain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'updated') {\r\n          setEditDialogOpen(false);\r\n        }\r\n        if (message.data.action === 'deleted') {\r\n          setDeleteDialogOpen(false);\r\n        }\r\n      }\r\n      if (message.name === roleDomain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${roleDomain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'updated') {\r\n          setEditDialogOpen(false);\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRoles(authorization));\r\n  }, [authorization]);\r\n\r\n  useEffect(() => {\r\n    const existingAdmins = oaRoles.data.data?.filter(\r\n      item => item.domainId === props.app._id\r\n    );\r\n    setCountofAdmins(existingAdmins?.length);\r\n  }, [oaRoles.data.data]);\r\n\r\n  useEffect(() => {\r\n    const connectedSpace = appSpace.data?.filter(\r\n      item => item.appId === props.app._id\r\n    );\r\n    console.log(connectedSpace.length);\r\n    setCountOfSpaces(connectedSpace.length);\r\n  }, [appSpace.data]);\r\n\r\n  const editApp = () => {\r\n    setEditDialogOpen(true);\r\n  };\r\n\r\n  const appDetails = () => {\r\n    setDetailsDialogOpen(true);\r\n  };\r\n  const editAdmin = () => {\r\n    setAdminDialogOpen(true);\r\n  };\r\n\r\n  const mapSpace = () => {\r\n    setSpaceMapDialogOpen(true);\r\n  };\r\n\r\n  const confirmDeleteApp = () => {\r\n    setDeleteDialogOpen(true);\r\n  };\r\n\r\n  const actionElements = props.app.protected\r\n    ? [\r\n        {\r\n          label: 'Permitted Space',\r\n          action: mapSpace,\r\n          icon: 'edit',\r\n        },\r\n        {\r\n          label: 'Details',\r\n          action: editApp,\r\n          icon: 'edit',\r\n        },\r\n        {\r\n          label: 'Administrators',\r\n          action: editAdmin,\r\n          icon: 'people_alt',\r\n        },\r\n        {\r\n          label: 'Roles',\r\n          action: editAdmin,\r\n          icon: 'vpn_key',\r\n        },\r\n        {\r\n          label: 'Delete App',\r\n          action: confirmDeleteApp,\r\n          icon: 'delete',\r\n        },\r\n      ]\r\n    : [\r\n        {\r\n          label: 'Details',\r\n          action: editApp,\r\n          icon: 'edit',\r\n        },\r\n        {\r\n          label: 'Administrators',\r\n          action: editAdmin,\r\n          icon: 'people_alt',\r\n        },\r\n        {\r\n          label: 'Roles',\r\n          action: editAdmin,\r\n          icon: 'vpn_key',\r\n        },\r\n        {\r\n          label: 'Delete App',\r\n          action: confirmDeleteApp,\r\n          icon: 'delete',\r\n        },\r\n      ];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"oaapp-item\" key={props.app._id}>\r\n        <div className=\"content\">\r\n          <div\r\n            className=\"title typography-8\"\r\n            onClick={appDetails}\r\n          >{`${props.app.name}`}</div>\r\n          <div className=\"redirect typography-6\">{`${props.app.redirect}`}</div>\r\n          <div className=\"statistics typography-4\">\r\n            <div className=\"administrators\" onClick={editAdmin}>\r\n              {countOfAdmins} Administrators\r\n            </div>\r\n            <div>\r\n              {props.app.protected\r\n                ? `${countOfSpaces} Connected Space(s)`\r\n                : `Open App`}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"action space-top-0\">\r\n          <OakPopoverMenu elements={actionElements} theme=\"primary\" right>\r\n            <div slot=\"label\" className=\"action-item\">\r\n              <i className=\"material-icons\">more_horiz</i>\r\n            </div>\r\n          </OakPopoverMenu>\r\n        </div>\r\n\r\n        <OakModal\r\n          label=\"Map Space\"\r\n          visible={spaceMapDialogOpen}\r\n          toggleVisibility={() => setSpaceMapDialogOpen(!spaceMapDialogOpen)}\r\n        >\r\n          <MapSpace\r\n            app={props.app}\r\n            toggleVisibilityHandler={() =>\r\n              setSpaceMapDialogOpen(!spaceMapDialogOpen)\r\n            }\r\n          />\r\n        </OakModal>\r\n\r\n        <OakModal\r\n          label=\"Edit App\"\r\n          visible={editDialogOpen}\r\n          toggleVisibility={() => setEditDialogOpen(!editDialogOpen)}\r\n        >\r\n          <EditApp\r\n            app={props.app}\r\n            toggleVisibilityHandler={() => setEditDialogOpen(!editDialogOpen)}\r\n          />\r\n        </OakModal>\r\n        <OakModal\r\n          label=\"App Details\"\r\n          visible={detailsDialogOpen}\r\n          toggleVisibility={() => setDetailsDialogOpen(!detailsDialogOpen)}\r\n        >\r\n          <AppDetails\r\n            app={props.app}\r\n            toggleVisibilityHandler={() =>\r\n              setDetailsDialogOpen(!detailsDialogOpen)\r\n            }\r\n          />\r\n        </OakModal>\r\n        <OakModal\r\n          label=\"App Administrators\"\r\n          visible={adminDialogOpen}\r\n          toggleVisibility={() => setAdminDialogOpen(!adminDialogOpen)}\r\n        >\r\n          <EditAdministrators\r\n            app={props.app}\r\n            toggleVisibilityHandler={() => setAdminDialogOpen(!adminDialogOpen)}\r\n          />\r\n        </OakModal>\r\n        <OakPrompt\r\n          action={() => dispatch(deleteApp(authorization, props.app.appId))}\r\n          visible={deleteDialogOpen}\r\n          toggleVisibility={() => setDeleteDialogOpen(!deleteDialogOpen)}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './style.scss';\r\nimport Navigation from '../Navigation';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport { createApp } from '../../actions/AppActions';\r\nimport AppItem from './AppItem';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakModal from '../../oakui/OakModal';\r\nimport OakCheckbox from '../../oakui/OakCheckbox';\r\n\r\nconst domain = 'app';\r\n\r\ninterface Props {\r\n  logout: Function;\r\n}\r\nconst ManageApp = (props: Props) => {\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector(state => state.authorization);\r\n  const app = useSelector(state => state.app.data);\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    redirect: '',\r\n    jwtpassword: '',\r\n    protected: false,\r\n  });\r\n  const [searchCriteria, setSearchCriteria] = useState({ text: '' });\r\n  const [view, setView] = useState<Array<any> | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    sendMessage('navbar', true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setView(search(app.data, searchCriteria.text));\r\n  }, [app.data, searchCriteria]);\r\n\r\n  useEffect(() => {\r\n    if (!dialogOpen) {\r\n      setData({\r\n        ...data,\r\n        name: '',\r\n        redirect: '',\r\n        jwtpassword: '',\r\n        protected: false,\r\n      });\r\n    }\r\n  }, [dialogOpen]);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === domain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${domain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'created') {\r\n          setDialogOpen(false);\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  const search = (appList, criteria) => {\r\n    if (isEmptyOrSpaces(criteria)) {\r\n      return appList;\r\n    }\r\n    return appList.filter(\r\n      item => item.name.toLowerCase().indexOf(criteria.toLowerCase()) !== -1\r\n    );\r\n  };\r\n\r\n  const validateEmptyText = (text, message) => {\r\n    if (isEmptyOrSpaces(text)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message,\r\n        duration: 5000,\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const addApp = () => {\r\n    if (\r\n      validateEmptyText(data.name, 'App name can not be empty') &&\r\n      validateEmptyText(data.redirect, 'Redirect url is not provided') &&\r\n      validateEmptyText(data.jwtpassword, 'JWT Password can not be empty')\r\n    ) {\r\n      dispatch(\r\n        createApp(auth, {\r\n          name: data.name,\r\n          redirect: data.redirect,\r\n          jwtpassword: data.jwtpassword,\r\n          protected: data.protected,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({\r\n      ...data,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeCheckbox = event => {\r\n    setData({\r\n      ...data,\r\n      [event.target.name]: event.target.checked,\r\n    });\r\n  };\r\n\r\n  const handleSearchCriteriaChange = event => {\r\n    setSearchCriteria({\r\n      ...searchCriteria,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"app-page manage-app\">\r\n        <div className=\"oaapp-container smooth-page\">\r\n          <div className=\"top-actions\">\r\n            <div className=\"search-bar\">\r\n              <OakText\r\n                label=\"Type to search\"\r\n                handleChange={handleSearchCriteriaChange}\r\n                id=\"text\"\r\n                data={searchCriteria}\r\n              />\r\n            </div>\r\n            <div className=\"create-action\">\r\n              <OakButton\r\n                theme=\"primary\"\r\n                action={() => setDialogOpen(!dialogOpen)}\r\n                variant=\"regular\"\r\n                icon=\"blur_on\"\r\n              >\r\n                New App\r\n              </OakButton>\r\n            </div>\r\n          </div>\r\n          <div className=\"oaapp-list\">\r\n            {view?.map(item => (\r\n              <AppItem app={item} key={item._id} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <OakModal\r\n        label=\"New App\"\r\n        visible={dialogOpen}\r\n        toggleVisibility={() => setDialogOpen(!dialogOpen)}\r\n      >\r\n        <div className=\"modal-body two-column\">\r\n          <OakText\r\n            data={data}\r\n            id=\"name\"\r\n            label=\"Application Name\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={data}\r\n            id=\"redirect\"\r\n            label=\"Redirect url\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakText\r\n            data={data}\r\n            id=\"jwtpassword\"\r\n            label=\"JWT Password\"\r\n            handleChange={e => handleChange(e)}\r\n          />\r\n          <OakCheckbox\r\n            key={data.name}\r\n            data={data.protected}\r\n            id=\"protected\"\r\n            label=\"Protected application\"\r\n            theme=\"primary\"\r\n            variant=\"circle\"\r\n            handleChange={e => handleChangeCheckbox(e)}\r\n          />\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <OakButton\r\n            action={() => setDialogOpen(!dialogOpen)}\r\n            theme=\"default\"\r\n            variant=\"appear\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          <OakButton\r\n            action={addApp}\r\n            theme=\"primary\"\r\n            variant=\"disappear\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Create\r\n          </OakButton>\r\n        </div>\r\n      </OakModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageApp;\r\n","import React, { useEffect } from 'react';\r\nimport './style.scss';\r\nimport Navigation from '../Navigation';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  logout: Function;\r\n}\r\nconst SpaceHome = (props: Props) => {\r\n  useEffect(() => {\r\n    sendMessage('navbar', true);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app-page\">\r\n      <div className=\"app-container\">\r\n        <div className=\"home\">\r\n          <div className=\"typography-10 space-bottom-2\">\r\n            Home page and Landing page\r\n          </div>\r\n          <div className=\"typography-5\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In rutrum\r\n            erat sed elit blandit mattis. Mauris accumsan, nulla ac eleifend\r\n            molestie, magna mi tincidunt odio, et tempor mi nisi eu nunc. Aenean\r\n            et dapibus est, at malesuada ante. Aenean orci eros, euismod\r\n            fermentum nisl vel, scelerisque viverra velit. Fusce ac egestas\r\n            velit. Vestibulum mattis laoreet commodo. Vivamus at laoreet augue.\r\n            Fusce eu suscipit augue, quis rhoncus ipsum. Fusce faucibus justo eu\r\n            diam posuere, quis sollicitudin lacus placerat. Sed a purus congue,\r\n            tincidunt metus ac, interdum elit. Duis fermentum lectus id nisl\r\n            convallis imperdiet. Ut non dui eleifend, posuere dui in, iaculis\r\n            magna. Sed maximus efficitur purus id scelerisque. Proin rutrum ex\r\n            sit amet justo lobortis, ut iaculis nibh aliquet. Morbi pharetra\r\n            risus id ullamcorper vulputate. Nullam at mollis nulla.\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpaceHome;\r\n","import React, { useEffect } from 'react';\r\nimport './style.scss';\r\nimport Navigation from '../../Navigation';\r\nimport { sendMessage } from '../../../events/MessageService';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  logout: Function;\r\n}\r\nconst TestPage = (props: Props) => {\r\n  useEffect(() => {\r\n    sendMessage('navbar', true);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app-page\">\r\n      <div className=\"app-container\">\r\n        <div className=\"home\">\r\n          <div className=\"typography-10 space-bottom-2\">Test page</div>\r\n          <div className=\"typography-5\">\r\n            Test page content here for the space\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TestPage;\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { withCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Home from '../Home';\r\nimport SpaceLogin from '../Login/SpaceLogin';\r\nimport Landing from '../Landing';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\n\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport { httpGet } from '../Lib/RestTemplate';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport Tenant from '../Tenant';\r\nimport constants from '../Constants';\r\nimport OaLogin from '../Login/OaLogin';\r\nimport OakRoute from '../Auth/OakRoute';\r\nimport ManageSpace from '../ManageSpace';\r\nimport ManageApp from '../ManageApp';\r\nimport SpaceHome from '../SpaceHome';\r\nimport TestPage from '../SpacePages/TestPage';\r\n\r\nconst themes = {\r\n  themecolor1: getTheme('#69A7BF'),\r\n  themecolor2: getTheme('#99587B'),\r\n  themecolor3: getTheme('#A66C26'),\r\n  themecolor4: getTheme('#37AE82'),\r\n};\r\n\r\nfunction getTheme(color: string) {\r\n  return createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: color,\r\n      },\r\n      secondary: {\r\n        main: color,\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\ninterface Props {\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n\r\n  // event: PropTypes.object,\r\n  profile: any;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Content = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getProfile();\r\n    props.getAuth();\r\n    props.getAuth();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'session expired') {\r\n        logout(null, 'failure', 'Session expired. Login again');\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  const logout = (\r\n    event: any,\r\n    type = 'success',\r\n    message = 'You have been logged out'\r\n  ) => {\r\n    props.removeAuth();\r\n    props.cookies.remove('oneauth');\r\n    sendMessage('notification', true, {\r\n      type,\r\n      message,\r\n      duration: 3000,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`App ${props.profile.theme} ${props.profile.textSize} ${props.profile.themeColor}`}\r\n    >\r\n      <HashRouter>\r\n        {/* <AuthInit /> */}\r\n        <div className=\"body\">\r\n          <div className=\"body-content\">\r\n            <Notification />\r\n            <MuiThemeProvider theme={themes.themecolor1}>\r\n              <Navigation {...props} logout={logout} />\r\n              <Route\r\n                exact\r\n                path=\"/home\"\r\n                render={propsLocal => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={Home}\r\n                    middleware={['readAuthenticationOa']}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={propsLocal => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={Home}\r\n                    middleware={['readAuthenticationOa']}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/space/:tenant/login\"\r\n                render={(propsLocal: any) => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={SpaceLogin}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/space/:tenant/home\"\r\n                render={(propsLocal: any) => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={SpaceHome}\r\n                    middleware={['readAuthenticationSpace']}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/space/:tenant\"\r\n                render={(propsLocal: any) => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={SpaceHome}\r\n                    middleware={['readAuthenticationSpace']}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/space/:tenant/test\"\r\n                render={(propsLocal: any) => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={TestPage}\r\n                    middleware={['authenticateSpace']}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                render={(propsLocal: any) => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={OaLogin}\r\n                  />\r\n                )}\r\n              />\r\n              {/* <Route\r\n                path=\"/\"\r\n                exact\r\n                render={(propsLocal: any) => (\r\n                  <Home {...propsLocal} {...props} logout={() => logout} />\r\n                )}\r\n              /> */}\r\n              <Route\r\n                path=\"/managespace\"\r\n                exact\r\n                render={propsLocal => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={ManageSpace}\r\n                    middleware={['authenticateOa']}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/manageapp\"\r\n                exact\r\n                render={propsLocal => (\r\n                  <OakRoute\r\n                    {...propsLocal}\r\n                    {...props}\r\n                    logout={() => logout}\r\n                    component={ManageApp}\r\n                    middleware={['authenticateOa']}\r\n                  />\r\n                )}\r\n              />\r\n            </MuiThemeProvider>\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  authorization: state.authorization,\r\n  user: state.user,\r\n  profile: state.profile, // ,\r\n  //   event: state.event\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAuth,\r\n  addAuth,\r\n  removeAuth,\r\n  getProfile,\r\n  setProfile,\r\n})(withCookies(Content));\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nconst App = props => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Content {...props} />\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <CookiesProvider>\r\n    <App />\r\n  </CookiesProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/mirror_white_small.7aed2e38.svg\";"],"sourceRoot":""}